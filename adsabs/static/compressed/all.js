/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(a6,aK){var am,w,aG=typeof aK,l=a6.document,aP=a6.location,bm=a6.jQuery,L=a6.$,ae={},ba=[],s="1.9.1",aM=ba.concat,at=ba.push,a8=ba.slice,aQ=ba.indexOf,D=ae.toString,Z=ae.hasOwnProperty,aU=s.trim,bN=function(e,b7){return new bN.fn.init(e,b7,w)},bE=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ag=/\S+/g,G=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bv=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bl=/^[\],:{}\s]*$/,bo=/(?:^|:|,)(?:\s*\[)+/g,bK=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a3=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bW=/^-ms-/,aZ=/-([\da-z])/gi,Q=function(e,b7){return b7.toUpperCase()},b0=function(e){if(l.addEventListener||e.type==="load"||l.readyState==="complete"){bp();bN.ready()}},bp=function(){if(l.addEventListener){l.removeEventListener("DOMContentLoaded",b0,false);a6.removeEventListener("load",b0,false)}else{l.detachEvent("onreadystatechange",b0);a6.detachEvent("onload",b0)}};bN.fn=bN.prototype={jquery:s,constructor:bN,init:function(e,b9,b8){var b7,ca;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b7=[null,e,null]}else{b7=bv.exec(e)}if(b7&&(b7[1]||!b9)){if(b7[1]){b9=b9 instanceof bN?b9[0]:b9;bN.merge(this,bN.parseHTML(b7[1],b9&&b9.nodeType?b9.ownerDocument||b9:l,true));if(a.test(b7[1])&&bN.isPlainObject(b9)){for(b7 in b9){if(bN.isFunction(this[b7])){this[b7](b9[b7])}else{this.attr(b7,b9[b7])}}}return this}else{ca=l.getElementById(b7[2]);if(ca&&ca.parentNode){if(ca.id!==b7[2]){return b8.find(e)}this.length=1;this[0]=ca}this.context=l;this.selector=e;return this}}else{if(!b9||b9.jquery){return(b9||b8).find(e)}else{return this.constructor(b9).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bN.isFunction(e)){return b8.ready(e)}}}if(e.selector!==aK){this.selector=e.selector;this.context=e.context}return bN.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return a8.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b7=bN.merge(this.constructor(),e);b7.prevObject=this;b7.context=this.context;return b7},each:function(b7,e){return bN.each(this,b7,e)},ready:function(e){bN.ready.promise().done(e);return this},slice:function(){return this.pushStack(a8.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b8){var e=this.length,b7=+b8+(b8<0?e:0);return this.pushStack(b7>=0&&b7<e?[this[b7]]:[])},map:function(e){return this.pushStack(bN.map(this,function(b8,b7){return e.call(b8,b7,b8)}))},end:function(){return this.prevObject||this.constructor(null)},push:at,sort:[].sort,splice:[].splice};bN.fn.init.prototype=bN.fn;bN.extend=bN.fn.extend=function(){var e,cc,b7,b8,cf,cd,cb=arguments[0]||{},ca=1,b9=arguments.length,ce=false;if(typeof cb==="boolean"){ce=cb;cb=arguments[1]||{};ca=2}if(typeof cb!=="object"&&!bN.isFunction(cb)){cb={}}if(b9===ca){cb=this;--ca}for(;ca<b9;ca++){if((cf=arguments[ca])!=null){for(b8 in cf){e=cb[b8];b7=cf[b8];if(cb===b7){continue}if(ce&&b7&&(bN.isPlainObject(b7)||(cc=bN.isArray(b7)))){if(cc){cc=false;cd=e&&bN.isArray(e)?e:[]}else{cd=e&&bN.isPlainObject(e)?e:{}}cb[b8]=bN.extend(ce,cd,b7)}else{if(b7!==aK){cb[b8]=b7}}}}}return cb};bN.extend({noConflict:function(e){if(a6.$===bN){a6.$=L}if(e&&a6.jQuery===bN){a6.jQuery=bm}return bN},isReady:false,readyWait:1,holdReady:function(e){if(e){bN.readyWait++}else{bN.ready(true)}},ready:function(e){if(e===true?--bN.readyWait:bN.isReady){return}if(!l.body){return setTimeout(bN.ready)}bN.isReady=true;if(e!==true&&--bN.readyWait>0){return}am.resolveWith(l,[bN]);if(bN.fn.trigger){bN(l).trigger("ready").off("ready")}},isFunction:function(e){return bN.type(e)==="function"},isArray:Array.isArray||function(e){return bN.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?ae[D.call(e)]||"object":typeof e},isPlainObject:function(b9){if(!b9||bN.type(b9)!=="object"||b9.nodeType||bN.isWindow(b9)){return false}try{if(b9.constructor&&!Z.call(b9,"constructor")&&!Z.call(b9.constructor.prototype,"isPrototypeOf")){return false}}catch(b8){return false}var b7;for(b7 in b9){}return b7===aK||Z.call(b9,b7)},isEmptyObject:function(b7){var e;for(e in b7){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(ca,b8,b9){if(!ca||typeof ca!=="string"){return null}if(typeof b8==="boolean"){b9=b8;b8=false}b8=b8||l;var b7=a.exec(ca),e=!b9&&[];if(b7){return[b8.createElement(b7[1])]}b7=bN.buildFragment([ca],b8,e);if(e){bN(e).remove()}return bN.merge([],b7.childNodes)},parseJSON:function(e){if(a6.JSON&&a6.JSON.parse){return a6.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bN.trim(e);if(e){if(bl.test(e.replace(bK,"@").replace(a3,"]").replace(bo,""))){return(new Function("return "+e))()}}}bN.error("Invalid JSON: "+e)},parseXML:function(b9){var b7,b8;if(!b9||typeof b9!=="string"){return null}try{if(a6.DOMParser){b8=new DOMParser();b7=b8.parseFromString(b9,"text/xml")}else{b7=new ActiveXObject("Microsoft.XMLDOM");b7.async="false";b7.loadXML(b9)}}catch(ca){b7=aK}if(!b7||!b7.documentElement||b7.getElementsByTagName("parsererror").length){bN.error("Invalid XML: "+b9)}return b7},noop:function(){},globalEval:function(e){if(e&&bN.trim(e)){(a6.execScript||function(b7){a6["eval"].call(a6,b7)})(e)}},camelCase:function(e){return e.replace(bW,"ms-").replace(aZ,Q)},nodeName:function(b7,e){return b7.nodeName&&b7.nodeName.toLowerCase()===e.toLowerCase()},each:function(cb,cc,b7){var ca,b8=0,b9=cb.length,e=af(cb);if(b7){if(e){for(;b8<b9;b8++){ca=cc.apply(cb[b8],b7);if(ca===false){break}}}else{for(b8 in cb){ca=cc.apply(cb[b8],b7);if(ca===false){break}}}}else{if(e){for(;b8<b9;b8++){ca=cc.call(cb[b8],b8,cb[b8]);if(ca===false){break}}}else{for(b8 in cb){ca=cc.call(cb[b8],b8,cb[b8]);if(ca===false){break}}}}return cb},trim:aU&&!aU.call("\uFEFF\xA0")?function(e){return e==null?"":aU.call(e)}:function(e){return e==null?"":(e+"").replace(G,"")},makeArray:function(e,b8){var b7=b8||[];if(e!=null){if(af(Object(e))){bN.merge(b7,typeof e==="string"?[e]:e)}else{at.call(b7,e)}}return b7},inArray:function(b9,b7,b8){var e;if(b7){if(aQ){return aQ.call(b7,b9,b8)}e=b7.length;b8=b8?b8<0?Math.max(0,e+b8):b8:0;for(;b8<e;b8++){if(b8 in b7&&b7[b8]===b9){return b8}}}return -1},merge:function(ca,b8){var e=b8.length,b9=ca.length,b7=0;if(typeof e==="number"){for(;b7<e;b7++){ca[b9++]=b8[b7]}}else{while(b8[b7]!==aK){ca[b9++]=b8[b7++]}}ca.length=b9;return ca},grep:function(b7,cc,e){var cb,b8=[],b9=0,ca=b7.length;e=!!e;for(;b9<ca;b9++){cb=!!cc(b7[b9],b9);if(e!==cb){b8.push(b7[b9])}}return b8},map:function(b8,cd,e){var cc,ca=0,cb=b8.length,b7=af(b8),b9=[];if(b7){for(;ca<cb;ca++){cc=cd(b8[ca],ca,e);if(cc!=null){b9[b9.length]=cc}}}else{for(ca in b8){cc=cd(b8[ca],ca,e);if(cc!=null){b9[b9.length]=cc}}}return aM.apply([],b9)},guid:1,proxy:function(ca,b9){var e,b8,b7;if(typeof b9==="string"){b7=ca[b9];b9=ca;ca=b7}if(!bN.isFunction(ca)){return aK}e=a8.call(arguments,2);b8=function(){return ca.apply(b9||this,e.concat(a8.call(arguments)))};b8.guid=ca.guid=ca.guid||bN.guid++;return b8},access:function(e,cb,cd,cc,b9,cf,ce){var b8=0,b7=e.length,ca=cd==null;if(bN.type(cd)==="object"){b9=true;for(b8 in cd){bN.access(e,cb,b8,cd[b8],true,cf,ce)}}else{if(cc!==aK){b9=true;if(!bN.isFunction(cc)){ce=true}if(ca){if(ce){cb.call(e,cc);cb=null}else{ca=cb;cb=function(ch,cg,ci){return ca.call(bN(ch),ci)}}}if(cb){for(;b8<b7;b8++){cb(e[b8],cd,ce?cc:cc.call(e[b8],b8,cb(e[b8],cd)))}}}}return b9?e:ca?cb.call(e):b7?cb(e[0],cd):cf},now:function(){return(new Date()).getTime()}});bN.ready.promise=function(ca){if(!am){am=bN.Deferred();if(l.readyState==="complete"){setTimeout(bN.ready)}else{if(l.addEventListener){l.addEventListener("DOMContentLoaded",b0,false);a6.addEventListener("load",b0,false)}else{l.attachEvent("onreadystatechange",b0);a6.attachEvent("onload",b0);var b9=false;try{b9=a6.frameElement==null&&l.documentElement}catch(b8){}if(b9&&b9.doScroll){(function b7(){if(!bN.isReady){try{b9.doScroll("left")}catch(cb){return setTimeout(b7,50)}bp();bN.ready()}})()}}}}return am.promise(ca)};bN.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b7,e){ae["[object "+e+"]"]=e.toLowerCase()});function af(b8){var b7=b8.length,e=bN.type(b8);if(bN.isWindow(b8)){return false}if(b8.nodeType===1&&b7){return true}return e==="array"||e!=="function"&&(b7===0||typeof b7==="number"&&b7>0&&(b7-1) in b8)}w=bN(l);var b2={};function ai(b7){var e=b2[b7]={};bN.each(b7.match(ag)||[],function(b9,b8){e[b8]=true});return e}bN.Callbacks=function(cg){cg=typeof cg==="string"?(b2[cg]||ai(cg)):bN.extend({},cg);var ca,b9,e,cb,cc,b8,cd=[],ce=!cg.once&&[],b7=function(ch){b9=cg.memory&&ch;e=true;cc=b8||0;b8=0;cb=cd.length;ca=true;for(;cd&&cc<cb;cc++){if(cd[cc].apply(ch[0],ch[1])===false&&cg.stopOnFalse){b9=false;break}}ca=false;if(cd){if(ce){if(ce.length){b7(ce.shift())}}else{if(b9){cd=[]}else{cf.disable()}}}},cf={add:function(){if(cd){var ci=cd.length;(function ch(cj){bN.each(cj,function(cl,ck){var cm=bN.type(ck);if(cm==="function"){if(!cg.unique||!cf.has(ck)){cd.push(ck)}}else{if(ck&&ck.length&&cm!=="string"){ch(ck)}}})})(arguments);if(ca){cb=cd.length}else{if(b9){b8=ci;b7(b9)}}}return this},remove:function(){if(cd){bN.each(arguments,function(cj,ch){var ci;while((ci=bN.inArray(ch,cd,ci))>-1){cd.splice(ci,1);if(ca){if(ci<=cb){cb--}if(ci<=cc){cc--}}}})}return this},has:function(ch){return ch?bN.inArray(ch,cd)>-1:!!(cd&&cd.length)},empty:function(){cd=[];return this},disable:function(){cd=ce=b9=aK;return this},disabled:function(){return !cd},lock:function(){ce=aK;if(!b9){cf.disable()}return this},locked:function(){return !ce},fireWith:function(ci,ch){ch=ch||[];ch=[ci,ch.slice?ch.slice():ch];if(cd&&(!e||ce)){if(ca){ce.push(ch)}else{b7(ch)}}return this},fire:function(){cf.fireWith(this,arguments);return this},fired:function(){return !!e}};return cf};bN.extend({Deferred:function(b8){var b7=[["resolve","done",bN.Callbacks("once memory"),"resolved"],["reject","fail",bN.Callbacks("once memory"),"rejected"],["notify","progress",bN.Callbacks("memory")]],b9="pending",ca={state:function(){return b9},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var cb=arguments;return bN.Deferred(function(cc){bN.each(b7,function(ce,cd){var cg=cd[0],cf=bN.isFunction(cb[ce])&&cb[ce];e[cd[1]](function(){var ch=cf&&cf.apply(this,arguments);if(ch&&bN.isFunction(ch.promise)){ch.promise().done(cc.resolve).fail(cc.reject).progress(cc.notify)}else{cc[cg+"With"](this===ca?cc.promise():this,cf?[ch]:arguments)}})});cb=null}).promise()},promise:function(cb){return cb!=null?bN.extend(cb,ca):ca}},e={};ca.pipe=ca.then;bN.each(b7,function(cc,cb){var ce=cb[2],cd=cb[3];ca[cb[1]]=ce.add;if(cd){ce.add(function(){b9=cd},b7[cc^1][2].disable,b7[2][2].lock)}e[cb[0]]=function(){e[cb[0]+"With"](this===e?ca:this,arguments);return this};e[cb[0]+"With"]=ce.fireWith});ca.promise(e);if(b8){b8.call(e,e)}return e},when:function(ca){var b8=0,cc=a8.call(arguments),e=cc.length,b7=e!==1||(ca&&bN.isFunction(ca.promise))?e:0,cf=b7===1?ca:bN.Deferred(),b9=function(ch,ci,cg){return function(cj){ci[ch]=this;cg[ch]=arguments.length>1?a8.call(arguments):cj;if(cg===ce){cf.notifyWith(ci,cg)}else{if(!(--b7)){cf.resolveWith(ci,cg)}}}},ce,cb,cd;if(e>1){ce=new Array(e);cb=new Array(e);cd=new Array(e);for(;b8<e;b8++){if(cc[b8]&&bN.isFunction(cc[b8].promise)){cc[b8].promise().done(b9(b8,cd,cc)).fail(cf.reject).progress(b9(b8,cb,ce))}else{--b7}}}if(!b7){cf.resolveWith(cd,cc)}return cf.promise()}});bN.support=(function(){var ci,ch,cf,ce,cg,cd,b9,cb,b8,ca,b7=l.createElement("div");b7.setAttribute("className","t");b7.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";ch=b7.getElementsByTagName("*");cf=b7.getElementsByTagName("a")[0];if(!ch||!cf||!ch.length){return{}}cg=l.createElement("select");b9=cg.appendChild(l.createElement("option"));ce=b7.getElementsByTagName("input")[0];cf.style.cssText="top:1px;float:left;opacity:.5";ci={getSetAttribute:b7.className!=="t",leadingWhitespace:b7.firstChild.nodeType===3,tbody:!b7.getElementsByTagName("tbody").length,htmlSerialize:!!b7.getElementsByTagName("link").length,style:/top/.test(cf.getAttribute("style")),hrefNormalized:cf.getAttribute("href")==="/a",opacity:/^0.5/.test(cf.style.opacity),cssFloat:!!cf.style.cssFloat,checkOn:!!ce.value,optSelected:b9.selected,enctype:!!l.createElement("form").enctype,html5Clone:l.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:l.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};ce.checked=true;ci.noCloneChecked=ce.cloneNode(true).checked;cg.disabled=true;ci.optDisabled=!b9.disabled;try{delete b7.test}catch(cc){ci.deleteExpando=false}ce=l.createElement("input");ce.setAttribute("value","");ci.input=ce.getAttribute("value")==="";ce.value="t";ce.setAttribute("type","radio");ci.radioValue=ce.value==="t";ce.setAttribute("checked","t");ce.setAttribute("name","t");cd=l.createDocumentFragment();cd.appendChild(ce);ci.appendChecked=ce.checked;ci.checkClone=cd.cloneNode(true).cloneNode(true).lastChild.checked;if(b7.attachEvent){b7.attachEvent("onclick",function(){ci.noCloneEvent=false});b7.cloneNode(true).click()}for(ca in {submit:true,change:true,focusin:true}){b7.setAttribute(cb="on"+ca,"t");ci[ca+"Bubbles"]=cb in a6||b7.attributes[cb].expando===false}b7.style.backgroundClip="content-box";b7.cloneNode(true).style.backgroundClip="";ci.clearCloneStyle=b7.style.backgroundClip==="content-box";bN(function(){var cj,cm,cl,ck="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=l.getElementsByTagName("body")[0];if(!e){return}cj=l.createElement("div");cj.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cj).appendChild(b7);b7.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cl=b7.getElementsByTagName("td");cl[0].style.cssText="padding:0;margin:0;border:0;display:none";b8=(cl[0].offsetHeight===0);cl[0].style.display="";cl[1].style.display="none";ci.reliableHiddenOffsets=b8&&(cl[0].offsetHeight===0);b7.innerHTML="";b7.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";ci.boxSizing=(b7.offsetWidth===4);ci.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a6.getComputedStyle){ci.pixelPosition=(a6.getComputedStyle(b7,null)||{}).top!=="1%";ci.boxSizingReliable=(a6.getComputedStyle(b7,null)||{width:"4px"}).width==="4px";cm=b7.appendChild(l.createElement("div"));cm.style.cssText=b7.style.cssText=ck;cm.style.marginRight=cm.style.width="0";b7.style.width="1px";ci.reliableMarginRight=!parseFloat((a6.getComputedStyle(cm,null)||{}).marginRight)}if(typeof b7.style.zoom!==aG){b7.innerHTML="";b7.style.cssText=ck+"width:1px;padding:1px;display:inline;zoom:1";ci.inlineBlockNeedsLayout=(b7.offsetWidth===3);b7.style.display="block";b7.innerHTML="<div></div>";b7.firstChild.style.width="5px";ci.shrinkWrapBlocks=(b7.offsetWidth!==3);if(ci.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cj);cj=b7=cl=cm=null});ch=cg=cd=b9=cf=ce=null;return ci})();var bA=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aR=/([A-Z])/g;function be(b9,b7,cb,ca){if(!bN.acceptData(b9)){return}var cc,ce,cf=bN.expando,cd=typeof b7==="string",cg=b9.nodeType,e=cg?bN.cache:b9,b8=cg?b9[cf]:b9[cf]&&cf;if((!b8||!e[b8]||(!ca&&!e[b8].data))&&cd&&cb===aK){return}if(!b8){if(cg){b9[cf]=b8=ba.pop()||bN.guid++}else{b8=cf}}if(!e[b8]){e[b8]={};if(!cg){e[b8].toJSON=bN.noop}}if(typeof b7==="object"||typeof b7==="function"){if(ca){e[b8]=bN.extend(e[b8],b7)}else{e[b8].data=bN.extend(e[b8].data,b7)}}cc=e[b8];if(!ca){if(!cc.data){cc.data={}}cc=cc.data}if(cb!==aK){cc[bN.camelCase(b7)]=cb}if(cd){ce=cc[b7];if(ce==null){ce=cc[bN.camelCase(b7)]}}else{ce=cc}return ce}function ad(b9,b7,ca){if(!bN.acceptData(b9)){return}var cc,cb,cd,ce=b9.nodeType,e=ce?bN.cache:b9,b8=ce?b9[bN.expando]:bN.expando;if(!e[b8]){return}if(b7){cd=ca?e[b8]:e[b8].data;if(cd){if(!bN.isArray(b7)){if(b7 in cd){b7=[b7]}else{b7=bN.camelCase(b7);if(b7 in cd){b7=[b7]}else{b7=b7.split(" ")}}}else{b7=b7.concat(bN.map(b7,bN.camelCase))}for(cc=0,cb=b7.length;cc<cb;cc++){delete cd[b7[cc]]}if(!(ca?R:bN.isEmptyObject)(cd)){return}}}if(!ca){delete e[b8].data;if(!R(e[b8])){return}}if(ce){bN.cleanData([b9],true)}else{if(bN.support.deleteExpando||e!=e.window){delete e[b8]}else{e[b8]=null}}}bN.extend({cache:{},expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bN.cache[e[bN.expando]]:e[bN.expando];return !!e&&!R(e)},data:function(b7,e,b8){return be(b7,e,b8)},removeData:function(b7,e){return ad(b7,e)},_data:function(b7,e,b8){return be(b7,e,b8,true)},_removeData:function(b7,e){return ad(b7,e,true)},acceptData:function(b7){if(b7.nodeType&&b7.nodeType!==1&&b7.nodeType!==9){return false}var e=b7.nodeName&&bN.noData[b7.nodeName.toLowerCase()];return !e||e!==true&&b7.getAttribute("classid")===e}});bN.fn.extend({data:function(b9,cc){var b7,e,ca=this[0],b8=0,cb=null;if(b9===aK){if(this.length){cb=bN.data(ca);if(ca.nodeType===1&&!bN._data(ca,"parsedAttrs")){b7=ca.attributes;for(;b8<b7.length;b8++){e=b7[b8].name;if(!e.indexOf("data-")){e=bN.camelCase(e.slice(5));bC(ca,e,cb[e])}}bN._data(ca,"parsedAttrs",true)}}return cb}if(typeof b9==="object"){return this.each(function(){bN.data(this,b9)})}return bN.access(this,function(cd){if(cd===aK){return ca?bC(ca,b9,bN.data(ca,b9)):null}this.each(function(){bN.data(this,b9,cd)})},null,cc,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){bN.removeData(this,e)})}});function bC(b9,b8,ca){if(ca===aK&&b9.nodeType===1){var b7="data-"+b8.replace(aR,"-$1").toLowerCase();ca=b9.getAttribute(b7);if(typeof ca==="string"){try{ca=ca==="true"?true:ca==="false"?false:ca==="null"?null:+ca+""===ca?+ca:bA.test(ca)?bN.parseJSON(ca):ca}catch(cb){}bN.data(b9,b8,ca)}else{ca=aK}}return ca}function R(b7){var e;for(e in b7){if(e==="data"&&bN.isEmptyObject(b7[e])){continue}if(e!=="toJSON"){return false}}return true}bN.extend({queue:function(b8,b7,b9){var e;if(b8){b7=(b7||"fx")+"queue";e=bN._data(b8,b7);if(b9){if(!e||bN.isArray(b9)){e=bN._data(b8,b7,bN.makeArray(b9))}else{e.push(b9)}}return e||[]}},dequeue:function(cb,ca){ca=ca||"fx";var b7=bN.queue(cb,ca),cc=b7.length,b9=b7.shift(),e=bN._queueHooks(cb,ca),b8=function(){bN.dequeue(cb,ca)};if(b9==="inprogress"){b9=b7.shift();cc--}e.cur=b9;if(b9){if(ca==="fx"){b7.unshift("inprogress")}delete e.stop;b9.call(cb,b8,e)}if(!cc&&e){e.empty.fire()}},_queueHooks:function(b8,b7){var e=b7+"queueHooks";return bN._data(b8,e)||bN._data(b8,e,{empty:bN.Callbacks("once memory").add(function(){bN._removeData(b8,b7+"queue");bN._removeData(b8,e)})})}});bN.fn.extend({queue:function(e,b7){var b8=2;if(typeof e!=="string"){b7=e;e="fx";b8--}if(arguments.length<b8){return bN.queue(this[0],e)}return b7===aK?this:this.each(function(){var b9=bN.queue(this,e,b7);bN._queueHooks(this,e);if(e==="fx"&&b9[0]!=="inprogress"){bN.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bN.dequeue(this,e)})},delay:function(b7,e){b7=bN.fx?bN.fx.speeds[b7]||b7:b7;e=e||"fx";return this.queue(e,function(b9,b8){var ca=setTimeout(b9,b7);b8.stop=function(){clearTimeout(ca)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b8,cc){var b7,b9=1,cd=bN.Deferred(),cb=this,e=this.length,ca=function(){if(!(--b9)){cd.resolveWith(cb,[cb])}};if(typeof b8!=="string"){cc=b8;b8=aK}b8=b8||"fx";while(e--){b7=bN._data(cb[e],b8+"queueHooks");if(b7&&b7.empty){b9++;b7.empty.add(ca)}}ca();return cd.promise(cc)}});var bc,b3,bQ=/[\t\r\n]/g,ao=/\r/g,aJ=/^(?:input|select|textarea|button|object)$/i,H=/^(?:a|area)$/i,P=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,av=/^(?:checked|selected)$/i,bT=bN.support.getSetAttribute,bJ=bN.support.input;bN.fn.extend({attr:function(e,b7){return bN.access(this,bN.attr,e,b7,arguments.length>1)},removeAttr:function(e){return this.each(function(){bN.removeAttr(this,e)})},prop:function(e,b7){return bN.access(this,bN.prop,e,b7,arguments.length>1)},removeProp:function(e){e=bN.propFix[e]||e;return this.each(function(){try{this[e]=aK;delete this[e]}catch(b7){}})},addClass:function(cd){var b7,e,ce,ca,b8,b9=0,cb=this.length,cc=typeof cd==="string"&&cd;if(bN.isFunction(cd)){return this.each(function(cf){bN(this).addClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(ag)||[];for(;b9<cb;b9++){e=this[b9];ce=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bQ," "):" ");if(ce){b8=0;while((ca=b7[b8++])){if(ce.indexOf(" "+ca+" ")<0){ce+=ca+" "}}e.className=bN.trim(ce)}}}return this},removeClass:function(cd){var b7,e,ce,ca,b8,b9=0,cb=this.length,cc=arguments.length===0||typeof cd==="string"&&cd;if(bN.isFunction(cd)){return this.each(function(cf){bN(this).removeClass(cd.call(this,cf,this.className))})}if(cc){b7=(cd||"").match(ag)||[];for(;b9<cb;b9++){e=this[b9];ce=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bQ," "):"");if(ce){b8=0;while((ca=b7[b8++])){while(ce.indexOf(" "+ca+" ")>=0){ce=ce.replace(" "+ca+" "," ")}}e.className=cd?bN.trim(ce):""}}}return this},toggleClass:function(b9,b7){var b8=typeof b9,e=typeof b7==="boolean";if(bN.isFunction(b9)){return this.each(function(ca){bN(this).toggleClass(b9.call(this,ca,this.className,b7),b7)})}return this.each(function(){if(b8==="string"){var cc,cb=0,ca=bN(this),cd=b7,ce=b9.match(ag)||[];while((cc=ce[cb++])){cd=e?cd:!ca.hasClass(cc);ca[cd?"addClass":"removeClass"](cc)}}else{if(b8===aG||b8==="boolean"){if(this.className){bN._data(this,"__className__",this.className)}this.className=this.className||b9===false?"":bN._data(this,"__className__")||""}}})},hasClass:function(e){var b9=" "+e+" ",b8=0,b7=this.length;for(;b8<b7;b8++){if(this[b8].nodeType===1&&(" "+this[b8].className+" ").replace(bQ," ").indexOf(b9)>=0){return true}}return false},val:function(b9){var b7,e,ca,b8=this[0];if(!arguments.length){if(b8){e=bN.valHooks[b8.type]||bN.valHooks[b8.nodeName.toLowerCase()];if(e&&"get" in e&&(b7=e.get(b8,"value"))!==aK){return b7}b7=b8.value;return typeof b7==="string"?b7.replace(ao,""):b7==null?"":b7}return}ca=bN.isFunction(b9);return this.each(function(cc){var cd,cb=bN(this);if(this.nodeType!==1){return}if(ca){cd=b9.call(this,cc,cb.val())}else{cd=b9}if(cd==null){cd=""}else{if(typeof cd==="number"){cd+=""}else{if(bN.isArray(cd)){cd=bN.map(cd,function(ce){return ce==null?"":ce+""})}}}e=bN.valHooks[this.type]||bN.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,cd,"value")===aK){this.value=cd}})}});bN.extend({valHooks:{option:{get:function(e){var b7=e.attributes.value;return !b7||b7.specified?e.value:e.text}},select:{get:function(e){var cc,b8,ce=e.options,ca=e.selectedIndex,b9=e.type==="select-one"||ca<0,cd=b9?null:[],cb=b9?ca+1:ce.length,b7=ca<0?cb:b9?ca:0;for(;b7<cb;b7++){b8=ce[b7];if((b8.selected||b7===ca)&&(bN.support.optDisabled?!b8.disabled:b8.getAttribute("disabled")===null)&&(!b8.parentNode.disabled||!bN.nodeName(b8.parentNode,"optgroup"))){cc=bN(b8).val();if(b9){return cc}cd.push(cc)}}return cd},set:function(b7,b8){var e=bN.makeArray(b8);bN(b7).find("option").each(function(){this.selected=bN.inArray(bN(this).val(),e)>=0});if(!e.length){b7.selectedIndex=-1}return e}}},attr:function(cb,b9,cc){var e,ca,b8,b7=cb.nodeType;if(!cb||b7===3||b7===8||b7===2){return}if(typeof cb.getAttribute===aG){return bN.prop(cb,b9,cc)}ca=b7!==1||!bN.isXMLDoc(cb);if(ca){b9=b9.toLowerCase();e=bN.attrHooks[b9]||(P.test(b9)?b3:bc)}if(cc!==aK){if(cc===null){bN.removeAttr(cb,b9)}else{if(e&&ca&&"set" in e&&(b8=e.set(cb,cc,b9))!==aK){return b8}else{cb.setAttribute(b9,cc+"");return cc}}}else{if(e&&ca&&"get" in e&&(b8=e.get(cb,b9))!==null){return b8}else{if(typeof cb.getAttribute!==aG){b8=cb.getAttribute(b9)}return b8==null?aK:b8}}},removeAttr:function(b8,ca){var e,b9,b7=0,cb=ca&&ca.match(ag);if(cb&&b8.nodeType===1){while((e=cb[b7++])){b9=bN.propFix[e]||e;if(P.test(e)){if(!bT&&av.test(e)){b8[bN.camelCase("default-"+e)]=b8[b9]=false}else{b8[b9]=false}}else{bN.attr(b8,e,"")}b8.removeAttribute(bT?e:b9)}}},attrHooks:{type:{set:function(e,b7){if(!bN.support.radioValue&&b7==="radio"&&bN.nodeName(e,"input")){var b8=e.value;e.setAttribute("type",b7);if(b8){e.value=b8}return b7}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(cb,b9,cc){var b8,e,ca,b7=cb.nodeType;if(!cb||b7===3||b7===8||b7===2){return}ca=b7!==1||!bN.isXMLDoc(cb);if(ca){b9=bN.propFix[b9]||b9;e=bN.propHooks[b9]}if(cc!==aK){if(e&&"set" in e&&(b8=e.set(cb,cc,b9))!==aK){return b8}else{return(cb[b9]=cc)}}else{if(e&&"get" in e&&(b8=e.get(cb,b9))!==null){return b8}else{return cb[b9]}}},propHooks:{tabIndex:{get:function(b7){var e=b7.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aJ.test(b7.nodeName)||H.test(b7.nodeName)&&b7.href?0:aK}}}});b3={get:function(b9,b7){var ca=bN.prop(b9,b7),e=typeof ca==="boolean"&&b9.getAttribute(b7),b8=typeof ca==="boolean"?bJ&&bT?e!=null:av.test(b7)?b9[bN.camelCase("default-"+b7)]:!!e:b9.getAttributeNode(b7);return b8&&b8.value!==false?b7.toLowerCase():aK},set:function(b7,b8,e){if(b8===false){bN.removeAttr(b7,e)}else{if(bJ&&bT||!av.test(e)){b7.setAttribute(!bT&&bN.propFix[e]||e,e)}else{b7[bN.camelCase("default-"+e)]=b7[e]=true}}return e}};if(!bJ||!bT){bN.attrHooks.value={get:function(b8,b7){var e=b8.getAttributeNode(b7);return bN.nodeName(b8,"input")?b8.defaultValue:e&&e.specified?e.value:aK},set:function(b7,b8,e){if(bN.nodeName(b7,"input")){b7.defaultValue=b8}else{return bc&&bc.set(b7,b8,e)}}}}if(!bT){bc=bN.valHooks.button={get:function(b8,b7){var e=b8.getAttributeNode(b7);return e&&(b7==="id"||b7==="name"||b7==="coords"?e.value!=="":e.specified)?e.value:aK},set:function(b8,b9,b7){var e=b8.getAttributeNode(b7);if(!e){b8.setAttributeNode((e=b8.ownerDocument.createAttribute(b7)))}e.value=b9+="";return b7==="value"||b9===b8.getAttribute(b7)?b9:aK}};bN.attrHooks.contenteditable={get:bc.get,set:function(b7,b8,e){bc.set(b7,b8===""?false:b8,e)}};bN.each(["width","height"],function(b7,e){bN.attrHooks[e]=bN.extend(bN.attrHooks[e],{set:function(b8,b9){if(b9===""){b8.setAttribute(e,"auto");return b9}}})})}if(!bN.support.hrefNormalized){bN.each(["href","src","width","height"],function(b7,e){bN.attrHooks[e]=bN.extend(bN.attrHooks[e],{get:function(b9){var b8=b9.getAttribute(e,2);return b8==null?aK:b8}})});bN.each(["href","src"],function(b7,e){bN.propHooks[e]={get:function(b8){return b8.getAttribute(e,4)}}})}if(!bN.support.style){bN.attrHooks.style={get:function(e){return e.style.cssText||aK},set:function(e,b7){return(e.style.cssText=b7+"")}}}if(!bN.support.optSelected){bN.propHooks.selected=bN.extend(bN.propHooks.selected,{get:function(b7){var e=b7.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bN.support.enctype){bN.propFix.enctype="encoding"}if(!bN.support.checkOn){bN.each(["radio","checkbox"],function(){bN.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bN.each(["radio","checkbox"],function(){bN.valHooks[this]=bN.extend(bN.valHooks[this],{set:function(e,b7){if(bN.isArray(b7)){return(e.checked=bN.inArray(bN(e).val(),b7)>=0)}}})});var bL=/^(?:input|select|textarea)$/i,a7=/^key/,bR=/^(?:mouse|contextmenu)|click/,bF=/^(?:focusinfocus|focusoutblur)$/,by=/^([^.]*)(?:\.(.+)|)$/;function V(){return true}function ab(){return false}bN.event={global:{},add:function(ca,cf,ck,cc,cb){var cd,cl,cm,b8,ch,ce,cj,b9,ci,e,b7,cg=bN._data(ca);if(!cg){return}if(ck.handler){b8=ck;ck=b8.handler;cb=b8.selector}if(!ck.guid){ck.guid=bN.guid++}if(!(cl=cg.events)){cl=cg.events={}}if(!(ce=cg.handle)){ce=cg.handle=function(cn){return typeof bN!==aG&&(!cn||bN.event.triggered!==cn.type)?bN.event.dispatch.apply(ce.elem,arguments):aK};ce.elem=ca}cf=(cf||"").match(ag)||[""];cm=cf.length;while(cm--){cd=by.exec(cf[cm])||[];ci=b7=cd[1];e=(cd[2]||"").split(".").sort();ch=bN.event.special[ci]||{};ci=(cb?ch.delegateType:ch.bindType)||ci;ch=bN.event.special[ci]||{};cj=bN.extend({type:ci,origType:b7,data:cc,handler:ck,guid:ck.guid,selector:cb,needsContext:cb&&bN.expr.match.needsContext.test(cb),namespace:e.join(".")},b8);if(!(b9=cl[ci])){b9=cl[ci]=[];b9.delegateCount=0;if(!ch.setup||ch.setup.call(ca,cc,e,ce)===false){if(ca.addEventListener){ca.addEventListener(ci,ce,false)}else{if(ca.attachEvent){ca.attachEvent("on"+ci,ce)}}}}if(ch.add){ch.add.call(ca,cj);if(!cj.handler.guid){cj.handler.guid=ck.guid}}if(cb){b9.splice(b9.delegateCount++,0,cj)}else{b9.push(cj)}bN.event.global[ci]=true}ca=null},remove:function(b9,cf,cm,ca,ce){var cc,cj,cd,cb,cl,ck,ch,b8,ci,e,b7,cg=bN.hasData(b9)&&bN._data(b9);if(!cg||!(ck=cg.events)){return}cf=(cf||"").match(ag)||[""];cl=cf.length;while(cl--){cd=by.exec(cf[cl])||[];ci=b7=cd[1];e=(cd[2]||"").split(".").sort();if(!ci){for(ci in ck){bN.event.remove(b9,ci+cf[cl],cm,ca,true)}continue}ch=bN.event.special[ci]||{};ci=(ca?ch.delegateType:ch.bindType)||ci;b8=ck[ci]||[];cd=cd[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");cb=cc=b8.length;while(cc--){cj=b8[cc];if((ce||b7===cj.origType)&&(!cm||cm.guid===cj.guid)&&(!cd||cd.test(cj.namespace))&&(!ca||ca===cj.selector||ca==="**"&&cj.selector)){b8.splice(cc,1);if(cj.selector){b8.delegateCount--}if(ch.remove){ch.remove.call(b9,cj)}}}if(cb&&!b8.length){if(!ch.teardown||ch.teardown.call(b9,e,cg.handle)===false){bN.removeEvent(b9,ci,cg.handle)}delete ck[ci]}}if(bN.isEmptyObject(ck)){delete cg.handle;bN._removeData(b9,"events")}},trigger:function(b7,ce,ca,cl){var cf,b9,cj,ck,ch,cd,cc,cb=[ca||l],ci=Z.call(b7,"type")?b7.type:b7,b8=Z.call(b7,"namespace")?b7.namespace.split("."):[];cj=cd=ca=ca||l;if(ca.nodeType===3||ca.nodeType===8){return}if(bF.test(ci+bN.event.triggered)){return}if(ci.indexOf(".")>=0){b8=ci.split(".");ci=b8.shift();b8.sort()}b9=ci.indexOf(":")<0&&"on"+ci;b7=b7[bN.expando]?b7:new bN.Event(ci,typeof b7==="object"&&b7);b7.isTrigger=true;b7.namespace=b8.join(".");b7.namespace_re=b7.namespace?new RegExp("(^|\\.)"+b8.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b7.result=aK;if(!b7.target){b7.target=ca}ce=ce==null?[b7]:bN.makeArray(ce,[b7]);ch=bN.event.special[ci]||{};if(!cl&&ch.trigger&&ch.trigger.apply(ca,ce)===false){return}if(!cl&&!ch.noBubble&&!bN.isWindow(ca)){ck=ch.delegateType||ci;if(!bF.test(ck+ci)){cj=cj.parentNode}for(;cj;cj=cj.parentNode){cb.push(cj);cd=cj}if(cd===(ca.ownerDocument||l)){cb.push(cd.defaultView||cd.parentWindow||a6)}}cc=0;while((cj=cb[cc++])&&!b7.isPropagationStopped()){b7.type=cc>1?ck:ch.bindType||ci;cf=(bN._data(cj,"events")||{})[b7.type]&&bN._data(cj,"handle");if(cf){cf.apply(cj,ce)}cf=b9&&cj[b9];if(cf&&bN.acceptData(cj)&&cf.apply&&cf.apply(cj,ce)===false){b7.preventDefault()}}b7.type=ci;if(!cl&&!b7.isDefaultPrevented()){if((!ch._default||ch._default.apply(ca.ownerDocument,ce)===false)&&!(ci==="click"&&bN.nodeName(ca,"a"))&&bN.acceptData(ca)){if(b9&&ca[ci]&&!bN.isWindow(ca)){cd=ca[b9];if(cd){ca[b9]=null}bN.event.triggered=ci;try{ca[ci]()}catch(cg){}bN.event.triggered=aK;if(cd){ca[b9]=cd}}}}return b7.result},dispatch:function(e){e=bN.event.fix(e);var ca,cb,cf,b7,b9,ce=[],cd=a8.call(arguments),b8=(bN._data(this,"events")||{})[e.type]||[],cc=bN.event.special[e.type]||{};cd[0]=e;e.delegateTarget=this;if(cc.preDispatch&&cc.preDispatch.call(this,e)===false){return}ce=bN.event.handlers.call(this,e,b8);ca=0;while((b7=ce[ca++])&&!e.isPropagationStopped()){e.currentTarget=b7.elem;b9=0;while((cf=b7.handlers[b9++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cf.namespace)){e.handleObj=cf;e.data=cf.data;cb=((bN.event.special[cf.origType]||{}).handle||cf.handler).apply(b7.elem,cd);if(cb!==aK){if((e.result=cb)===false){e.preventDefault();e.stopPropagation()}}}}}if(cc.postDispatch){cc.postDispatch.call(this,e)}return e.result},handlers:function(e,b8){var b7,cd,cb,ca,cc=[],b9=b8.delegateCount,ce=e.target;if(b9&&ce.nodeType&&(!e.button||e.type!=="click")){for(;ce!=this;ce=ce.parentNode||this){if(ce.nodeType===1&&(ce.disabled!==true||e.type!=="click")){cb=[];for(ca=0;ca<b9;ca++){cd=b8[ca];b7=cd.selector+" ";if(cb[b7]===aK){cb[b7]=cd.needsContext?bN(b7,this).index(ce)>=0:bN.find(b7,this,null,[ce]).length}if(cb[b7]){cb.push(cd)}}if(cb.length){cc.push({elem:ce,handlers:cb})}}}}if(b9<b8.length){cc.push({elem:this,handlers:b8.slice(b9)})}return cc},fix:function(b9){if(b9[bN.expando]){return b9}var b7,cc,cb,b8=b9.type,e=b9,ca=this.fixHooks[b8];if(!ca){this.fixHooks[b8]=ca=bR.test(b8)?this.mouseHooks:a7.test(b8)?this.keyHooks:{}}cb=ca.props?this.props.concat(ca.props):this.props;b9=new bN.Event(e);b7=cb.length;while(b7--){cc=cb[b7];b9[cc]=e[cc]}if(!b9.target){b9.target=e.srcElement||l}if(b9.target.nodeType===3){b9.target=b9.target.parentNode}b9.metaKey=!!b9.metaKey;return ca.filter?ca.filter(b9,e):b9},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b7,e){if(b7.which==null){b7.which=e.charCode!=null?e.charCode:e.keyCode}return b7}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b9,b8){var e,ca,cb,b7=b8.button,cc=b8.fromElement;if(b9.pageX==null&&b8.clientX!=null){ca=b9.target.ownerDocument||l;cb=ca.documentElement;e=ca.body;b9.pageX=b8.clientX+(cb&&cb.scrollLeft||e&&e.scrollLeft||0)-(cb&&cb.clientLeft||e&&e.clientLeft||0);b9.pageY=b8.clientY+(cb&&cb.scrollTop||e&&e.scrollTop||0)-(cb&&cb.clientTop||e&&e.clientTop||0)}if(!b9.relatedTarget&&cc){b9.relatedTarget=cc===b9.target?b8.toElement:cc}if(!b9.which&&b7!==aK){b9.which=(b7&1?1:(b7&2?3:(b7&4?2:0)))}return b9}},special:{load:{noBubble:true},click:{trigger:function(){if(bN.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==l.activeElement&&this.focus){try{this.focus();return false}catch(b7){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===l.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==aK){e.originalEvent.returnValue=e.result}}}},simulate:function(b8,ca,b9,b7){var cb=bN.extend(new bN.Event(),b9,{type:b8,isSimulated:true,originalEvent:{}});if(b7){bN.event.trigger(cb,null,ca)}else{bN.event.dispatch.call(ca,cb)}if(cb.isDefaultPrevented()){b9.preventDefault()}}};bN.removeEvent=l.removeEventListener?function(b7,e,b8){if(b7.removeEventListener){b7.removeEventListener(e,b8,false)}}:function(b8,b7,b9){var e="on"+b7;if(b8.detachEvent){if(typeof b8[e]===aG){b8[e]=null}b8.detachEvent(e,b9)}};bN.Event=function(b7,e){if(!(this instanceof bN.Event)){return new bN.Event(b7,e)}if(b7&&b7.type){this.originalEvent=b7;this.type=b7.type;this.isDefaultPrevented=(b7.defaultPrevented||b7.returnValue===false||b7.getPreventDefault&&b7.getPreventDefault())?V:ab}else{this.type=b7}if(e){bN.extend(this,e)}this.timeStamp=b7&&b7.timeStamp||bN.now();this[bN.expando]=true};bN.Event.prototype={isDefaultPrevented:ab,isPropagationStopped:ab,isImmediatePropagationStopped:ab,preventDefault:function(){var b7=this.originalEvent;this.isDefaultPrevented=V;if(!b7){return}if(b7.preventDefault){b7.preventDefault()}else{b7.returnValue=false}},stopPropagation:function(){var b7=this.originalEvent;this.isPropagationStopped=V;if(!b7){return}if(b7.stopPropagation){b7.stopPropagation()}b7.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=V;this.stopPropagation()}};bN.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b7,e){bN.event.special[b7]={delegateType:e,bindType:e,handle:function(ca){var b8,cc=this,cb=ca.relatedTarget,b9=ca.handleObj;if(!cb||(cb!==cc&&!bN.contains(cc,cb))){ca.type=b9.origType;b8=b9.handler.apply(this,arguments);ca.type=e}return b8}}});if(!bN.support.submitBubbles){bN.event.special.submit={setup:function(){if(bN.nodeName(this,"form")){return false}bN.event.add(this,"click._submit keypress._submit",function(b9){var b8=b9.target,b7=bN.nodeName(b8,"input")||bN.nodeName(b8,"button")?b8.form:aK;if(b7&&!bN._data(b7,"submitBubbles")){bN.event.add(b7,"submit._submit",function(e){e._submit_bubble=true});bN._data(b7,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bN.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bN.nodeName(this,"form")){return false}bN.event.remove(this,"._submit")}}}if(!bN.support.changeBubbles){bN.event.special.change={setup:function(){if(bL.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bN.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bN.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bN.event.simulate("change",this,e,true)})}return false}bN.event.add(this,"beforeactivate._change",function(b8){var b7=b8.target;if(bL.test(b7.nodeName)&&!bN._data(b7,"changeBubbles")){bN.event.add(b7,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bN.event.simulate("change",this.parentNode,e,true)}});bN._data(b7,"changeBubbles",true)}})},handle:function(b7){var e=b7.target;if(this!==e||b7.isSimulated||b7.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b7.handleObj.handler.apply(this,arguments)}},teardown:function(){bN.event.remove(this,"._change");return !bL.test(this.nodeName)}}}if(!bN.support.focusinBubbles){bN.each({focus:"focusin",blur:"focusout"},function(b9,e){var b7=0,b8=function(ca){bN.event.simulate(e,ca.target,bN.event.fix(ca),true)};bN.event.special[e]={setup:function(){if(b7++===0){l.addEventListener(b9,b8,true)}},teardown:function(){if(--b7===0){l.removeEventListener(b9,b8,true)}}}})}bN.fn.extend({on:function(b8,e,cb,ca,b7){var b9,cc;if(typeof b8==="object"){if(typeof e!=="string"){cb=cb||e;e=aK}for(b9 in b8){this.on(b9,e,cb,b8[b9],b7)}return this}if(cb==null&&ca==null){ca=e;cb=e=aK}else{if(ca==null){if(typeof e==="string"){ca=cb;cb=aK}else{ca=cb;cb=e;e=aK}}}if(ca===false){ca=ab}else{if(!ca){return this}}if(b7===1){cc=ca;ca=function(cd){bN().off(cd);return cc.apply(this,arguments)};ca.guid=cc.guid||(cc.guid=bN.guid++)}return this.each(function(){bN.event.add(this,b8,ca,cb,e)})},one:function(b7,e,b9,b8){return this.on(b7,e,b9,b8,1)},off:function(b8,e,ca){var b7,b9;if(b8&&b8.preventDefault&&b8.handleObj){b7=b8.handleObj;bN(b8.delegateTarget).off(b7.namespace?b7.origType+"."+b7.namespace:b7.origType,b7.selector,b7.handler);return this}if(typeof b8==="object"){for(b9 in b8){this.off(b9,e,b8[b9])}return this}if(e===false||typeof e==="function"){ca=e;e=aK}if(ca===false){ca=ab}return this.each(function(){bN.event.remove(this,b8,ca,e)})},bind:function(e,b8,b7){return this.on(e,null,b8,b7)},unbind:function(e,b7){return this.off(e,null,b7)},delegate:function(e,b7,b9,b8){return this.on(b7,e,b9,b8)},undelegate:function(e,b7,b8){return arguments.length===1?this.off(e,"**"):this.off(b7,e||"**",b8)},trigger:function(e,b7){return this.each(function(){bN.event.trigger(e,b7,this)})},triggerHandler:function(e,b8){var b7=this[0];if(b7){return bN.event.trigger(e,b8,b7,true)}}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(de,cl){var cB,cf,cr,cL,cN,cW,cX,dk,cZ,cF,cs,ch,c3,df,ce,cJ,cH,c9="sizzle"+-(new Date()),cM=de.document,dh={},di=0,c4=0,b9=cD(),c8=cD(),cK=cD(),dd=typeof cl,cR=1<<31,db=[],dc=db.pop,b8=db.push,cq=db.slice,cd=db.indexOf||function(dm){var dl=0,e=this.length;for(;dl<e;dl++){if(this[dl]===dm){return dl}}return -1},ct="[\\x20\\t\\r\\n\\f]",b7="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cO=b7.replace("w","w#"),cm="([*^$|!~]?=)",c6="\\["+ct+"*("+b7+")"+ct+"*(?:"+cm+ct+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cO+")|)|)"+ct+"*\\]",co=":("+b7+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c6.replace(3,8)+")*)|.*)\\)|)",cv=new RegExp("^"+ct+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ct+"+$","g"),cy=new RegExp("^"+ct+"*,"+ct+"*"),cE=new RegExp("^"+ct+"*([\\x20\\t\\r\\n\\f>+~])"+ct+"*"),cT=new RegExp(co),cU=new RegExp("^"+cO+"$"),c2={ID:new RegExp("^#("+b7+")"),CLASS:new RegExp("^\\.("+b7+")"),NAME:new RegExp("^\\[name=['\"]?("+b7+")['\"]?\\]"),TAG:new RegExp("^("+b7.replace("w","w*")+")"),ATTR:new RegExp("^"+c6),PSEUDO:new RegExp("^"+co),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ct+"*(even|odd|(([+-]|)(\\d*)n|)"+ct+"*(?:([+-]|)"+ct+"*(\\d+)|))"+ct+"*\\)|)","i"),needsContext:new RegExp("^"+ct+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ct+"*((?:-\\d)?\\d*)"+ct+"*\\)|)(?=[^-]|$)","i")},c0=/[\x20\t\r\n\f]*[+~]/,cQ=/^[^{]+\{\s*\[native code/,cS=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cc=/^(?:input|select|textarea|button)$/i,cp=/^h\d$/i,cP=/'|\\/g,cx=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,cw=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c5=function(e,dm){var dl="0x"+dm-65536;return dl!==dl?dm:dl<0?String.fromCharCode(dl+65536):String.fromCharCode(dl>>10|55296,dl&1023|56320)};try{cq.call(cM.documentElement.childNodes,0)[0].nodeType}catch(cG){cq=function(dl){var dm,e=[];while((dm=this[dl++])){e.push(dm)}return e}}function cI(e){return cQ.test(e+"")}function cD(){var e,dl=[];return(e=function(dm,dn){if(dl.push(dm+=" ")>cr.cacheLength){delete e[dl.shift()]}return(e[dm]=dn)})}function cn(e){e[c9]=true;return e}function cg(dl){var dn=cF.createElement("div");try{return dl(dn)}catch(dm){return false}finally{dn=null}}function cz(dt,dl,dx,dz){var dy,dq,dr,dv,dw,dp,dn,e,dm,du;if((dl?dl.ownerDocument||dl:cM)!==cF){cZ(dl)}dl=dl||cF;dx=dx||[];if(!dt||typeof dt!=="string"){return dx}if((dv=dl.nodeType)!==1&&dv!==9){return[]}if(!ch&&!dz){if((dy=cS.exec(dt))){if((dr=dy[1])){if(dv===9){dq=dl.getElementById(dr);if(dq&&dq.parentNode){if(dq.id===dr){dx.push(dq);return dx}}else{return dx}}else{if(dl.ownerDocument&&(dq=dl.ownerDocument.getElementById(dr))&&cJ(dl,dq)&&dq.id===dr){dx.push(dq);return dx}}}else{if(dy[2]){b8.apply(dx,cq.call(dl.getElementsByTagName(dt),0));return dx}else{if((dr=dy[3])&&dh.getByClassName&&dl.getElementsByClassName){b8.apply(dx,cq.call(dl.getElementsByClassName(dr),0));return dx}}}}if(dh.qsa&&!c3.test(dt)){dn=true;e=c9;dm=dl;du=dv===9&&dt;if(dv===1&&dl.nodeName.toLowerCase()!=="object"){dp=cj(dt);if((dn=dl.getAttribute("id"))){e=dn.replace(cP,"\\$&")}else{dl.setAttribute("id",e)}e="[id='"+e+"'] ";dw=dp.length;while(dw--){dp[dw]=e+ck(dp[dw])}dm=c0.test(dt)&&dl.parentNode||dl;du=dp.join(",")}if(du){try{b8.apply(dx,cq.call(dm.querySelectorAll(du),0));return dx}catch(ds){}finally{if(!dn){dl.removeAttribute("id")}}}}}return dg(dt.replace(cv,"$1"),dl,dx,dz)}cN=cz.isXML=function(e){var dl=e&&(e.ownerDocument||e).documentElement;return dl?dl.nodeName!=="HTML":false};cZ=cz.setDocument=function(e){var dl=e?e.ownerDocument||e:cM;if(dl===cF||dl.nodeType!==9||!dl.documentElement){return cF}cF=dl;cs=dl.documentElement;ch=cN(dl);dh.tagNameNoComments=cg(function(dm){dm.appendChild(dl.createComment(""));return !dm.getElementsByTagName("*").length});dh.attributes=cg(function(dn){dn.innerHTML="<select></select>";var dm=typeof dn.lastChild.getAttribute("multiple");return dm!=="boolean"&&dm!=="string"});dh.getByClassName=cg(function(dm){dm.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!dm.getElementsByClassName||!dm.getElementsByClassName("e").length){return false}dm.lastChild.className="e";return dm.getElementsByClassName("e").length===2});dh.getByName=cg(function(dn){dn.id=c9+0;dn.innerHTML="<a name='"+c9+"'></a><div name='"+c9+"'></div>";cs.insertBefore(dn,cs.firstChild);var dm=dl.getElementsByName&&dl.getElementsByName(c9).length===2+dl.getElementsByName(c9+0).length;dh.getIdNotName=!dl.getElementById(c9);cs.removeChild(dn);return dm});cr.attrHandle=cg(function(dm){dm.innerHTML="<a href='#'></a>";return dm.firstChild&&typeof dm.firstChild.getAttribute!==dd&&dm.firstChild.getAttribute("href")==="#"})?{}:{href:function(dm){return dm.getAttribute("href",2)},type:function(dm){return dm.getAttribute("type")}};if(dh.getIdNotName){cr.find.ID=function(dp,dn){if(typeof dn.getElementById!==dd&&!ch){var dm=dn.getElementById(dp);return dm&&dm.parentNode?[dm]:[]}};cr.filter.ID=function(dn){var dm=dn.replace(cw,c5);return function(dp){return dp.getAttribute("id")===dm}}}else{cr.find.ID=function(dp,dn){if(typeof dn.getElementById!==dd&&!ch){var dm=dn.getElementById(dp);return dm?dm.id===dp||typeof dm.getAttributeNode!==dd&&dm.getAttributeNode("id").value===dp?[dm]:cl:[]}};cr.filter.ID=function(dn){var dm=dn.replace(cw,c5);return function(dq){var dp=typeof dq.getAttributeNode!==dd&&dq.getAttributeNode("id");return dp&&dp.value===dm}}}cr.find.TAG=dh.tagNameNoComments?function(dm,dn){if(typeof dn.getElementsByTagName!==dd){return dn.getElementsByTagName(dm)}}:function(dm,dr){var ds,dq=[],dp=0,dn=dr.getElementsByTagName(dm);if(dm==="*"){while((ds=dn[dp++])){if(ds.nodeType===1){dq.push(ds)}}return dq}return dn};cr.find.NAME=dh.getByName&&function(dm,dn){if(typeof dn.getElementsByName!==dd){return dn.getElementsByName(name)}};cr.find.CLASS=dh.getByClassName&&function(dn,dm){if(typeof dm.getElementsByClassName!==dd&&!ch){return dm.getElementsByClassName(dn)}};df=[];c3=[":focus"];if((dh.qsa=cI(dl.querySelectorAll))){cg(function(dm){dm.innerHTML="<select><option selected=''></option></select>";if(!dm.querySelectorAll("[selected]").length){c3.push("\\["+ct+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dm.querySelectorAll(":checked").length){c3.push(":checked")}});cg(function(dm){dm.innerHTML="<input type='hidden' i=''/>";if(dm.querySelectorAll("[i^='']").length){c3.push("[*^$]="+ct+"*(?:\"\"|'')")}if(!dm.querySelectorAll(":enabled").length){c3.push(":enabled",":disabled")}dm.querySelectorAll("*,:x");c3.push(",.*:")})}if((dh.matchesSelector=cI((ce=cs.matchesSelector||cs.mozMatchesSelector||cs.webkitMatchesSelector||cs.oMatchesSelector||cs.msMatchesSelector)))){cg(function(dm){dh.disconnectedMatch=ce.call(dm,"div");ce.call(dm,"[s!='']:x");df.push("!=",co)})}c3=new RegExp(c3.join("|"));df=new RegExp(df.join("|"));cJ=cI(cs.contains)||cs.compareDocumentPosition?function(dn,dm){var dq=dn.nodeType===9?dn.documentElement:dn,dp=dm&&dm.parentNode;return dn===dp||!!(dp&&dp.nodeType===1&&(dq.contains?dq.contains(dp):dn.compareDocumentPosition&&dn.compareDocumentPosition(dp)&16))}:function(dn,dm){if(dm){while((dm=dm.parentNode)){if(dm===dn){return true}}}return false};cH=cs.compareDocumentPosition?function(dn,dm){var dp;if(dn===dm){cX=true;return 0}if((dp=dm.compareDocumentPosition&&dn.compareDocumentPosition&&dn.compareDocumentPosition(dm))){if(dp&1||dn.parentNode&&dn.parentNode.nodeType===11){if(dn===dl||cJ(cM,dn)){return -1}if(dm===dl||cJ(cM,dm)){return 1}return 0}return dp&4?-1:1}return dn.compareDocumentPosition?-1:1}:function(dn,dm){var du,dr=0,dt=dn.parentNode,dq=dm.parentNode,dp=[dn],ds=[dm];if(dn===dm){cX=true;return 0}else{if(!dt||!dq){return dn===dl?-1:dm===dl?1:dt?-1:dq?1:0}else{if(dt===dq){return ca(dn,dm)}}}du=dn;while((du=du.parentNode)){dp.unshift(du)}du=dm;while((du=du.parentNode)){ds.unshift(du)}while(dp[dr]===ds[dr]){dr++}return dr?ca(dp[dr],ds[dr]):dp[dr]===cM?-1:ds[dr]===cM?1:0};cX=false;[0,0].sort(cH);dh.detectDuplicates=cX;return cF};cz.matches=function(dl,e){return cz(dl,null,null,e)};cz.matchesSelector=function(dm,dp){if((dm.ownerDocument||dm)!==cF){cZ(dm)}dp=dp.replace(cx,"='$1']");if(dh.matchesSelector&&!ch&&(!df||!df.test(dp))&&!c3.test(dp)){try{var dl=ce.call(dm,dp);if(dl||dh.disconnectedMatch||dm.document&&dm.document.nodeType!==11){return dl}}catch(dn){}}return cz(dp,cF,null,[dm]).length>0};cz.contains=function(e,dl){if((e.ownerDocument||e)!==cF){cZ(e)}return cJ(e,dl)};cz.attr=function(dl,e){var dm;if((dl.ownerDocument||dl)!==cF){cZ(dl)}if(!ch){e=e.toLowerCase()}if((dm=cr.attrHandle[e])){return dm(dl)}if(ch||dh.attributes){return dl.getAttribute(e)}return((dm=dl.getAttributeNode(e))||dl.getAttribute(e))&&dl[e]===true?e:dm&&dm.specified?dm.value:null};cz.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cz.uniqueSort=function(dm){var dn,dp=[],dl=1,e=0;cX=!dh.detectDuplicates;dm.sort(cH);if(cX){for(;(dn=dm[dl]);dl++){if(dn===dm[dl-1]){e=dp.push(dl)}}while(e--){dm.splice(dp[e],1)}}return dm};function ca(dl,e){var dn=e&&dl,dm=dn&&(~e.sourceIndex||cR)-(~dl.sourceIndex||cR);if(dm){return dm}if(dn){while((dn=dn.nextSibling)){if(dn===e){return -1}}}return dl?1:-1}function cA(e){return function(dm){var dl=dm.nodeName.toLowerCase();return dl==="input"&&dm.type===e}}function cb(e){return function(dm){var dl=dm.nodeName.toLowerCase();return(dl==="input"||dl==="button")&&dm.type===e}}function c7(e){return cn(function(dl){dl=+dl;return cn(function(dm,dr){var dp,dn=e([],dm.length,dl),dq=dn.length;while(dq--){if(dm[(dp=dn[dq])]){dm[dp]=!(dr[dp]=dm[dp])}}})})}cL=cz.getText=function(dp){var dn,dl="",dm=0,e=dp.nodeType;if(!e){for(;(dn=dp[dm]);dm++){dl+=cL(dn)}}else{if(e===1||e===9||e===11){if(typeof dp.textContent==="string"){return dp.textContent}else{for(dp=dp.firstChild;dp;dp=dp.nextSibling){dl+=cL(dp)}}}else{if(e===3||e===4){return dp.nodeValue}}}return dl};cr=cz.selectors={cacheLength:50,createPseudo:cn,match:c2,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cw,c5);e[3]=(e[4]||e[5]||"").replace(cw,c5);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cz.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cz.error(e[0])}}return e},PSEUDO:function(dl){var e,dm=!dl[5]&&dl[2];if(c2.CHILD.test(dl[0])){return null}if(dl[4]){dl[2]=dl[4]}else{if(dm&&cT.test(dm)&&(e=cj(dm,true))&&(e=dm.indexOf(")",dm.length-e)-dm.length)){dl[0]=dl[0].slice(0,e);dl[2]=dm.slice(0,e)}}return dl.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cw,c5).toLowerCase();return function(dl){return dl.nodeName&&dl.nodeName.toLowerCase()===e}},CLASS:function(e){var dl=b9[e+" "];return dl||(dl=new RegExp("(^|"+ct+")"+e+"("+ct+"|$)"))&&b9(e,function(dm){return dl.test(dm.className||(typeof dm.getAttribute!==dd&&dm.getAttribute("class"))||"")})},ATTR:function(dm,dl,e){return function(dp){var dn=cz.attr(dp,dm);if(dn==null){return dl==="!="}if(!dl){return true}dn+="";return dl==="="?dn===e:dl==="!="?dn!==e:dl==="^="?e&&dn.indexOf(e)===0:dl==="*="?e&&dn.indexOf(e)>-1:dl==="$="?e&&dn.slice(-e.length)===e:dl==="~="?(" "+dn+" ").indexOf(e)>-1:dl==="|="?dn===e||dn.slice(0,e.length+1)===e+"-":false}},CHILD:function(dl,dp,dn,dq,dm){var ds=dl.slice(0,3)!=="nth",e=dl.slice(-4)!=="last",dr=dp==="of-type";return dq===1&&dm===0?function(dt){return !!dt.parentNode}:function(dz,dx,dC){var dt,dF,dA,dE,dB,dw,dy=ds!==e?"nextSibling":"previousSibling",dD=dz.parentNode,dv=dr&&dz.nodeName.toLowerCase(),du=!dC&&!dr;if(dD){if(ds){while(dy){dA=dz;while((dA=dA[dy])){if(dr?dA.nodeName.toLowerCase()===dv:dA.nodeType===1){return false}}dw=dy=dl==="only"&&!dw&&"nextSibling"}return true}dw=[e?dD.firstChild:dD.lastChild];if(e&&du){dF=dD[c9]||(dD[c9]={});dt=dF[dl]||[];dB=dt[0]===di&&dt[1];dE=dt[0]===di&&dt[2];dA=dB&&dD.childNodes[dB];while((dA=++dB&&dA&&dA[dy]||(dE=dB=0)||dw.pop())){if(dA.nodeType===1&&++dE&&dA===dz){dF[dl]=[di,dB,dE];break}}}else{if(du&&(dt=(dz[c9]||(dz[c9]={}))[dl])&&dt[0]===di){dE=dt[1]}else{while((dA=++dB&&dA&&dA[dy]||(dE=dB=0)||dw.pop())){if((dr?dA.nodeName.toLowerCase()===dv:dA.nodeType===1)&&++dE){if(du){(dA[c9]||(dA[c9]={}))[dl]=[di,dE]}if(dA===dz){break}}}}}dE-=dm;return dE===dq||(dE%dq===0&&dE/dq>=0)}}},PSEUDO:function(dn,dm){var e,dl=cr.pseudos[dn]||cr.setFilters[dn.toLowerCase()]||cz.error("unsupported pseudo: "+dn);if(dl[c9]){return dl(dm)}if(dl.length>1){e=[dn,dn,"",dm];return cr.setFilters.hasOwnProperty(dn.toLowerCase())?cn(function(dr,dt){var dq,dp=dl(dr,dm),ds=dp.length;while(ds--){dq=cd.call(dr,dp[ds]);dr[dq]=!(dt[dq]=dp[ds])}}):function(dp){return dl(dp,0,e)}}return dl}},pseudos:{not:cn(function(e){var dl=[],dm=[],dn=cW(e.replace(cv,"$1"));return dn[c9]?cn(function(dq,dv,dt,dr){var du,dp=dn(dq,null,dr,[]),ds=dq.length;while(ds--){if((du=dp[ds])){dq[ds]=!(dv[ds]=du)}}}):function(dr,dq,dp){dl[0]=dr;dn(dl,null,dp,dm);return !dm.pop()}}),has:cn(function(e){return function(dl){return cz(e,dl).length>0}}),contains:cn(function(e){return function(dl){return(dl.textContent||dl.innerText||cL(dl)).indexOf(e)>-1}}),lang:cn(function(e){if(!cU.test(e||"")){cz.error("unsupported lang: "+e)}e=e.replace(cw,c5).toLowerCase();return function(dm){var dl;do{if((dl=ch?dm.getAttribute("xml:lang")||dm.getAttribute("lang"):dm.lang)){dl=dl.toLowerCase();return dl===e||dl.indexOf(e+"-")===0}}while((dm=dm.parentNode)&&dm.nodeType===1);return false}}),target:function(e){var dl=de.location&&de.location.hash;return dl&&dl.slice(1)===e.id},root:function(e){return e===cs},focus:function(e){return e===cF.activeElement&&(!cF.hasFocus||cF.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var dl=e.nodeName.toLowerCase();return(dl==="input"&&!!e.checked)||(dl==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !cr.pseudos.empty(e)},header:function(e){return cp.test(e.nodeName)},input:function(e){return cc.test(e.nodeName)},button:function(dl){var e=dl.nodeName.toLowerCase();return e==="input"&&dl.type==="button"||e==="button"},text:function(dl){var e;return dl.nodeName.toLowerCase()==="input"&&dl.type==="text"&&((e=dl.getAttribute("type"))==null||e.toLowerCase()===dl.type)},first:c7(function(){return[0]}),last:c7(function(e,dl){return[dl-1]}),eq:c7(function(e,dm,dl){return[dl<0?dl+dm:dl]}),even:c7(function(e,dm){var dl=0;for(;dl<dm;dl+=2){e.push(dl)}return e}),odd:c7(function(e,dm){var dl=1;for(;dl<dm;dl+=2){e.push(dl)}return e}),lt:c7(function(e,dn,dm){var dl=dm<0?dm+dn:dm;for(;--dl>=0;){e.push(dl)}return e}),gt:c7(function(e,dn,dm){var dl=dm<0?dm+dn:dm;for(;++dl<dn;){e.push(dl)}return e})}};for(cB in {radio:true,checkbox:true,file:true,password:true,image:true}){cr.pseudos[cB]=cA(cB)}for(cB in {submit:true,reset:true}){cr.pseudos[cB]=cb(cB)}function cj(dp,du){var dl,dq,ds,dt,dr,dm,e,dn=c8[dp+" "];if(dn){return du?0:dn.slice(0)}dr=dp;dm=[];e=cr.preFilter;while(dr){if(!dl||(dq=cy.exec(dr))){if(dq){dr=dr.slice(dq[0].length)||dr}dm.push(ds=[])}dl=false;if((dq=cE.exec(dr))){dl=dq.shift();ds.push({value:dl,type:dq[0].replace(cv," ")});dr=dr.slice(dl.length)}for(dt in cr.filter){if((dq=c2[dt].exec(dr))&&(!e[dt]||(dq=e[dt](dq)))){dl=dq.shift();ds.push({value:dl,type:dt,matches:dq});dr=dr.slice(dl.length)}}if(!dl){break}}return du?dr.length:dr?cz.error(dp):c8(dp,dm).slice(0)}function ck(dn){var dm=0,dl=dn.length,e="";for(;dm<dl;dm++){e+=dn[dm].value}return e}function cu(dp,dm,dn){var e=dm.dir,dq=dn&&e==="parentNode",dl=c4++;return dm.first?function(dt,ds,dr){while((dt=dt[e])){if(dt.nodeType===1||dq){return dp(dt,ds,dr)}}}:function(dv,dt,ds){var dx,dr,du,dw=di+" "+dl;if(ds){while((dv=dv[e])){if(dv.nodeType===1||dq){if(dp(dv,dt,ds)){return true}}}}else{while((dv=dv[e])){if(dv.nodeType===1||dq){du=dv[c9]||(dv[c9]={});if((dr=du[e])&&dr[0]===dw){if((dx=dr[1])===true||dx===cf){return dx===true}}else{dr=du[e]=[dw];dr[1]=dp(dv,dt,ds)||cf;if(dr[1]===true){return true}}}}}}}function dj(e){return e.length>1?function(dp,dn,dl){var dm=e.length;while(dm--){if(!e[dm](dp,dn,dl)){return false}}return true}:e[0]}function c1(e,dl,dm,dn,dr){var dp,du=[],dq=0,ds=e.length,dt=dl!=null;for(;dq<ds;dq++){if((dp=e[dq])){if(!dm||dm(dp,dn,dr)){du.push(dp);if(dt){dl.push(dq)}}}}return du}function ci(dm,dl,dp,dn,dq,e){if(dn&&!dn[c9]){dn=ci(dn)}if(dq&&!dq[c9]){dq=ci(dq,e)}return cn(function(dB,dy,dt,dA){var dD,dz,dv,du=[],dC=[],ds=dy.length,dr=dB||cC(dl||"*",dt.nodeType?[dt]:dt,[]),dw=dm&&(dB||!dl)?c1(dr,du,dm,dt,dA):dr,dx=dp?dq||(dB?dm:ds||dn)?[]:dy:dw;if(dp){dp(dw,dx,dt,dA)}if(dn){dD=c1(dx,dC);dn(dD,[],dt,dA);dz=dD.length;while(dz--){if((dv=dD[dz])){dx[dC[dz]]=!(dw[dC[dz]]=dv)}}}if(dB){if(dq||dm){if(dq){dD=[];dz=dx.length;while(dz--){if((dv=dx[dz])){dD.push((dw[dz]=dv))}}dq(null,(dx=[]),dD,dA)}dz=dx.length;while(dz--){if((dv=dx[dz])&&(dD=dq?cd.call(dB,dv):du[dz])>-1){dB[dD]=!(dy[dD]=dv)}}}}else{dx=c1(dx===dy?dx.splice(ds,dx.length):dx);if(dq){dq(null,dy,dx,dA)}else{b8.apply(dy,dx)}}})}function da(dr){var dl,dp,dm,dq=dr.length,du=cr.relative[dr[0].type],dv=du||cr.relative[" "],dn=du?1:0,ds=cu(function(dw){return dw===dl},dv,true),dt=cu(function(dw){return cd.call(dl,dw)>-1},dv,true),e=[function(dy,dx,dw){return(!du&&(dw||dx!==dk))||((dl=dx).nodeType?ds(dy,dx,dw):dt(dy,dx,dw))}];for(;dn<dq;dn++){if((dp=cr.relative[dr[dn].type])){e=[cu(dj(e),dp)]}else{dp=cr.filter[dr[dn].type].apply(null,dr[dn].matches);if(dp[c9]){dm=++dn;for(;dm<dq;dm++){if(cr.relative[dr[dm].type]){break}}return ci(dn>1&&dj(e),dn>1&&ck(dr.slice(0,dn-1)).replace(cv,"$1"),dp,dn<dm&&da(dr.slice(dn,dm)),dm<dq&&da((dr=dr.slice(dm))),dm<dq&&ck(dr))}e.push(dp)}}return dj(e)}function cY(dn,dm){var dq=0,e=dm.length>0,dp=dn.length>0,dl=function(dA,du,dz,dy,dG){var dv,dw,dB,dF=[],dE=0,dx="0",dr=dA&&[],dC=dG!=null,dD=dk,dt=dA||dp&&cr.find.TAG("*",dG&&du.parentNode||du),ds=(di+=dD==null?1:Math.random()||0.1);if(dC){dk=du!==cF&&du;cf=dq}for(;(dv=dt[dx])!=null;dx++){if(dp&&dv){dw=0;while((dB=dn[dw++])){if(dB(dv,du,dz)){dy.push(dv);break}}if(dC){di=ds;cf=++dq}}if(e){if((dv=!dB&&dv)){dE--}if(dA){dr.push(dv)}}}dE+=dx;if(e&&dx!==dE){dw=0;while((dB=dm[dw++])){dB(dr,dF,du,dz)}if(dA){if(dE>0){while(dx--){if(!(dr[dx]||dF[dx])){dF[dx]=dc.call(dy)}}}dF=c1(dF)}b8.apply(dy,dF);if(dC&&!dA&&dF.length>0&&(dE+dm.length)>1){cz.uniqueSort(dy)}}if(dC){di=ds;dk=dD}return dr};return e?cn(dl):dl}cW=cz.compile=function(e,dq){var dm,dl=[],dp=[],dn=cK[e+" "];if(!dn){if(!dq){dq=cj(e)}dm=dq.length;while(dm--){dn=da(dq[dm]);if(dn[c9]){dl.push(dn)}else{dp.push(dn)}}dn=cK(e,cY(dp,dl))}return dn};function cC(dl,dp,dn){var dm=0,e=dp.length;for(;dm<e;dm++){cz(dl,dp[dm],dn)}return dn}function dg(dm,e,dn,dr){var dp,dt,dl,du,ds,dq=cj(dm);if(!dr){if(dq.length===1){dt=dq[0]=dq[0].slice(0);if(dt.length>2&&(dl=dt[0]).type==="ID"&&e.nodeType===9&&!ch&&cr.relative[dt[1].type]){e=cr.find.ID(dl.matches[0].replace(cw,c5),e)[0];if(!e){return dn}dm=dm.slice(dt.shift().value.length)}dp=c2.needsContext.test(dm)?0:dt.length;while(dp--){dl=dt[dp];if(cr.relative[(du=dl.type)]){break}if((ds=cr.find[du])){if((dr=ds(dl.matches[0].replace(cw,c5),c0.test(dt[0].type)&&e.parentNode||e))){dt.splice(dp,1);dm=dr.length&&ck(dt);if(!dm){b8.apply(dn,cq.call(dr,0));return dn}break}}}}}cW(dm,dq)(dr,e,ch,dn,c0.test(dm));return dn}cr.pseudos.nth=cr.pseudos.eq;function cV(){}cr.filters=cV.prototype=cr.pseudos;cr.setFilters=new cV();cZ();cz.attr=bN.attr;bN.find=cz;bN.expr=cz.selectors;bN.expr[":"]=bN.expr.pseudos;bN.unique=cz.uniqueSort;bN.text=cz.getText;bN.isXMLDoc=cz.isXML;bN.contains=cz.contains})(a6);var an=/Until$/,bx=/^(?:parents|prev(?:Until|All))/,ar=/^.[^:#\[\.,]*$/,C=bN.expr.match.needsContext,bB={children:true,contents:true,next:true,prev:true};bN.fn.extend({find:function(b7){var ca,b9,b8,e=this.length;if(typeof b7!=="string"){b8=this;return this.pushStack(bN(b7).filter(function(){for(ca=0;ca<e;ca++){if(bN.contains(b8[ca],this)){return true}}}))}b9=[];for(ca=0;ca<e;ca++){bN.find(b7,this[ca],b9)}b9=this.pushStack(e>1?bN.unique(b9):b9);b9.selector=(this.selector?this.selector+" ":"")+b7;return b9},has:function(b9){var b8,b7=bN(b9,this),e=b7.length;return this.filter(function(){for(b8=0;b8<e;b8++){if(bN.contains(this,b7[b8])){return true}}})},not:function(e){return this.pushStack(aS(this,e,false))},filter:function(e){return this.pushStack(aS(this,e,true))},is:function(e){return !!e&&(typeof e==="string"?C.test(e)?bN(e,this.context).index(this[0])>=0:bN.filter(e,this).length>0:this.filter(e).length>0)},closest:function(ca,b9){var cb,b8=0,e=this.length,b7=[],cc=C.test(ca)||typeof ca!=="string"?bN(ca,b9||this.context):0;for(;b8<e;b8++){cb=this[b8];while(cb&&cb.ownerDocument&&cb!==b9&&cb.nodeType!==11){if(cc?cc.index(cb)>-1:bN.find.matchesSelector(cb,ca)){b7.push(cb);break}cb=cb.parentNode}}return this.pushStack(b7.length>1?bN.unique(b7):b7)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bN.inArray(this[0],bN(e))}return bN.inArray(e.jquery?e[0]:e,this)},add:function(e,b7){var b9=typeof e==="string"?bN(e,b7):bN.makeArray(e&&e.nodeType?[e]:e),b8=bN.merge(this.get(),b9);return this.pushStack(bN.unique(b8))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bN.fn.andSelf=bN.fn.addBack;function a1(b7,e){do{b7=b7[e]}while(b7&&b7.nodeType!==1);return b7}bN.each({parent:function(b7){var e=b7.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bN.dir(e,"parentNode")},parentsUntil:function(b7,e,b8){return bN.dir(b7,"parentNode",b8)},next:function(e){return a1(e,"nextSibling")},prev:function(e){return a1(e,"previousSibling")},nextAll:function(e){return bN.dir(e,"nextSibling")},prevAll:function(e){return bN.dir(e,"previousSibling")},nextUntil:function(b7,e,b8){return bN.dir(b7,"nextSibling",b8)},prevUntil:function(b7,e,b8){return bN.dir(b7,"previousSibling",b8)},siblings:function(e){return bN.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bN.sibling(e.firstChild)},contents:function(e){return bN.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bN.merge([],e.childNodes)}},function(e,b7){bN.fn[e]=function(ca,b8){var b9=bN.map(this,b7,ca);if(!an.test(e)){b8=ca}if(b8&&typeof b8==="string"){b9=bN.filter(b8,b9)}b9=this.length>1&&!bB[e]?bN.unique(b9):b9;if(this.length>1&&bx.test(e)){b9=b9.reverse()}return this.pushStack(b9)}});bN.extend({filter:function(b8,e,b7){if(b7){b8=":not("+b8+")"}return e.length===1?bN.find.matchesSelector(e[0],b8)?[e[0]]:[]:bN.find.matches(b8,e)},dir:function(b8,b7,ca){var e=[],b9=b8[b7];while(b9&&b9.nodeType!==9&&(ca===aK||b9.nodeType!==1||!bN(b9).is(ca))){if(b9.nodeType===1){e.push(b9)}b9=b9[b7]}return e},sibling:function(b8,b7){var e=[];for(;b8;b8=b8.nextSibling){if(b8.nodeType===1&&b8!==b7){e.push(b8)}}return e}});function aS(b9,b8,e){b8=b8||0;if(bN.isFunction(b8)){return bN.grep(b9,function(cb,ca){var cc=!!b8.call(cb,ca,cb);return cc===e})}else{if(b8.nodeType){return bN.grep(b9,function(ca){return(ca===b8)===e})}else{if(typeof b8==="string"){var b7=bN.grep(b9,function(ca){return ca.nodeType===1});if(ar.test(b8)){return bN.filter(b8,b7,!e)}else{b8=bN.filter(b8,b7)}}}}return bN.grep(b9,function(ca){return(bN.inArray(ca,b8)>=0)===e})}function E(e){var b8=d.split("|"),b7=e.createDocumentFragment();if(b7.createElement){while(b8.length){b7.createElement(b8.pop())}}return b7}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aE=/ jQuery\d+="(?:null|\d+)"/g,N=new RegExp("<(?:"+d+")[\\s/>]","i"),b6=/^\s+/,aH=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,m=/<([\w:]+)/,b1=/<tbody/i,M=/<|&#?\w+;/,ap=/<(?:script|style|link)/i,q=/^(?:checkbox|radio)$/i,bY=/checked\s*(?:[^=]|=\s*.checked.)/i,bD=/^$|\/(?:java|ecma)script/i,aw=/^true\/(.*)/,aO=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,X={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bN.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aW=E(l),j=aW.appendChild(l.createElement("div"));X.optgroup=X.option;X.tbody=X.tfoot=X.colgroup=X.caption=X.thead;X.th=X.td;bN.fn.extend({text:function(e){return bN.access(this,function(b7){return b7===aK?bN.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(b7))},null,e,arguments.length)},wrapAll:function(e){if(bN.isFunction(e)){return this.each(function(b8){bN(this).wrapAll(e.call(this,b8))})}if(this[0]){var b7=bN(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b7.insertBefore(this[0])}b7.map(function(){var b8=this;while(b8.firstChild&&b8.firstChild.nodeType===1){b8=b8.firstChild}return b8}).append(this)}return this},wrapInner:function(e){if(bN.isFunction(e)){return this.each(function(b7){bN(this).wrapInner(e.call(this,b7))})}return this.each(function(){var b7=bN(this),b8=b7.contents();if(b8.length){b8.wrapAll(e)}else{b7.append(e)}})},wrap:function(e){var b7=bN.isFunction(e);return this.each(function(b8){bN(this).wrapAll(b7?e.call(this,b8):e)})},unwrap:function(){return this.parent().each(function(){if(!bN.nodeName(this,"body")){bN(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b9){var b8,b7=0;for(;(b8=this[b7])!=null;b7++){if(!e||bN.filter(e,[b8]).length>0){if(!b9&&b8.nodeType===1){bN.cleanData(k(b8))}if(b8.parentNode){if(b9&&bN.contains(b8.ownerDocument,b8)){bw(k(b8,"script"))}b8.parentNode.removeChild(b8)}}}return this},empty:function(){var b7,e=0;for(;(b7=this[e])!=null;e++){if(b7.nodeType===1){bN.cleanData(k(b7,false))}while(b7.firstChild){b7.removeChild(b7.firstChild)}if(b7.options&&bN.nodeName(b7,"select")){b7.options.length=0}}return this},clone:function(b7,e){b7=b7==null?false:b7;e=e==null?b7:e;return this.map(function(){return bN.clone(this,b7,e)})},html:function(e){return bN.access(this,function(ca){var b9=this[0]||{},b8=0,b7=this.length;if(ca===aK){return b9.nodeType===1?b9.innerHTML.replace(aE,""):aK}if(typeof ca==="string"&&!ap.test(ca)&&(bN.support.htmlSerialize||!N.test(ca))&&(bN.support.leadingWhitespace||!b6.test(ca))&&!X[(m.exec(ca)||["",""])[1].toLowerCase()]){ca=ca.replace(aH,"<$1></$2>");try{for(;b8<b7;b8++){b9=this[b8]||{};if(b9.nodeType===1){bN.cleanData(k(b9,false));b9.innerHTML=ca}}b9=0}catch(cb){}}if(b9){this.empty().append(ca)}},null,e,arguments.length)},replaceWith:function(b7){var e=bN.isFunction(b7);if(!e&&typeof b7!=="string"){b7=bN(b7).not(this).detach()}return this.domManip([b7],true,function(ca){var b9=this.nextSibling,b8=this.parentNode;if(b8){bN(this).remove();b8.insertBefore(ca,b9)}})},detach:function(e){return this.remove(e,true)},domManip:function(ce,ck,cj){ce=aM.apply([],ce);var cc,b8,e,ca,ch,cd,cb=0,b9=this.length,cg=this,ci=b9-1,cf=ce[0],b7=bN.isFunction(cf);if(b7||!(b9<=1||typeof cf!=="string"||bN.support.checkClone||!bY.test(cf))){return this.each(function(cm){var cl=cg.eq(cm);if(b7){ce[0]=cf.call(this,cm,ck?cl.html():aK)}cl.domManip(ce,ck,cj)})}if(b9){cd=bN.buildFragment(ce,this[0].ownerDocument,false,this);cc=cd.firstChild;if(cd.childNodes.length===1){cd=cc}if(cc){ck=ck&&bN.nodeName(cc,"tr");ca=bN.map(k(cd,"script"),t);e=ca.length;for(;cb<b9;cb++){b8=cd;if(cb!==ci){b8=bN.clone(b8,true,true);if(e){bN.merge(ca,k(b8,"script"))}}cj.call(ck&&bN.nodeName(this[cb],"table")?B(this[cb],"tbody"):this[cb],b8,cb)}if(e){ch=ca[ca.length-1].ownerDocument;bN.map(ca,bg);for(cb=0;cb<e;cb++){b8=ca[cb];if(bD.test(b8.type||"")&&!bN._data(b8,"globalEval")&&bN.contains(ch,b8)){if(b8.src){bN.ajax({url:b8.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bN.globalEval((b8.text||b8.textContent||b8.innerHTML||"").replace(aO,""))}}}}cd=cc=null}}return this}});function B(b7,e){return b7.getElementsByTagName(e)[0]||b7.appendChild(b7.ownerDocument.createElement(e))}function t(b7){var e=b7.getAttributeNode("type");b7.type=(e&&e.specified)+"/"+b7.type;return b7}function bg(b7){var e=aw.exec(b7.type);if(e){b7.type=e[1]}else{b7.removeAttribute("type")}return b7}function bw(e,b8){var b9,b7=0;for(;(b9=e[b7])!=null;b7++){bN._data(b9,"globalEval",!b8||bN._data(b8[b7],"globalEval"))}}function ax(cd,b7){if(b7.nodeType!==1||!bN.hasData(cd)){return}var ca,b9,e,cc=bN._data(cd),cb=bN._data(b7,cc),b8=cc.events;if(b8){delete cb.handle;cb.events={};for(ca in b8){for(b9=0,e=b8[ca].length;b9<e;b9++){bN.event.add(b7,ca,b8[ca][b9])}}}if(cb.data){cb.data=bN.extend({},cb.data)}}function U(ca,b7){var cb,b9,b8;if(b7.nodeType!==1){return}cb=b7.nodeName.toLowerCase();if(!bN.support.noCloneEvent&&b7[bN.expando]){b8=bN._data(b7);for(b9 in b8.events){bN.removeEvent(b7,b9,b8.handle)}b7.removeAttribute(bN.expando)}if(cb==="script"&&b7.text!==ca.text){t(b7).text=ca.text;bg(b7)}else{if(cb==="object"){if(b7.parentNode){b7.outerHTML=ca.outerHTML}if(bN.support.html5Clone&&(ca.innerHTML&&!bN.trim(b7.innerHTML))){b7.innerHTML=ca.innerHTML}}else{if(cb==="input"&&q.test(ca.type)){b7.defaultChecked=b7.checked=ca.checked;if(b7.value!==ca.value){b7.value=ca.value}}else{if(cb==="option"){b7.defaultSelected=b7.selected=ca.defaultSelected}else{if(cb==="input"||cb==="textarea"){b7.defaultValue=ca.defaultValue}}}}}}bN.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b7){bN.fn[e]=function(b8){var b9,cb=0,ca=[],cd=bN(b8),cc=cd.length-1;for(;cb<=cc;cb++){b9=cb===cc?this:this.clone(true);bN(cd[cb])[b7](b9);at.apply(ca,b9.get())}return this.pushStack(ca)}});function k(b9,e){var b7,ca,b8=0,cb=typeof b9.getElementsByTagName!==aG?b9.getElementsByTagName(e||"*"):typeof b9.querySelectorAll!==aG?b9.querySelectorAll(e||"*"):aK;if(!cb){for(cb=[],b7=b9.childNodes||b9;(ca=b7[b8])!=null;b8++){if(!e||bN.nodeName(ca,e)){cb.push(ca)}else{bN.merge(cb,k(ca,e))}}}return e===aK||e&&bN.nodeName(b9,e)?bN.merge([b9],cb):cb}function bZ(e){if(q.test(e.type)){e.defaultChecked=e.checked}}bN.extend({clone:function(b7,b9,e){var cb,b8,ce,ca,cc,cd=bN.contains(b7.ownerDocument,b7);if(bN.support.html5Clone||bN.isXMLDoc(b7)||!N.test("<"+b7.nodeName+">")){ce=b7.cloneNode(true)}else{j.innerHTML=b7.outerHTML;j.removeChild(ce=j.firstChild)}if((!bN.support.noCloneEvent||!bN.support.noCloneChecked)&&(b7.nodeType===1||b7.nodeType===11)&&!bN.isXMLDoc(b7)){cb=k(ce);cc=k(b7);for(ca=0;(b8=cc[ca])!=null;++ca){if(cb[ca]){U(b8,cb[ca])}}}if(b9){if(e){cc=cc||k(b7);cb=cb||k(ce);for(ca=0;(b8=cc[ca])!=null;ca++){ax(b8,cb[ca])}}else{ax(b7,ce)}}cb=k(ce,"script");if(cb.length>0){bw(cb,!cd&&k(b7,"script"))}cb=cc=b8=null;return ce},buildFragment:function(b7,b9,ce,cj){var cf,cb,cd,ci,ck,ch,b8,cc=b7.length,ca=E(b9),e=[],cg=0;for(;cg<cc;cg++){cb=b7[cg];if(cb||cb===0){if(bN.type(cb)==="object"){bN.merge(e,cb.nodeType?[cb]:cb)}else{if(!M.test(cb)){e.push(b9.createTextNode(cb))}else{ci=ci||ca.appendChild(b9.createElement("div"));ck=(m.exec(cb)||["",""])[1].toLowerCase();b8=X[ck]||X._default;ci.innerHTML=b8[1]+cb.replace(aH,"<$1></$2>")+b8[2];cf=b8[0];while(cf--){ci=ci.lastChild}if(!bN.support.leadingWhitespace&&b6.test(cb)){e.push(b9.createTextNode(b6.exec(cb)[0]))}if(!bN.support.tbody){cb=ck==="table"&&!b1.test(cb)?ci.firstChild:b8[1]==="<table>"&&!b1.test(cb)?ci:0;cf=cb&&cb.childNodes.length;while(cf--){if(bN.nodeName((ch=cb.childNodes[cf]),"tbody")&&!ch.childNodes.length){cb.removeChild(ch)}}}bN.merge(e,ci.childNodes);ci.textContent="";while(ci.firstChild){ci.removeChild(ci.firstChild)}ci=ca.lastChild}}}}if(ci){ca.removeChild(ci)}if(!bN.support.appendChecked){bN.grep(k(e,"input"),bZ)}cg=0;while((cb=e[cg++])){if(cj&&bN.inArray(cb,cj)!==-1){continue}cd=bN.contains(cb.ownerDocument,cb);ci=k(ca.appendChild(cb),"script");if(cd){bw(ci)}if(ce){cf=0;while((cb=ci[cf++])){if(bD.test(cb.type||"")){ce.push(cb)}}}}ci=null;return ca},cleanData:function(b7,cf){var b9,ce,b8,ca,cb=0,cg=bN.expando,e=bN.cache,cc=bN.support.deleteExpando,cd=bN.event.special;for(;(b9=b7[cb])!=null;cb++){if(cf||bN.acceptData(b9)){b8=b9[cg];ca=b8&&e[b8];if(ca){if(ca.events){for(ce in ca.events){if(cd[ce]){bN.event.remove(b9,ce)}else{bN.removeEvent(b9,ce,ca.handle)}}}if(e[b8]){delete e[b8];if(cc){delete b9[cg]}else{if(typeof b9.removeAttribute!==aG){b9.removeAttribute(cg)}else{b9[cg]=null}}ba.push(b8)}}}}}});var aI,bs,I,bk=/alpha\([^)]*\)/i,aX=/opacity\s*=\s*([^)]*)/,br=/^(top|right|bottom|left)$/,J=/^(none|table(?!-c[ea]).+)/,a2=/^margin/,bd=new RegExp("^("+bE+")(.*)$","i"),aa=new RegExp("^("+bE+")(?!px)[a-z%]+$","i"),W=new RegExp("^([+-])=("+bE+")","i"),bn={BODY:"block"},bf={position:"absolute",visibility:"hidden",display:"block"},bG={letterSpacing:0,fontWeight:400},bX=["Top","Right","Bottom","Left"],az=["Webkit","O","Moz","ms"];function b(b9,b7){if(b7 in b9){return b7}var ca=b7.charAt(0).toUpperCase()+b7.slice(1),e=b7,b8=az.length;while(b8--){b7=az[b8]+ca;if(b7 in b9){return b7}}return e}function T(b7,e){b7=e||b7;return bN.css(b7,"display")==="none"||!bN.contains(b7.ownerDocument,b7)}function p(cc,e){var cd,ca,cb,b7=[],b8=0,b9=cc.length;for(;b8<b9;b8++){ca=cc[b8];if(!ca.style){continue}b7[b8]=bN._data(ca,"olddisplay");cd=ca.style.display;if(e){if(!b7[b8]&&cd==="none"){ca.style.display=""}if(ca.style.display===""&&T(ca)){b7[b8]=bN._data(ca,"olddisplay",bI(ca.nodeName))}}else{if(!b7[b8]){cb=T(ca);if(cd&&cd!=="none"||!cb){bN._data(ca,"olddisplay",cb?cd:bN.css(ca,"display"))}}}}for(b8=0;b8<b9;b8++){ca=cc[b8];if(!ca.style){continue}if(!e||ca.style.display==="none"||ca.style.display===""){ca.style.display=e?b7[b8]||"":"none"}}return cc}bN.fn.extend({css:function(e,b7){return bN.access(this,function(cc,b9,cd){var b8,cb,ce={},ca=0;if(bN.isArray(b9)){cb=bs(cc);b8=b9.length;for(;ca<b8;ca++){ce[b9[ca]]=bN.css(cc,b9[ca],false,cb)}return ce}return cd!==aK?bN.style(cc,b9,cd):bN.css(cc,b9)},e,b7,arguments.length>1)},show:function(){return p(this,true)},hide:function(){return p(this)},toggle:function(b7){var e=typeof b7==="boolean";return this.each(function(){if(e?b7:T(this)){bN(this).show()}else{bN(this).hide()}})}});bN.extend({cssHooks:{opacity:{get:function(b8,b7){if(b7){var e=I(b8,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bN.support.cssFloat?"cssFloat":"styleFloat"},style:function(b9,b8,cf,ca){if(!b9||b9.nodeType===3||b9.nodeType===8||!b9.style){return}var cd,ce,cg,cb=bN.camelCase(b8),b7=b9.style;b8=bN.cssProps[cb]||(bN.cssProps[cb]=b(b7,cb));cg=bN.cssHooks[b8]||bN.cssHooks[cb];if(cf!==aK){ce=typeof cf;if(ce==="string"&&(cd=W.exec(cf))){cf=(cd[1]+1)*cd[2]+parseFloat(bN.css(b9,b8));ce="number"}if(cf==null||ce==="number"&&isNaN(cf)){return}if(ce==="number"&&!bN.cssNumber[cb]){cf+="px"}if(!bN.support.clearCloneStyle&&cf===""&&b8.indexOf("background")===0){b7[b8]="inherit"}if(!cg||!("set" in cg)||(cf=cg.set(b9,cf,ca))!==aK){try{b7[b8]=cf}catch(cc){}}}else{if(cg&&"get" in cg&&(cd=cg.get(b9,false,ca))!==aK){return cd}return b7[b8]}},css:function(cc,ca,b7,cb){var b9,cd,e,b8=bN.camelCase(ca);ca=bN.cssProps[b8]||(bN.cssProps[b8]=b(cc.style,b8));e=bN.cssHooks[ca]||bN.cssHooks[b8];if(e&&"get" in e){cd=e.get(cc,true,b7)}if(cd===aK){cd=I(cc,ca,cb)}if(cd==="normal"&&ca in bG){cd=bG[ca]}if(b7===""||b7){b9=parseFloat(cd);return b7===true||bN.isNumeric(b9)?b9||0:cd}return cd},swap:function(cb,ca,cc,b9){var b8,b7,e={};for(b7 in ca){e[b7]=cb.style[b7];cb.style[b7]=ca[b7]}b8=cc.apply(cb,b9||[]);for(b7 in ca){cb.style[b7]=e[b7]}return b8}});if(a6.getComputedStyle){bs=function(e){return a6.getComputedStyle(e,null)};I=function(ca,b8,cc){var b9,b7,ce,cb=cc||bs(ca),cd=cb?cb.getPropertyValue(b8)||cb[b8]:aK,e=ca.style;if(cb){if(cd===""&&!bN.contains(ca.ownerDocument,ca)){cd=bN.style(ca,b8)}if(aa.test(cd)&&a2.test(b8)){b9=e.width;b7=e.minWidth;ce=e.maxWidth;e.minWidth=e.maxWidth=e.width=cd;cd=cb.width;e.width=b9;e.minWidth=b7;e.maxWidth=ce}}return cd}}else{if(l.documentElement.currentStyle){bs=function(e){return e.currentStyle};I=function(b9,b7,cc){var b8,cb,cd,ca=cc||bs(b9),ce=ca?ca[b7]:aK,e=b9.style;if(ce==null&&e&&e[b7]){ce=e[b7]}if(aa.test(ce)&&!br.test(b7)){b8=e.left;cb=b9.runtimeStyle;cd=cb&&cb.left;if(cd){cb.left=b9.currentStyle.left}e.left=b7==="fontSize"?"1em":ce;ce=e.pixelLeft+"px";e.left=b8;if(cd){cb.left=cd}}return ce===""?"auto":ce}}}function aN(e,b8,b9){var b7=bd.exec(b8);return b7?Math.max(0,b7[1]-(b9||0))+(b7[2]||"px"):b8}function aA(ca,b7,e,cc,b9){var b8=e===(cc?"border":"content")?4:b7==="width"?1:0,cb=0;for(;b8<4;b8+=2){if(e==="margin"){cb+=bN.css(ca,e+bX[b8],true,b9)}if(cc){if(e==="content"){cb-=bN.css(ca,"padding"+bX[b8],true,b9)}if(e!=="margin"){cb-=bN.css(ca,"border"+bX[b8]+"Width",true,b9)}}else{cb+=bN.css(ca,"padding"+bX[b8],true,b9);if(e!=="padding"){cb+=bN.css(ca,"border"+bX[b8]+"Width",true,b9)}}}return cb}function u(ca,b7,e){var b9=true,cb=b7==="width"?ca.offsetWidth:ca.offsetHeight,b8=bs(ca),cc=bN.support.boxSizing&&bN.css(ca,"boxSizing",false,b8)==="border-box";if(cb<=0||cb==null){cb=I(ca,b7,b8);if(cb<0||cb==null){cb=ca.style[b7]}if(aa.test(cb)){return cb}b9=cc&&(bN.support.boxSizingReliable||cb===ca.style[b7]);cb=parseFloat(cb)||0}return(cb+aA(ca,b7,e||(cc?"border":"content"),b9,b8))+"px"}function bI(b8){var b7=l,e=bn[b8];if(!e){e=a5(b8,b7);if(e==="none"||!e){aI=(aI||bN("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b7.documentElement);b7=(aI[0].contentWindow||aI[0].contentDocument).document;b7.write("<!doctype html><html><body>");b7.close();e=a5(b8,b7);aI.detach()}bn[b8]=e}return e}function a5(e,b9){var b7=bN(b9.createElement(e)).appendTo(b9.body),b8=bN.css(b7[0],"display");b7.remove();return b8}bN.each(["height","width"],function(b7,e){bN.cssHooks[e]={get:function(ca,b9,b8){if(b9){return ca.offsetWidth===0&&J.test(bN.css(ca,"display"))?bN.swap(ca,bf,function(){return u(ca,e,b8)}):u(ca,e,b8)}},set:function(ca,cb,b8){var b9=b8&&bs(ca);return aN(ca,cb,b8?aA(ca,e,b8,bN.support.boxSizing&&bN.css(ca,"boxSizing",false,b9)==="border-box",b9):0)}}});if(!bN.support.opacity){bN.cssHooks.opacity={get:function(b7,e){return aX.test((e&&b7.currentStyle?b7.currentStyle.filter:b7.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(ca,cb){var b9=ca.style,b7=ca.currentStyle,e=bN.isNumeric(cb)?"alpha(opacity="+cb*100+")":"",b8=b7&&b7.filter||b9.filter||"";b9.zoom=1;if((cb>=1||cb==="")&&bN.trim(b8.replace(bk,""))===""&&b9.removeAttribute){b9.removeAttribute("filter");if(cb===""||b7&&!b7.filter){return}}b9.filter=bk.test(b8)?b8.replace(bk,e):b8+" "+e}}}bN(function(){if(!bN.support.reliableMarginRight){bN.cssHooks.marginRight={get:function(b7,e){if(e){return bN.swap(b7,{display:"inline-block"},I,[b7,"marginRight"])}}}}if(!bN.support.pixelPosition&&bN.fn.position){bN.each(["top","left"],function(e,b7){bN.cssHooks[b7]={get:function(b9,b8){if(b8){b8=I(b9,b7);return aa.test(b8)?bN(b9).position()[b7]+"px":b8}}}})}});if(bN.expr&&bN.expr.filters){bN.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bN.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bN.css(e,"display"))==="none")};bN.expr.filters.visible=function(e){return !bN.expr.filters.hidden(e)}}bN.each({margin:"",padding:"",border:"Width"},function(e,b7){bN.cssHooks[e+b7]={expand:function(ca){var b9=0,b8={},cb=typeof ca==="string"?ca.split(" "):[ca];for(;b9<4;b9++){b8[e+bX[b9]+b7]=cb[b9]||cb[b9-2]||cb[0]}return b8}};if(!a2.test(e)){bN.cssHooks[e+b7].set=aN}});var bz=/%20/g,aV=/\[\]$/,Y=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,ay=/^(?:input|select|textarea|keygen)/i;bN.fn.extend({serialize:function(){return bN.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bN.prop(this,"elements");return e?bN.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bN(this).is(":disabled")&&ay.test(this.nodeName)&&!c.test(e)&&(this.checked||!q.test(e))}).map(function(e,b7){var b8=bN(this).val();return b8==null?null:bN.isArray(b8)?bN.map(b8,function(b9){return{name:b7.name,value:b9.replace(Y,"\r\n")}}):{name:b7.name,value:b8.replace(Y,"\r\n")}}).get()}});bN.param=function(e,b8){var b9,b7=[],ca=function(cb,cc){cc=bN.isFunction(cc)?cc():(cc==null?"":cc);b7[b7.length]=encodeURIComponent(cb)+"="+encodeURIComponent(cc)};if(b8===aK){b8=bN.ajaxSettings&&bN.ajaxSettings.traditional}if(bN.isArray(e)||(e.jquery&&!bN.isPlainObject(e))){bN.each(e,function(){ca(this.name,this.value)})}else{for(b9 in e){i(b9,e[b9],b8,ca)}}return b7.join("&").replace(bz,"+")};function i(b8,ca,b7,b9){var e;if(bN.isArray(ca)){bN.each(ca,function(cc,cb){if(b7||aV.test(b8)){b9(b8,cb)}else{i(b8+"["+(typeof cb==="object"?cc:"")+"]",cb,b7,b9)}})}else{if(!b7&&bN.type(ca)==="object"){for(e in ca){i(b8+"["+e+"]",ca[e],b7,b9)}}else{b9(b8,ca)}}}bN.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b7,e){bN.fn[e]=function(b9,b8){return arguments.length>0?this.on(e,null,b9,b8):this.trigger(e)}});bN.fn.hover=function(e,b7){return this.mouseenter(e).mouseleave(b7||e)};var b5,ac,bS=bN.now(),aD=/\?/,au=/#.*$/,S=/([?&])_=[^&]*/,ak=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,F=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,o=/^(?:GET|HEAD)$/,aL=/^\/\//,aY=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b4=bN.fn.load,v={},bb={},a0="*/".concat("*");try{ac=aP.href}catch(bj){ac=l.createElement("a");ac.href="";ac=ac.href}b5=aY.exec(ac.toLowerCase())||[];function bP(e){return function(ca,cb){if(typeof ca!=="string"){cb=ca;ca="*"}var b7,b8=0,b9=ca.toLowerCase().match(ag)||[];if(bN.isFunction(cb)){while((b7=b9[b8++])){if(b7[0]==="+"){b7=b7.slice(1)||"*";(e[b7]=e[b7]||[]).unshift(cb)}else{(e[b7]=e[b7]||[]).push(cb)}}}}}function n(e,b8,cc,b9){var b7={},ca=(e===bb);function cb(cd){var ce;b7[cd]=true;bN.each(e[cd]||[],function(cg,cf){var ch=cf(b8,cc,b9);if(typeof ch==="string"&&!ca&&!b7[ch]){b8.dataTypes.unshift(ch);cb(ch);return false}else{if(ca){return !(ce=ch)}}});return ce}return cb(b8.dataTypes[0])||!b7["*"]&&cb("*")}function r(b8,b9){var e,b7,ca=bN.ajaxSettings.flatOptions||{};for(b7 in b9){if(b9[b7]!==aK){(ca[b7]?b8:(e||(e={})))[b7]=b9[b7]}}if(e){bN.extend(true,b8,e)}return b8}bN.fn.load=function(b9,cc,cd){if(typeof b9!=="string"&&b4){return b4.apply(this,arguments)}var e,b8,ca,b7=this,cb=b9.indexOf(" ");if(cb>=0){e=b9.slice(cb,b9.length);b9=b9.slice(0,cb)}if(bN.isFunction(cc)){cd=cc;cc=aK}else{if(cc&&typeof cc==="object"){ca="POST"}}if(b7.length>0){bN.ajax({url:b9,type:ca,dataType:"html",data:cc}).done(function(ce){b8=arguments;b7.html(e?bN("<div>").append(bN.parseHTML(ce)).find(e):ce)}).complete(cd&&function(cf,ce){b7.each(cd,b8||[cf.responseText,ce,cf])})}return this};bN.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b7){bN.fn[b7]=function(b8){return this.on(b7,b8)}});bN.each(["get","post"],function(e,b7){bN[b7]=function(b8,ca,cb,b9){if(bN.isFunction(ca)){b9=b9||cb;cb=ca;ca=aK}return bN.ajax({url:b8,type:b7,dataType:b9,data:ca,success:cb})}});bN.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ac,type:"GET",isLocal:F.test(b5[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":a0,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a6.String,"text html":true,"text json":bN.parseJSON,"text xml":bN.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b7,e){return e?r(r(b7,bN.ajaxSettings),e):r(bN.ajaxSettings,b7)},ajaxPrefilter:bP(v),ajaxTransport:bP(bb),ajax:function(cb,b8){if(typeof cb==="object"){b8=cb;cb=aK}b8=b8||{};var ck,cm,cc,cr,cg,b7,cn,b9,cf=bN.ajaxSetup({},b8),ct=cf.context||cf,ci=cf.context&&(ct.nodeType||ct.jquery)?bN(ct):bN.event,cs=bN.Deferred(),cp=bN.Callbacks("once memory"),cd=cf.statusCode||{},cj={},cq={},ca=0,ce="canceled",cl={readyState:0,getResponseHeader:function(cu){var e;if(ca===2){if(!b9){b9={};while((e=ak.exec(cr))){b9[e[1].toLowerCase()]=e[2]}}e=b9[cu.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return ca===2?cr:null},setRequestHeader:function(cu,cv){var e=cu.toLowerCase();if(!ca){cu=cq[e]=cq[e]||cu;cj[cu]=cv}return this},overrideMimeType:function(e){if(!ca){cf.mimeType=e}return this},statusCode:function(cu){var e;if(cu){if(ca<2){for(e in cu){cd[e]=[cd[e],cu[e]]}}else{cl.always(cu[cl.status])}}return this},abort:function(cu){var e=cu||ce;if(cn){cn.abort(e)}ch(0,e);return this}};cs.promise(cl).complete=cp.add;cl.success=cl.done;cl.error=cl.fail;cf.url=((cb||cf.url||ac)+"").replace(au,"").replace(aL,b5[1]+"//");cf.type=b8.method||b8.type||cf.method||cf.type;cf.dataTypes=bN.trim(cf.dataType||"*").toLowerCase().match(ag)||[""];if(cf.crossDomain==null){ck=aY.exec(cf.url.toLowerCase());cf.crossDomain=!!(ck&&(ck[1]!==b5[1]||ck[2]!==b5[2]||(ck[3]||(ck[1]==="http:"?80:443))!=(b5[3]||(b5[1]==="http:"?80:443))))}if(cf.data&&cf.processData&&typeof cf.data!=="string"){cf.data=bN.param(cf.data,cf.traditional)}n(v,cf,b8,cl);if(ca===2){return cl}b7=cf.global;if(b7&&bN.active++===0){bN.event.trigger("ajaxStart")}cf.type=cf.type.toUpperCase();cf.hasContent=!o.test(cf.type);cc=cf.url;if(!cf.hasContent){if(cf.data){cc=(cf.url+=(aD.test(cc)?"&":"?")+cf.data);delete cf.data}if(cf.cache===false){cf.url=S.test(cc)?cc.replace(S,"$1_="+bS++):cc+(aD.test(cc)?"&":"?")+"_="+bS++}}if(cf.ifModified){if(bN.lastModified[cc]){cl.setRequestHeader("If-Modified-Since",bN.lastModified[cc])}if(bN.etag[cc]){cl.setRequestHeader("If-None-Match",bN.etag[cc])}}if(cf.data&&cf.hasContent&&cf.contentType!==false||b8.contentType){cl.setRequestHeader("Content-Type",cf.contentType)}cl.setRequestHeader("Accept",cf.dataTypes[0]&&cf.accepts[cf.dataTypes[0]]?cf.accepts[cf.dataTypes[0]]+(cf.dataTypes[0]!=="*"?", "+a0+"; q=0.01":""):cf.accepts["*"]);for(cm in cf.headers){cl.setRequestHeader(cm,cf.headers[cm])}if(cf.beforeSend&&(cf.beforeSend.call(ct,cl,cf)===false||ca===2)){return cl.abort()}ce="abort";for(cm in {success:1,error:1,complete:1}){cl[cm](cf[cm])}cn=n(bb,cf,b8,cl);if(!cn){ch(-1,"No Transport")}else{cl.readyState=1;if(b7){ci.trigger("ajaxSend",[cl,cf])}if(cf.async&&cf.timeout>0){cg=setTimeout(function(){cl.abort("timeout")},cf.timeout)}try{ca=1;cn.send(cj,ch)}catch(co){if(ca<2){ch(-1,co)}else{throw co}}}function ch(cy,cu,cz,cw){var e,cC,cA,cx,cB,cv=cu;if(ca===2){return}ca=2;if(cg){clearTimeout(cg)}cn=aK;cr=cw||"";cl.readyState=cy>0?4:0;if(cz){cx=g(cf,cl,cz)}if(cy>=200&&cy<300||cy===304){if(cf.ifModified){cB=cl.getResponseHeader("Last-Modified");if(cB){bN.lastModified[cc]=cB}cB=cl.getResponseHeader("etag");if(cB){bN.etag[cc]=cB}}if(cy===204){e=true;cv="nocontent"}else{if(cy===304){e=true;cv="notmodified"}else{e=aj(cf,cx);cv=e.state;cC=e.data;cA=e.error;e=!cA}}}else{cA=cv;if(cy||!cv){cv="error";if(cy<0){cy=0}}}cl.status=cy;cl.statusText=(cu||cv)+"";if(e){cs.resolveWith(ct,[cC,cv,cl])}else{cs.rejectWith(ct,[cl,cv,cA])}cl.statusCode(cd);cd=aK;if(b7){ci.trigger(e?"ajaxSuccess":"ajaxError",[cl,cf,e?cC:cA])}cp.fireWith(ct,[cl,cv]);if(b7){ci.trigger("ajaxComplete",[cl,cf]);if(!(--bN.active)){bN.event.trigger("ajaxStop")}}}return cl},getScript:function(e,b7){return bN.get(e,aK,b7,"script")},getJSON:function(e,b7,b8){return bN.get(e,b7,b8,"json")}});function g(cf,ce,cb){var e,ca,b9,cc,b7=cf.contents,cd=cf.dataTypes,b8=cf.responseFields;for(cc in b8){if(cc in cb){ce[b8[cc]]=cb[cc]}}while(cd[0]==="*"){cd.shift();if(ca===aK){ca=cf.mimeType||ce.getResponseHeader("Content-Type")}}if(ca){for(cc in b7){if(b7[cc]&&b7[cc].test(ca)){cd.unshift(cc);break}}}if(cd[0] in cb){b9=cd[0]}else{for(cc in cb){if(!cd[0]||cf.converters[cc+" "+cd[0]]){b9=cc;break}if(!e){e=cc}}b9=b9||e}if(b9){if(b9!==cd[0]){cd.unshift(b9)}return cb[b9]}}function aj(ch,b9){var b7,cd,cf,ca,cg={},cb=0,ce=ch.dataTypes.slice(),b8=ce[0];if(ch.dataFilter){b9=ch.dataFilter(b9,ch.dataType)}if(ce[1]){for(cf in ch.converters){cg[cf.toLowerCase()]=ch.converters[cf]}}for(;(cd=ce[++cb]);){if(cd!=="*"){if(b8!=="*"&&b8!==cd){cf=cg[b8+" "+cd]||cg["* "+cd];if(!cf){for(b7 in cg){ca=b7.split(" ");if(ca[1]===cd){cf=cg[b8+" "+ca[0]]||cg["* "+ca[0]];if(cf){if(cf===true){cf=cg[b7]}else{if(cg[b7]!==true){cd=ca[0];ce.splice(cb--,0,cd)}}break}}}}if(cf!==true){if(cf&&ch["throws"]){b9=cf(b9)}else{try{b9=cf(b9)}catch(cc){return{state:"parsererror",error:cf?cc:"No conversion from "+b8+" to "+cd}}}}}b8=cd}}return{state:"success",data:b9}}bN.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bN.globalEval(e);return e}}});bN.ajaxPrefilter("script",function(e){if(e.cache===aK){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bN.ajaxTransport("script",function(b8){if(b8.crossDomain){var e,b7=l.head||bN("head")[0]||l.documentElement;return{send:function(b9,ca){e=l.createElement("script");e.async=true;if(b8.scriptCharset){e.charset=b8.scriptCharset}e.src=b8.url;e.onload=e.onreadystatechange=function(cc,cb){if(cb||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!cb){ca(200,"success")}}};b7.insertBefore(e,b7.firstChild)},abort:function(){if(e){e.onload(aK,true)}}}}});var bu=[],a9=/(=)\?(?=&|$)|\?\?/;bN.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=bu.pop()||(bN.expando+"_"+(bS++));this[e]=true;return e}});bN.ajaxPrefilter("json jsonp",function(b9,e,ca){var cc,b7,b8,cb=b9.jsonp!==false&&(a9.test(b9.url)?"url":typeof b9.data==="string"&&!(b9.contentType||"").indexOf("application/x-www-form-urlencoded")&&a9.test(b9.data)&&"data");if(cb||b9.dataTypes[0]==="jsonp"){cc=b9.jsonpCallback=bN.isFunction(b9.jsonpCallback)?b9.jsonpCallback():b9.jsonpCallback;if(cb){b9[cb]=b9[cb].replace(a9,"$1"+cc)}else{if(b9.jsonp!==false){b9.url+=(aD.test(b9.url)?"&":"?")+b9.jsonp+"="+cc}}b9.converters["script json"]=function(){if(!b8){bN.error(cc+" was not called")}return b8[0]};b9.dataTypes[0]="json";b7=a6[cc];a6[cc]=function(){b8=arguments};ca.always(function(){a6[cc]=b7;if(b9[cc]){b9.jsonpCallback=e.jsonpCallback;bu.push(cc)}if(b8&&bN.isFunction(b7)){b7(b8[0])}b8=b7=aK});return"script"}});var al,aB,aC=0,aT=a6.ActiveXObject&&function(){var e;for(e in al){al[e](aK,true)}};function bH(){try{return new a6.XMLHttpRequest()}catch(b7){}}function bh(){try{return new a6.ActiveXObject("Microsoft.XMLHTTP")}catch(b7){}}bN.ajaxSettings.xhr=a6.ActiveXObject?function(){return !this.isLocal&&bH()||bh()}:bH;aB=bN.ajaxSettings.xhr();bN.support.cors=!!aB&&("withCredentials" in aB);aB=bN.support.ajax=!!aB;if(aB){bN.ajaxTransport(function(e){if(!e.crossDomain||bN.support.cors){var b7;return{send:function(cd,b8){var cb,b9,cc=e.xhr();if(e.username){cc.open(e.type,e.url,e.async,e.username,e.password)}else{cc.open(e.type,e.url,e.async)}if(e.xhrFields){for(b9 in e.xhrFields){cc[b9]=e.xhrFields[b9]}}if(e.mimeType&&cc.overrideMimeType){cc.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!cd["X-Requested-With"]){cd["X-Requested-With"]="XMLHttpRequest"}try{for(b9 in cd){cc.setRequestHeader(b9,cd[b9])}}catch(ca){}cc.send((e.hasContent&&e.data)||null);b7=function(cg,cf){var ce,ch,ck,ci;try{if(b7&&(cf||cc.readyState===4)){b7=aK;if(cb){cc.onreadystatechange=bN.noop;if(aT){delete al[cb]}}if(cf){if(cc.readyState!==4){cc.abort()}}else{ci={};ce=cc.status;ch=cc.getAllResponseHeaders();if(typeof cc.responseText==="string"){ci.text=cc.responseText}try{ck=cc.statusText}catch(cj){ck=""}if(!ce&&e.isLocal&&!e.crossDomain){ce=ci.text?200:404}else{if(ce===1223){ce=204}}}}}catch(cl){if(!cf){b8(-1,cl)}}if(ci){b8(ce,ck,ci,ch)}};if(!e.async){b7()}else{if(cc.readyState===4){setTimeout(b7)}else{cb=++aC;if(aT){if(!al){al={};bN(a6).unload(aT)}al[cb]=b7}cc.onreadystatechange=b7}}},abort:function(){if(b7){b7(aK,true)}}}}})}var O,ah,bV=/^(?:toggle|show|hide)$/,bO=new RegExp("^(?:([+-])=|)("+bE+")([a-z%]*)$","i"),bU=/queueHooks$/,aF=[h],a4={"*":[function(e,cd){var b9,ce,cf=this.createTween(e,cd),ca=bO.exec(cd),cb=cf.cur(),b7=+cb||0,b8=1,cc=20;if(ca){b9=+ca[2];ce=ca[3]||(bN.cssNumber[e]?"":"px");if(ce!=="px"&&b7){b7=bN.css(cf.elem,e,true)||b9||1;do{b8=b8||".5";b7=b7/b8;bN.style(cf.elem,e,b7+ce)}while(b8!==(b8=cf.cur()/cb)&&b8!==1&&--cc)}cf.unit=ce;cf.start=b7;cf.end=ca[1]?b7+(ca[1]+1)*b9:b9}return cf}]};function bq(){setTimeout(function(){O=aK});return(O=bN.now())}function bi(b7,e){bN.each(e,function(cc,ca){var cb=(a4[cc]||[]).concat(a4["*"]),b8=0,b9=cb.length;for(;b8<b9;b8++){if(cb[b8].call(b7,cc,ca)){return}}})}function f(b8,cc,cf){var cg,e,cb=0,b7=aF.length,ce=bN.Deferred().always(function(){delete ca.elem}),ca=function(){if(e){return false}var cm=O||bq(),cj=Math.max(0,b9.startTime+b9.duration-cm),ch=cj/b9.duration||0,cl=1-ch,ci=0,ck=b9.tweens.length;for(;ci<ck;ci++){b9.tweens[ci].run(cl)}ce.notifyWith(b8,[b9,cl,cj]);if(cl<1&&ck){return cj}else{ce.resolveWith(b8,[b9]);return false}},b9=ce.promise({elem:b8,props:bN.extend({},cc),opts:bN.extend(true,{specialEasing:{}},cf),originalProperties:cc,originalOptions:cf,startTime:O||bq(),duration:cf.duration,tweens:[],createTween:function(cj,ch){var ci=bN.Tween(b8,b9.opts,cj,ch,b9.opts.specialEasing[cj]||b9.opts.easing);b9.tweens.push(ci);return ci},stop:function(ci){var ch=0,cj=ci?b9.tweens.length:0;if(e){return this}e=true;for(;ch<cj;ch++){b9.tweens[ch].run(1)}if(ci){ce.resolveWith(b8,[b9,ci])}else{ce.rejectWith(b8,[b9,ci])}return this}}),cd=b9.props;aq(cd,b9.opts.specialEasing);for(;cb<b7;cb++){cg=aF[cb].call(b9,b8,cd,b9.opts);if(cg){return cg}}bi(b9,cd);if(bN.isFunction(b9.opts.start)){b9.opts.start.call(b8,b9)}bN.fx.timer(bN.extend(ca,{elem:b8,anim:b9,queue:b9.opts.queue}));return b9.progress(b9.opts.progress).done(b9.opts.done,b9.opts.complete).fail(b9.opts.fail).always(b9.opts.always)}function aq(b9,cb){var ca,b8,b7,cc,e;for(b7 in b9){b8=bN.camelCase(b7);cc=cb[b8];ca=b9[b7];if(bN.isArray(ca)){cc=ca[1];ca=b9[b7]=ca[0]}if(b7!==b8){b9[b8]=ca;delete b9[b7]}e=bN.cssHooks[b8];if(e&&"expand" in e){ca=e.expand(ca);delete b9[b8];for(b7 in ca){if(!(b7 in b9)){b9[b7]=ca[b7];cb[b7]=cc}}}else{cb[b8]=cc}}}bN.Animation=bN.extend(f,{tweener:function(b7,ca){if(bN.isFunction(b7)){ca=b7;b7=["*"]}else{b7=b7.split(" ")}var b9,e=0,b8=b7.length;for(;e<b8;e++){b9=b7[e];a4[b9]=a4[b9]||[];a4[b9].unshift(ca)}},prefilter:function(b7,e){if(e){aF.unshift(b7)}else{aF.push(b7)}}});function h(ca,cg,e){var b8,cf,b9,ci,cm,cc,cl,ck,cj,cb=this,b7=ca.style,ch={},ce=[],cd=ca.nodeType&&T(ca);if(!e.queue){ck=bN._queueHooks(ca,"fx");if(ck.unqueued==null){ck.unqueued=0;cj=ck.empty.fire;ck.empty.fire=function(){if(!ck.unqueued){cj()}}}ck.unqueued++;cb.always(function(){cb.always(function(){ck.unqueued--;if(!bN.queue(ca,"fx").length){ck.empty.fire()}})})}if(ca.nodeType===1&&("height" in cg||"width" in cg)){e.overflow=[b7.overflow,b7.overflowX,b7.overflowY];if(bN.css(ca,"display")==="inline"&&bN.css(ca,"float")==="none"){if(!bN.support.inlineBlockNeedsLayout||bI(ca.nodeName)==="inline"){b7.display="inline-block"}else{b7.zoom=1}}}if(e.overflow){b7.overflow="hidden";if(!bN.support.shrinkWrapBlocks){cb.always(function(){b7.overflow=e.overflow[0];b7.overflowX=e.overflow[1];b7.overflowY=e.overflow[2]})}}for(cf in cg){ci=cg[cf];if(bV.exec(ci)){delete cg[cf];cc=cc||ci==="toggle";if(ci===(cd?"hide":"show")){continue}ce.push(cf)}}b9=ce.length;if(b9){cm=bN._data(ca,"fxshow")||bN._data(ca,"fxshow",{});if("hidden" in cm){cd=cm.hidden}if(cc){cm.hidden=!cd}if(cd){bN(ca).show()}else{cb.done(function(){bN(ca).hide()})}cb.done(function(){var cn;bN._removeData(ca,"fxshow");for(cn in ch){bN.style(ca,cn,ch[cn])}});for(cf=0;cf<b9;cf++){b8=ce[cf];cl=cb.createTween(b8,cd?cm[b8]:0);ch[b8]=cm[b8]||bN.style(ca,b8);if(!(b8 in cm)){cm[b8]=cl.start;if(cd){cl.end=cl.start;cl.start=b8==="width"||b8==="height"?1:0}}}}}function K(b8,b7,ca,e,b9){return new K.prototype.init(b8,b7,ca,e,b9)}bN.Tween=K;K.prototype={constructor:K,init:function(b9,b7,cb,e,ca,b8){this.elem=b9;this.prop=cb;this.easing=ca||"swing";this.options=b7;this.start=this.now=this.cur();this.end=e;this.unit=b8||(bN.cssNumber[cb]?"":"px")},cur:function(){var e=K.propHooks[this.prop];return e&&e.get?e.get(this):K.propHooks._default.get(this)},run:function(b8){var b7,e=K.propHooks[this.prop];if(this.options.duration){this.pos=b7=bN.easing[this.easing](b8,this.options.duration*b8,0,1,this.options.duration)}else{this.pos=b7=b8}this.now=(this.end-this.start)*b7+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{K.propHooks._default.set(this)}return this}};K.prototype.init.prototype=K.prototype;K.propHooks={_default:{get:function(b7){var e;if(b7.elem[b7.prop]!=null&&(!b7.elem.style||b7.elem.style[b7.prop]==null)){return b7.elem[b7.prop]}e=bN.css(b7.elem,b7.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bN.fx.step[e.prop]){bN.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bN.cssProps[e.prop]]!=null||bN.cssHooks[e.prop])){bN.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};K.propHooks.scrollTop=K.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bN.each(["toggle","show","hide"],function(b7,e){var b8=bN.fn[e];bN.fn[e]=function(b9,cb,ca){return b9==null||typeof b9==="boolean"?b8.apply(this,arguments):this.animate(bM(e,true),b9,cb,ca)}});bN.fn.extend({fadeTo:function(e,b9,b8,b7){return this.filter(T).css("opacity",0).show().end().animate({opacity:b9},e,b8,b7)},animate:function(cc,b9,cb,ca){var b8=bN.isEmptyObject(cc),e=bN.speed(b9,cb,ca),b7=function(){var cd=f(this,bN.extend({},cc),e);b7.finish=function(){cd.stop(true)};if(b8||bN._data(this,"finish")){cd.stop(true)}};b7.finish=b7;return b8||e.queue===false?this.each(b7):this.queue(e.queue,b7)},stop:function(b8,b7,e){var b9=function(ca){var cb=ca.stop;delete ca.stop;cb(e)};if(typeof b8!=="string"){e=b7;b7=b8;b8=aK}if(b7&&b8!==false){this.queue(b8||"fx",[])}return this.each(function(){var cd=true,ca=b8!=null&&b8+"queueHooks",cc=bN.timers,cb=bN._data(this);if(ca){if(cb[ca]&&cb[ca].stop){b9(cb[ca])}}else{for(ca in cb){if(cb[ca]&&cb[ca].stop&&bU.test(ca)){b9(cb[ca])}}}for(ca=cc.length;ca--;){if(cc[ca].elem===this&&(b8==null||cc[ca].queue===b8)){cc[ca].anim.stop(e);cd=false;cc.splice(ca,1)}}if(cd||!e){bN.dequeue(this,b8)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b9,cc=bN._data(this),b8=cc[e+"queue"],b7=cc[e+"queueHooks"],cb=bN.timers,ca=b8?b8.length:0;cc.finish=true;bN.queue(this,e,[]);if(b7&&b7.cur&&b7.cur.finish){b7.cur.finish.call(this)}for(b9=cb.length;b9--;){if(cb[b9].elem===this&&cb[b9].queue===e){cb[b9].anim.stop(true);cb.splice(b9,1)}}for(b9=0;b9<ca;b9++){if(b8[b9]&&b8[b9].finish){b8[b9].finish.call(this)}}delete cc.finish})}});function bM(b8,ca){var b9,e={height:b8},b7=0;ca=ca?1:0;for(;b7<4;b7+=2-ca){b9=bX[b7];e["margin"+b9]=e["padding"+b9]=b8}if(ca){e.opacity=e.width=b8}return e}bN.each({slideDown:bM("show"),slideUp:bM("hide"),slideToggle:bM("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b7){bN.fn[e]=function(b8,ca,b9){return this.animate(b7,b8,ca,b9)}});bN.speed=function(b8,b9,b7){var e=b8&&typeof b8==="object"?bN.extend({},b8):{complete:b7||!b7&&b9||bN.isFunction(b8)&&b8,duration:b8,easing:b7&&b9||b9&&!bN.isFunction(b9)&&b9};e.duration=bN.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bN.fx.speeds?bN.fx.speeds[e.duration]:bN.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bN.isFunction(e.old)){e.old.call(this)}if(e.queue){bN.dequeue(this,e.queue)}};return e};bN.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bN.timers=[];bN.fx=K.prototype.init;bN.fx.tick=function(){var b8,b7=bN.timers,e=0;O=bN.now();for(;e<b7.length;e++){b8=b7[e];if(!b8()&&b7[e]===b8){b7.splice(e--,1)}}if(!b7.length){bN.fx.stop()}O=aK};bN.fx.timer=function(e){if(e()&&bN.timers.push(e)){bN.fx.start()}};bN.fx.interval=13;bN.fx.start=function(){if(!ah){ah=setInterval(bN.fx.tick,bN.fx.interval)}};bN.fx.stop=function(){clearInterval(ah);ah=null};bN.fx.speeds={slow:600,fast:200,_default:400};bN.fx.step={};if(bN.expr&&bN.expr.filters){bN.expr.filters.animated=function(e){return bN.grep(bN.timers,function(b7){return e===b7.elem}).length}}bN.fn.offset=function(b7){if(arguments.length){return b7===aK?this:this.each(function(cc){bN.offset.setOffset(this,b7,cc)})}var e,cb,b9={top:0,left:0},b8=this[0],ca=b8&&b8.ownerDocument;if(!ca){return}e=ca.documentElement;if(!bN.contains(e,b8)){return b9}if(typeof b8.getBoundingClientRect!==aG){b9=b8.getBoundingClientRect()}cb=bt(ca);return{top:b9.top+(cb.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b9.left+(cb.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bN.offset={setOffset:function(b9,ci,cc){var cd=bN.css(b9,"position");if(cd==="static"){b9.style.position="relative"}var cb=bN(b9),b7=cb.offset(),e=bN.css(b9,"top"),cg=bN.css(b9,"left"),ch=(cd==="absolute"||cd==="fixed")&&bN.inArray("auto",[e,cg])>-1,cf={},ce={},b8,ca;if(ch){ce=cb.position();b8=ce.top;ca=ce.left}else{b8=parseFloat(e)||0;ca=parseFloat(cg)||0}if(bN.isFunction(ci)){ci=ci.call(b9,cc,b7)}if(ci.top!=null){cf.top=(ci.top-b7.top)+b8}if(ci.left!=null){cf.left=(ci.left-b7.left)+ca}if("using" in ci){ci.using.call(b9,cf)}else{cb.css(cf)}}};bN.fn.extend({position:function(){if(!this[0]){return}var b8,b9,e={top:0,left:0},b7=this[0];if(bN.css(b7,"position")==="fixed"){b9=b7.getBoundingClientRect()}else{b8=this.offsetParent();b9=this.offset();if(!bN.nodeName(b8[0],"html")){e=b8.offset()}e.top+=bN.css(b8[0],"borderTopWidth",true);e.left+=bN.css(b8[0],"borderLeftWidth",true)}return{top:b9.top-e.top-bN.css(b7,"marginTop",true),left:b9.left-e.left-bN.css(b7,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||l.documentElement;while(e&&(!bN.nodeName(e,"html")&&bN.css(e,"position")==="static")){e=e.offsetParent}return e||l.documentElement})}});bN.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b8,b7){var e=/Y/.test(b7);bN.fn[b8]=function(b9){return bN.access(this,function(ca,cd,cc){var cb=bt(ca);if(cc===aK){return cb?(b7 in cb)?cb[b7]:cb.document.documentElement[cd]:ca[cd]}if(cb){cb.scrollTo(!e?cc:bN(cb).scrollLeft(),e?cc:bN(cb).scrollTop())}else{ca[cd]=cc}},b8,b9,arguments.length,null)}});function bt(e){return bN.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bN.each({Height:"height",Width:"width"},function(e,b7){bN.each({padding:"inner"+e,content:b7,"":"outer"+e},function(b8,b9){bN.fn[b9]=function(cd,cc){var cb=arguments.length&&(b8||typeof cd!=="boolean"),ca=b8||(cd===true||cc===true?"margin":"border");return bN.access(this,function(cf,ce,cg){var ch;if(bN.isWindow(cf)){return cf.document.documentElement["client"+e]}if(cf.nodeType===9){ch=cf.documentElement;return Math.max(cf.body["scroll"+e],ch["scroll"+e],cf.body["offset"+e],ch["offset"+e],ch["client"+e])}return cg===aK?bN.css(cf,ce,ca):bN.style(cf,ce,cg,ca)},b7,cb?cd:aK,cb,null)}})});a6.jQuery=a6.$=bN;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bN})}})(window);
/*! jQuery UI - v1.10.2 - 2013-04-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.slider.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,i){return typeof h==="number"?this.each(function(){var j=this;setTimeout(function(){b(j).focus();if(i){i.call(j)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(j){if(j!==f){return this.css("zIndex",j)}if(this.length){var h=b(this[0]),g,i;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){i=parseInt(h.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(i,g){var k,j,h,l=i.nodeName.toLowerCase();if("area"===l){k=i.parentNode;j=k.name;if(!i.href||!j||k.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+j+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(l)?!i.disabled:"a"===l?i.href||g:g)&&c(i)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(i){var g=b.attr(i,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(i,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(o,n,i,p){b.each(h,function(){n-=parseFloat(b.css(o,"padding"+this))||0;if(i){n-=parseFloat(b.css(o,"border"+this+"Width"))||0}if(p){n-=parseFloat(b.css(o,"margin"+this))||0}});return n}b.fn["inner"+g]=function(i){if(i===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,i)+"px")})};b.fn["outer"+g]=function(i,n){if(typeof i!=="number"){return m["outer"+g].call(this,i)}return this.each(function(){b(this).css(k,l(this,i,true,n)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},hasScroll:function(j,h){if(b(j).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",i=false;if(j[g]>0){return true}j[g]=1;i=(j[g]>0);j[g]=0;return i}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(f,g,n){var k,l,i,m,h={},j=f.split(".")[0];f=f.split(".")[1];k=j+"-"+f;if(!n){n=g;g=b.Widget}b.expr[":"][k.toLowerCase()]=function(o){return !!b.data(o,k)};b[j]=b[j]||{};l=b[j][f];i=b[j][f]=function(o,p){if(!this._createWidget){return new i(o,p)}if(arguments.length){this._createWidget(o,p)}};b.extend(i,l,{version:n.version,_proto:b.extend({},n),_childConstructors:[]});m=new g();m.options=b.widget.extend({},m.options);b.each(n,function(p,o){if(!b.isFunction(o)){h[p]=o;return}h[p]=(function(){var q=function(){return g.prototype[p].apply(this,arguments)},r=function(s){return g.prototype[p].apply(this,s)};return function(){var u=this._super,s=this._superApply,t;this._super=q;this._superApply=r;t=o.apply(this,arguments);this._super=u;this._superApply=s;return t}})()});i.prototype=b.widget.extend(m,{widgetEventPrefix:l?m.widgetEventPrefix:f},h,{constructor:i,namespace:j,widgetName:f,widgetFullName:k});if(l){b.each(l._childConstructors,function(p,q){var o=q.prototype;b.widget(o.namespace+"."+o.widgetName,i,q._proto)});delete l._childConstructors}else{g._childConstructors.push(i)}b.widget.bridge(f,i)};b.widget.extend=function(k){var g=d.call(arguments,1),j=0,f=g.length,h,i;for(;j<f;j++){for(h in g[j]){i=g[j][h];if(g[j].hasOwnProperty(h)&&i!==e){if(b.isPlainObject(i)){k[h]=b.isPlainObject(k[h])?b.widget.extend({},k[h],i):b.widget.extend({},i)}else{k[h]=i}}}}return k};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(k){var i=typeof k==="string",j=d.call(arguments,1),l=this;k=!i&&j.length?b.widget.extend.apply(null,[k].concat(j)):k;if(i){this.each(function(){var n,m=b.data(this,h);if(!m){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}if(!b.isFunction(m[k])||k.charAt(0)==="_"){return b.error("no such method '"+k+"' for "+g+" widget instance")}n=m[k].apply(m,j);if(n!==m&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var m=b.data(this,h);if(m){m.option(k||{})._init()}else{b.data(this,h,new f(k,this))}})}return l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(k===e){return h[j]===e?null:h[j]}h[j]=k}else{if(k===e){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(i,h,g){var j,f=this;if(typeof i!=="boolean"){g=h;h=i;i=false}if(!g){g=h;h=this.element;j=this.widget()}else{h=j=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(p,o){function m(){if(!i&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?f[o]:o).apply(f,arguments)}if(typeof o!=="string"){m.guid=o.guid=o.guid||m.guid||b.guid++}var n=p.match(/^(\w+)\s*(.*)$/),l=n[1]+f.eventNamespace,k=n[2];if(k){j.delegate(k,l,m)}else{h.bind(l,m)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(i,h){function g(){return(typeof i==="string"?f[i]:i).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var k,j,i=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];j=g.originalEvent;if(j){for(k in j){if(!(k in g)){g[k]=j[k]}}}this.element.trigger(g,h);return !(b.isFunction(i)&&i.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(j,i,l){if(typeof i==="string"){i={effect:i}}var k,h=!i?g:i===true||typeof i==="number"?f:i.effect||f;i=i||{};if(typeof i==="number"){i={duration:i}}k=!b.isEmptyObject(i);i.complete=l;if(i.delay){j.delay(i.delay)}if(k&&b.effects&&b.effects.effect[h]){j[g](i)}else{if(h!==g&&j[h]){j[h](i.duration,i.easing,l)}else{j.queue(function(m){b(this)[g]();if(l){l.call(j[0])}m()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,d,e=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",f=[];d=(e.values&&e.values.length)||1;if(j.length>d){j.slice(d).remove();j=j.slice(0,d)}for(g=j.length;g<d;g++){f.push(h)}this.handles=j.add(b(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)})},_createRange:function(){var d=this.options,e="";if(d.range){if(d.range===true){if(!d.values){d.values=[this._valueMin(),this._valueMin()]}else{if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}else{if(b.isArray(d.values)){d.values=d.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=b("<div></div>").appendTo(this.element);e="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(e+((d.range==="min"||d.range==="max")?" ui-slider-range-"+d.range:""))}else{this.range=b([])}},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var j,m,e,h,l,n,i,d,k=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();j={x:f.pageX,y:f.pageY};m=this._normValueFromMouse(j);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var p=Math.abs(m-k.values(o));if((e>p)||(e===p&&(o===k._lastChangedValue||k.values(o)===g.min))){e=p;h=b(this);l=o}});n=this._start(f,l);if(n===false){return false}this._mouseSliding=true;this._handleIndex=l;h.addClass("ui-state-active").focus();i=h.offset();d=!b(f.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-i.left-(h.width()/2),top:f.pageY-i.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,l,m)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,i;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();i=this._valueMin()+g*f;return this._trimAlignValue(i)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,i;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;i=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(i!==false){this.values(g,f,true)}}}else{if(f!==this.value()){i=this._trigger("slide",h,{handle:this.handles[g],value:f});if(i!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._lastChangedValue=e;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(e==="range"&&this.options.range===true){if(f==="min"){this.options.value=this._values(0);this.options.values=null}else{if(f==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}else{return[]}}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var i,h,l,j,m,g=this.options.range,f=this.options,k=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(n){h=(k.values(n)-k._valueMin())/(k._valueMax()-k._valueMin())*100;d[k.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(k.options.range===true){if(k.orientation==="horizontal"){if(n===0){k.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({width:(h-i)+"%"},{queue:false,duration:f.animate})}}else{if(n===0){k.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(n===1){k.range[e?"animate":"css"]({height:(h-i)+"%"},{queue:false,duration:f.animate})}}}i=h})}else{l=this.value();j=this._valueMin();m=this._valueMax();h=(m!==j)?(l-j)/(m-j)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}},_handleEvents:{keydown:function(h){var i,f,e,g,d=b(h.target).data("ui-slider-handle-index");switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h.preventDefault();if(!this._keySliding){this._keySliding=true;b(h.target).addClass("ui-state-active");i=this._start(h,d);if(i===false){return}}break}g=this.options.step;if(this.options.values&&this.options.values.length){f=e=this.values(d)}else{f=e=this.value()}switch(h.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===this._valueMax()){return}e=this._trimAlignValue(f+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===this._valueMin()){return}e=this._trimAlignValue(f-g);break}this._slide(h,d,e)},click:function(d){d.preventDefault()},keyup:function(e){var d=b(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,d);this._change(e,d);b(e.target).removeClass("ui-state-active")}}}})}(jQuery));!function(b){b(function(){b.support.transition=function(){var c=function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},f;for(f in d){if(e.style[f]!==undefined){return d[f]}}}();return c&&{end:c}}()})}(window.jQuery),!function(e){var d=function(a,g){this.options=g,this.$element=e(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};d.prototype={constructor:d,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this,g=e.Event("show");this.$element.trigger(g);if(this.isShown||g.isDefaultPrevented()){return}this.isShown=!0,this.escape(),this.backdrop(function(){var b=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),b&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus(),b?a.$element.one(e.support.transition.end,function(){a.$element.focus().trigger("shown")}):a.$element.focus().trigger("shown")})},hide:function(a){a&&a.preventDefault();var g=this;a=e.Event("hide"),this.$element.trigger(a);if(!this.isShown||a.isDefaultPrevented()){return}this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var a=this;e(document).on("focusin.modal",function(b){a.$element[0]!==b.target&&!a.$element.has(b.target).length&&a.$element.focus()})},escape:function(){var b=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(a){a.which==27&&b.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var a=this,g=setTimeout(function(){a.$element.off(e.support.transition.end),a.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(g),a.hideModal()})},hideModal:function(){var b=this;this.$element.hide(),this.backdrop(function(){b.removeBackdrop(),b.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(a){var i=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=e.support.transition&&h;this.$backdrop=e('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),g&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!a){return}g?this.$backdrop.one(e.support.transition.end,a):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,a):a()):a&&a()}}};var f=e.fn.modal;e.fn.modal=function(a){return this.each(function(){var g=e(this),c=g.data("modal"),b=e.extend({},e.fn.modal.defaults,g.data(),typeof a=="object"&&a);c||g.data("modal",c=new d(this,b)),typeof a=="string"?c[a]():b.show&&c.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=d,e.fn.modal.noConflict=function(){return e.fn.modal=f,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(a){var j=e(this),i=j.attr("href"),h=e(j.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),g=h.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},h.data(),j.data());a.preventDefault(),h.modal(g).one("hide",function(){j.focus()})})}(window.jQuery),!function(h){function k(){h(g).each(function(){j(h(this)).removeClass("open")})}function j(a){var f=a.attr("data-target"),e;f||(f=a.attr("href"),f=f&&/#/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,"")),e=f&&h(f);if(!e||!e.length){e=a.parent()}return e}var g="[data-toggle=dropdown]",l=function(a){var d=h(a).on("click.dropdown.data-api",this.toggle);h("html").on("click.dropdown.data-api",function(){d.parent().removeClass("open")})};l.prototype={constructor:l,toggle:function(a){var m=h(this),e,d;if(m.is(".disabled, :disabled")){return}return e=j(m),d=e.hasClass("open"),k(),d||e.toggleClass("open"),m.focus(),!1},keydown:function(p){var o,n,m,e,b,a;if(!/(38|40|27)/.test(p.keyCode)){return}o=h(this),p.preventDefault(),p.stopPropagation();if(o.is(".disabled, :disabled")){return}e=j(o),b=e.hasClass("open");if(!b||b&&p.keyCode==27){return p.which==27&&e.find(g).focus(),o.click()}n=h("[role=menu] li:not(.divider):visible a",e);if(!n.length){return}a=n.index(n.filter(":focus")),p.keyCode==38&&a>0&&a--,p.keyCode==40&&a<n.length-1&&a++,~a||(a=0),n.eq(a).focus()}};var i=h.fn.dropdown;h.fn.dropdown=function(a){return this.each(function(){var c=h(this),b=c.data("dropdown");b||c.data("dropdown",b=new l(this)),typeof a=="string"&&b[a].call(c)})},h.fn.dropdown.Constructor=l,h.fn.dropdown.noConflict=function(){return h.fn.dropdown=i,this},h(document).on("click.dropdown.data-api",k).on("click.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.dropdown-menu",function(b){b.stopPropagation()}).on("click.dropdown.data-api",g,l.prototype.toggle).on("keydown.dropdown.data-api",g+", [role=menu]",l.prototype.keydown)}(window.jQuery),!function(e){function d(a,j){var i=e.proxy(this.process,this),h=e(a).is("body")?e(window):e(a),g;this.options=e.extend({},e.fn.scrollspy.defaults,j),this.$scrollElement=h.on("scroll.scroll-spy.data-api",i),this.selector=(this.options.target||(g=e(a).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}d.prototype={constructor:d,refresh:function(){var a=this,g;this.offsets=e([]),this.targets=e([]),g=this.$body.find(this.selector).map(function(){var i=e(this),h=i.data("target")||i.attr("href"),b=/^#\w/.test(h)&&e(h);return b&&b.length&&[[b.position().top+(!e.isWindow(a.$scrollElement.get(0))&&a.$scrollElement.scrollTop()),h]]||null}).sort(function(h,c){return h[0]-c[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},process:function(){var i=this.$scrollElement.scrollTop()+this.options.offset,h=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=h-this.$scrollElement.height(),m=this.offsets,l=this.targets,k=this.activeTarget,j;if(i>=n){return k!=(j=l.last()[0])&&this.activate(j)}for(j=m.length;j--;){k!=l[j]&&i>=m[j]&&(!m[j+1]||i<=m[j+1])&&this.activate(l[j])}},activate:function(a){var h,g;this.activeTarget=a,e(this.selector).parent(".active").removeClass("active"),g=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',h=e(g).parent("li").addClass("active"),h.parent(".dropdown-menu").length&&(h=h.closest("li.dropdown").addClass("active")),h.trigger("activate")}};var f=e.fn.scrollspy;e.fn.scrollspy=function(a){return this.each(function(){var g=e(this),c=g.data("scrollspy"),b=typeof a=="object"&&a;c||g.data("scrollspy",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.scrollspy.Constructor=d,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=f,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var a=e(this);a.scrollspy(a.data())})})}(window.jQuery),!function(e){var d=function(a){this.element=e(a)};d.prototype={constructor:d,show:function(){var a=this.element,l=a.closest("ul:not(.dropdown-menu)"),k=a.attr("data-target"),j,i,h;k||(k=a.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,""));if(a.parent("li").hasClass("active")){return}j=l.find(".active:last a")[0],h=e.Event("show",{relatedTarget:j}),a.trigger(h);if(h.isDefaultPrevented()){return}i=e(k),this.activate(a.parent("li"),l),this.activate(i,i.parent(),function(){a.trigger({type:"shown",relatedTarget:j})})},activate:function(a,l,k){function h(){j.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),i?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),k&&k()}var j=l.find("> .active"),i=k&&e.support.transition&&j.hasClass("fade");i?j.one(e.support.transition.end,h):h(),j.removeClass("in")}};var f=e.fn.tab;e.fn.tab=function(a){return this.each(function(){var c=e(this),b=c.data("tab");b||c.data("tab",b=new d(this)),typeof a=="string"&&b[a]()})},e.fn.tab.Constructor=d,e.fn.tab.noConflict=function(){return e.fn.tab=f,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){var d=function(g,c){this.init("tooltip",g,c)};d.prototype={constructor:d,init:function(a,p,o){var n,m,l,k,j;this.type=a,this.$element=e(p),this.options=this.getOptions(o),this.enabled=!0,l=this.options.trigger.split(" ");for(j=l.length;j--;){k=l[j],k=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):k!="manual"&&(n=k=="hover"?"mouseenter":"focus",m=k=="hover"?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(m+"."+this.type,this.options.selector,e.proxy(this.leave,this)))}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){return a=e.extend({},e.fn[this.type].defaults,this.$element.data(),a),a.delay&&typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),a},enter:function(a){var i=e.fn[this.type].defaults,h={},g;this._options&&e.each(this._options,function(j,c){i[j]!=c&&(h[j]=c)},this),g=e(a.currentTarget)[this.type](h).data(this.type);if(!g.options.delay||!g.options.delay.show){return g.show()}clearTimeout(this.timeout),g.hoverState="in",this.timeout=setTimeout(function(){g.hoverState=="in"&&g.show()},g.options.delay.show)},leave:function(a){var g=e(a.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!g.options.delay||!g.options.delay.hide){return g.hide()}g.hoverState="out",this.timeout=setTimeout(function(){g.hoverState=="out"&&g.hide()},g.options.delay.hide)},show:function(){var a,n,m,l,k,j,i=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(i);if(i.isDefaultPrevented()){return}a=this.tip(),this.setContent(),this.options.animation&&a.addClass("fade"),k=typeof this.options.placement=="function"?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,a.detach().css({top:0,left:0,display:"block"}),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),n=this.getPosition(),m=a[0].offsetWidth,l=a[0].offsetHeight;switch(k){case"bottom":j={top:n.top+n.height,left:n.left+n.width/2-m/2};break;case"top":j={top:n.top-l,left:n.left+n.width/2-m/2};break;case"left":j={top:n.top+n.height/2-l/2,left:n.left-m};break;case"right":j={top:n.top+n.height/2-l/2,left:n.left+n.width}}this.applyPlacement(j,k),this.$element.trigger("shown")}},applyPlacement:function(r,q){var p=this.tip(),o=p[0].offsetWidth,n=p[0].offsetHeight,m,l,k,j;p.offset(r).addClass(q).addClass("in"),m=p[0].offsetWidth,l=p[0].offsetHeight,q=="top"&&l!=n&&(r.top=r.top+n-l,j=!0),q=="bottom"||q=="top"?(k=0,r.left<0&&(k=r.left*-2,r.left=0,p.offset(r),m=p[0].offsetWidth,l=p[0].offsetHeight),this.replaceArrow(k-o+m,m,"left")):this.replaceArrow(l-n,l,"top"),j&&p.offset(r)},replaceArrow:function(h,g,i){this.arrow().css(i,h?50*(1-h/g)+"%":"")},setContent:function(){var g=this.tip(),c=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](c),g.removeClass("fade in top bottom left right")},hide:function(){function g(){var c=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(c),i.detach()})}var a=this,i=this.tip(),h=e.Event("hide");this.$element.trigger(h);if(h.isDefaultPrevented()){return}return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?g():i.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var b=this.$element;(b.attr("title")||typeof b.attr("data-original-title")!="string")&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return e.extend({},typeof a.getBoundingClientRect=="function"?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var h,g=this.$element,i=this.options;return h=g.attr("data-original-title")||(typeof i.title=="function"?i.title.call(g[0]):i.title),h},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){var g=a?e(a.currentTarget)[this.type](this._options).data(this.type):this;g.tip().hasClass("in")?g.hide():g.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var f=e.fn.tooltip;e.fn.tooltip=function(a){return this.each(function(){var g=e(this),c=g.data("tooltip"),b=typeof a=="object"&&a;c||g.data("tooltip",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.tooltip.Constructor=d,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=f,this}}(window.jQuery),!function(e){var d=function(g,c){this.init("popover",g,c)};d.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var h=this.tip(),g=this.getTitle(),i=this.getContent();h.find(".popover-title")[this.options.html?"html":"text"](g),h.find(".popover-content")[this.options.html?"html":"text"](i),h.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var h,g=this.$element,i=this.options;return h=(typeof i.content=="function"?i.content.call(g[0]):i.content)||g.attr("data-content"),h},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var f=e.fn.popover;e.fn.popover=function(a){return this.each(function(){var g=e(this),c=g.data("popover"),b=typeof a=="object"&&a;c||g.data("popover",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.popover.Constructor=d,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=f,this}}(window.jQuery),!function(e){var d=function(a,g){this.options=e.extend({},e.fn.affix.defaults,g),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(a),this.checkPosition()};d.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var a=e(document).height(),p=this.$window.scrollTop(),o=this.$element.offset(),n=this.options.offset,m=n.bottom,l=n.top,k="affix affix-top affix-bottom",j;typeof n!="object"&&(m=l=n),typeof l=="function"&&(l=n.top()),typeof m=="function"&&(m=n.bottom()),j=this.unpin!=null&&p+this.unpin<=o.top?!1:m!=null&&o.top+this.$element.height()>=a-m?"bottom":l!=null&&p<=l?"top":!1;if(this.affixed===j){return}this.affixed=j,this.unpin=j=="bottom"?o.top-p:null,this.$element.removeClass(k).addClass("affix"+(j?"-"+j:""))};var f=e.fn.affix;e.fn.affix=function(a){return this.each(function(){var g=e(this),c=g.data("affix"),b=typeof a=="object"&&a;c||g.data("affix",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.affix.Constructor=d,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=f,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this),g=a.data();g.offset=g.offset||{},g.offsetBottom&&(g.offset.bottom=g.offsetBottom),g.offsetTop&&(g.offset.top=g.offsetTop),a.affix(g)})})}(window.jQuery),!function(f){var e='[data-dismiss="alert"]',h=function(a){f(a).on("click",e,this.close)};h.prototype.close=function(a){function i(){j.trigger("closed").remove()}var l=f(this),k=l.attr("data-target"),j;k||(k=l.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),j=f(k),a&&a.preventDefault(),j.length||(j=l.hasClass("alert")?l:l.parent()),j.trigger(a=f.Event("close"));if(a.isDefaultPrevented()){return}j.removeClass("in"),f.support.transition&&j.hasClass("fade")?j.on(f.support.transition.end,i):i()};var g=f.fn.alert;f.fn.alert=function(a){return this.each(function(){var c=f(this),b=c.data("alert");b||c.data("alert",b=new h(this)),typeof a=="string"&&b[a].call(c)})},f.fn.alert.Constructor=h,f.fn.alert.noConflict=function(){return f.fn.alert=g,this},f(document).on("click.alert.data-api",e,h.prototype.close)}(window.jQuery),!function(e){var d=function(a,g){this.$element=e(a),this.options=e.extend({},e.fn.button.defaults,g)};d.prototype.setState=function(h){var g="disabled",k=this.$element,j=k.data(),i=k.is("input")?"val":"html";h+="Text",j.resetText||k.data("resetText",k[i]()),k[i](j[h]||this.options[h]),setTimeout(function(){h=="loadingText"?k.addClass(g).attr(g,g):k.removeClass(g).removeAttr(g)},0)},d.prototype.toggle=function(){var b=this.$element.closest('[data-toggle="buttons-radio"]');b&&b.find(".active").removeClass("active"),this.$element.toggleClass("active")};var f=e.fn.button;e.fn.button=function(a){return this.each(function(){var g=e(this),c=g.data("button"),b=typeof a=="object"&&a;c||g.data("button",c=new d(this,b)),a=="toggle"?c.toggle():a&&c.setState(a)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=d,e.fn.button.noConflict=function(){return e.fn.button=f,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(a){var g=e(a.target);g.hasClass("btn")||(g=g.closest(".btn")),g.button("toggle")})}(window.jQuery),!function(e){var d=function(a,g){this.$element=e(a),this.options=e.extend({},e.fn.collapse.defaults,g),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};d.prototype={constructor:d,dimension:function(){var b=this.$element.hasClass("width");return b?"width":"height"},show:function(){var a,i,h,g;if(this.transitioning||this.$element.hasClass("in")){return}a=this.dimension(),i=e.camelCase(["scroll",a].join("-")),h=this.$parent&&this.$parent.find("> .accordion-group > .in");if(h&&h.length){g=h.data("collapse");if(g&&g.transitioning){return}h.collapse("hide"),g||h.data("collapse",null)}this.$element[a](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[a](this.$element[0][i])},hide:function(){var a;if(this.transitioning||!this.$element.hasClass("in")){return}a=this.dimension(),this.reset(this.$element[a]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[a](0)},reset:function(g){var c=this.dimension();return this.$element.removeClass("collapse")[c](g||"auto")[0].offsetWidth,this.$element[g!==null?"addClass":"removeClass"]("collapse"),this},transition:function(a,j,i){var h=this,g=function(){j.type=="show"&&h.reset(),h.transitioning=0,h.$element.trigger(i)};this.$element.trigger(j);if(j.isDefaultPrevented()){return}this.transitioning=1,this.$element[a]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,g):g()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var f=e.fn.collapse;e.fn.collapse=function(a){return this.each(function(){var g=e(this),c=g.data("collapse"),b=e.extend({},e.fn.collapse.defaults,g.data(),typeof a=="object"&&a);c||g.data("collapse",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=d,e.fn.collapse.noConflict=function(){return e.fn.collapse=f,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(a){var j=e(this),i,h=j.attr("data-target")||a.preventDefault()||(i=j.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),g=e(h).data("collapse")?"toggle":j.data();j[e(h).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(h).collapse(g)})}(window.jQuery),!function(e){var d=function(a,g){this.$element=e(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=g,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};d.prototype={cycle:function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(a){var h=this.getActiveIndex(),g=this;if(a>this.$items.length-1||a<0){return}return this.sliding?this.$element.one("slid",function(){g.to(a)}):h==a?this.pause().cycle():this.slide(a>h?"next":"prev",e(this.$items[a]))},pause:function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(r,q){var p=this.$element.find(".item.active"),o=q||p[r](),n=this.interval,m=r=="next"?"left":"right",l=r=="next"?"first":"last",k=this,a;this.sliding=!0,n&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),a=e.Event("slide",{relatedTarget:o[0],direction:m});if(o.hasClass("active")){return}this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var c=e(k.$indicators.children()[k.getActiveIndex()]);c&&c.addClass("active")}));if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(a);if(a.isDefaultPrevented()){return}o.addClass(r),o[0].offsetWidth,p.addClass(m),o.addClass(m),this.$element.one(e.support.transition.end,function(){o.removeClass([r,m].join(" ")).addClass("active"),p.removeClass(["active",m].join(" ")),k.sliding=!1,setTimeout(function(){k.$element.trigger("slid")},0)})}else{this.$element.trigger(a);if(a.isDefaultPrevented()){return}p.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}};var f=e.fn.carousel;e.fn.carousel=function(a){return this.each(function(){var i=e(this),h=i.data("carousel"),c=e.extend({},e.fn.carousel.defaults,typeof a=="object"&&a),b=typeof a=="string"?a:c.slide;h||i.data("carousel",h=new d(this,c)),typeof a=="number"?h.to(a):b?h[b]():c.interval&&h.pause().cycle()})},e.fn.carousel.defaults={interval:5000,pause:"hover"},e.fn.carousel.Constructor=d,e.fn.carousel.noConflict=function(){return e.fn.carousel=f,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(a){var l=e(this),k,j=e(l.attr("data-target")||(k=l.attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"")),i=e.extend({},j.data(),l.data()),h;j.carousel(i),(h=l.attr("data-slide-to"))&&j.data("carousel").pause().to(h).cycle(),a.preventDefault()})}(window.jQuery),!function(e){var d=function(a,g){this.$element=e(a),this.options=e.extend({},e.fn.typeahead.defaults,g),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};d.prototype={constructor:d,select:function(){var b=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(b)).change(),this.hide()},updater:function(b){return b},show:function(){var a=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:a.top+a.height,left:a.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(a){var g;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(g=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,g?this.process(g):this)},process:function(a){var g=this;return a=e.grep(a,function(b){return g.matcher(b)}),a=this.sorter(a),a.length?this.render(a.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(b){return ~b.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(h){var g=[],k=[],j=[],i;while(i=h.shift()){i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?k.push(i):j.push(i):g.push(i)}return g.concat(k,j)},highlighter:function(g){var c=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return g.replace(new RegExp("("+c+")","ig"),function(i,h){return"<strong>"+h+"</strong>"})},render:function(a){var g=this;return a=e(a).map(function(c,h){return c=e(g.options.item).attr("data-value",h),c.find("a").html(g.highlighter(h)),c[0]}),a.first().addClass("active"),this.$menu.html(a),this},next:function(a){var h=this.$menu.find(".active").removeClass("active"),g=h.next();g.length||(g=e(this.$menu.find("li")[0])),g.addClass("active")},prev:function(h){var g=this.$menu.find(".active").removeClass("active"),i=g.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(g){var c=g in this.$element;return c||(this.$element.setAttribute(g,"return;"),c=typeof this.$element[g]=="function"),c},move:function(b){if(!this.shown){return}switch(b.keyCode){case 9:case 13:case 27:b.preventDefault();break;case 38:b.preventDefault(),this.prev();break;case 40:b.preventDefault(),this.next()}b.stopPropagation()},keydown:function(a){this.suppressKeyPressRepeat=~e.inArray(a.keyCode,[40,38,9,13,27]),this.move(a)},keypress:function(b){if(this.suppressKeyPressRepeat){return}this.move(b)},keyup:function(b){switch(b.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}b.stopPropagation(),b.preventDefault()},focus:function(b){this.focused=!0},blur:function(b){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(b){b.stopPropagation(),b.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(a){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(a.currentTarget).addClass("active")},mouseleave:function(b){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var f=e.fn.typeahead;e.fn.typeahead=function(a){return this.each(function(){var g=e(this),c=g.data("typeahead"),b=typeof a=="object"&&a;c||g.data("typeahead",c=new d(this,b)),typeof a=="string"&&c[a]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=d,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=f,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var g=e(this);if(g.data("typeahead")){return}g.typeahead(g.data())})}(window.jQuery);!function(a){var b=function(d,c){var e=this;this.$element=a(d);this.options=a.extend({},a.fn.buttonSelect.defaults,c);this.$wrap=this.$element.wrap(this.options.wrap).parent();this.$prev=a(this.options.button).clone().html(this.options.prev).appendTo(this.$wrap);this.$span=a(this.options.span).clone().text(this.$element.children(":selected").text()).appendTo(this.$wrap);this.$next=a(this.options.button).clone().html(this.options.next).appendTo(this.$wrap);this.$element.appendTo(this.$wrap.parent()).hide();this.$element.change(function(){e.$span.text(e.$element.children(":selected").text())});this.$next.on("click",function(f){b.prototype.next.call(e)});this.$prev.on("click",function(f){b.prototype.prev.call(e)})};b.prototype.next=function(){var d=this.$element.prop("selectedIndex"),c=this.$element.children("option").length;if(d+1<c){this.$element.prop("selectedIndex",d+1);this.$element.change()}};b.prototype.prev=function(){var c=this.$element.prop("selectedIndex");if(c>0){this.$element.prop("selectedIndex",c-1);this.$element.change()}};a.fn.buttonSelect=function(c){return this.each(function(){var f=a(this),e=f.data("buttonSelect"),d=typeof c=="object"&&c;if(!e){f.data("buttonSelect",(e=new b(this,d)))}if(typeof c=="string"){e[c]()}})};a.fn.buttonSelect.defaults={wrap:'<div class="btn-group" />',button:'<a class="btn" />',span:'<span class="btn" />',next:"&gt;",prev:"&lt;"};a.fn.buttonSelect.Constructor=b;a(function(){a("select[data-change=select]").buttonSelect({})})}(window.jQuery);
/*!
 * jsUri
 * https://github.com/derek-watson/jsUri
 *
 * Copyright 2012, Derek Watson
 * Released under the MIT license.
 *
 * Includes parseUri regular expressions
 * http://blog.stevenlevithan.com/archives/parseuri
 * Copyright 2007, Steven Levithan
 * Released under the MIT license.
 *
 */
(function(d){function b(g){return g=decodeURIComponent(g),g=g.replace("+"," "),g}function f(k){var h=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,l=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],j=h.exec(k||""),g={};return l.forEach(function(m,i){g[m]=j[i]||""}),g}function c(m){var j,q,l,h,k,p,g=[];if(typeof m=="undefined"||m===null||m===""){return g}m.indexOf("?")===0&&(m=m.substring(1)),q=m.toString().split(/[&;]/);for(j=0;j<q.length;j++){l=q[j],h=l.split("="),k=h[0],p=l.indexOf("=")===-1?null:h[1]===null?"":h[1],g.push([k,p])}return g}function a(g){this.uriParts=f(g),this.queryPairs=c(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(i,g){for(var j=0,h=this.length;j<h;++j){i.call(g||this,this[j],j,this)}}),["protocol","userInfo","host","port","path","anchor"].forEach(function(g){a.prototype[g]=function(e){return typeof e!="undefined"&&(this.uriParts[g]=e),this.uriParts[g]}}),a.prototype.hasAuthorityPrefix=function(g){return typeof g!="undefined"&&(this.hasAuthorityPrefixUserPref=g),this.hasAuthorityPrefixUserPref===null?this.uriParts.source.indexOf("//")!==-1:this.hasAuthorityPrefixUserPref},a.prototype.query=function(j){var h="",k,g;typeof j!="undefined"&&(this.queryPairs=c(j));for(k=0;k<this.queryPairs.length;k++){g=this.queryPairs[k],h.length>0&&(h+="&"),g[1]===null?h+=g[0]:(h+=g[0],h+="=",g[1]&&(h+=encodeURIComponent(g[1])))}return h.length>0?"?"+h:h},a.prototype.getQueryParamValue=function(h){var i,g;for(g=0;g<this.queryPairs.length;g++){i=this.queryPairs[g];if(b(h)===b(i[0])){return i[1]}}},a.prototype.getQueryParamValues=function(j){var k=[],h,g;for(h=0;h<this.queryPairs.length;h++){g=this.queryPairs[h],b(j)===b(g[0])&&k.push(g[1])}return k},a.prototype.deleteQueryParam=function(l,p){var k=[],h,j,m,g;for(h=0;h<this.queryPairs.length;h++){j=this.queryPairs[h],m=b(j[0])===b(l),g=b(j[1])===b(p),(arguments.length===1&&!m||arguments.length===2&&!m&&!g)&&k.push(j)}return this.queryPairs=k,this},a.prototype.addQueryParam=function(h,g,i){return arguments.length===3&&i!==-1?(i=Math.min(i,this.queryPairs.length),this.queryPairs.splice(i,0,[h,g])):arguments.length>0&&this.queryPairs.push([h,g]),this},a.prototype.replaceQueryParam=function(k,m,j){var g=-1,h,l;if(arguments.length===3){for(h=0;h<this.queryPairs.length;h++){l=this.queryPairs[h];if(b(l[0])===b(k)&&decodeURIComponent(l[1])===b(j)){g=h;break}}this.deleteQueryParam(k,j).addQueryParam(k,m,g)}else{for(h=0;h<this.queryPairs.length;h++){l=this.queryPairs[h];if(b(l[0])===b(k)){g=h;break}}this.deleteQueryParam(k),this.addQueryParam(k,m,g)}return this},["protocol","hasAuthorityPrefix","userInfo","host","port","path","query","anchor"].forEach(function(h){var g="set"+h.charAt(0).toUpperCase()+h.slice(1);a.prototype[g]=function(e){return this[h](e),this}}),a.prototype.scheme=function(){var g="";return this.protocol()?(g+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(g+=":"),g+="//"):this.hasAuthorityPrefix()&&this.host()&&(g+="//"),g},a.prototype.origin=function(){var g=this.scheme();return this.userInfo()&&this.host()&&(g+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(g+="@")),this.host()&&(g+=this.host(),this.port()&&(g+=":"+this.port())),g},a.prototype.toString=function(){var g=this.origin();return this.path()?g+=this.path():this.host()&&(this.query().toString()||this.anchor())&&(g+="/"),this.query().toString()&&(this.query().toString().indexOf("?")!==0&&(g+="?"),g+=this.query().toString()),this.anchor()&&(this.anchor().indexOf("#")!==0&&(g+="#"),g+=this.anchor()),g},a.prototype.clone=function(){return new a(this.toString())},typeof module=="undefined"?d.Uri=a:module.exports=a})(this);(function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,aq=au.reduce,ac=au.reduceRight,ar=au.filter,av=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,ab=Object.keys,az=ap.bind,ao=function(a){return a instanceof ao?a:this instanceof ao?(this._wrapped=a,void 0):new ao(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ao),exports._=ao):ak._=ao,ao.VERSION="1.5.2";var X=ao.each=ao.forEach=function(h,f,g){if(null!=h){if(af&&h.forEach===af){h.forEach(f,g)}else{if(h.length===+h.length){for(var c=0,d=h.length;d>c;c++){if(f.call(g,h[c],c,h)===ag){return}}}else{for(var b=ao.keys(h),c=0,d=b.length;d>c;c++){if(f.call(g,h[b[c]],b[c],h)===ag){return}}}}}};ao.map=ao.collect=function(d,a,b){var c=[];return null==d?c:ai&&d.map===ai?d.map(a,b):(X(d,function(g,e,f){c.push(a.call(b,g,e,f))}),c)};var U="Reduce of empty array with no initial value";ao.reduce=ao.foldl=ao.inject=function(f,b,c,d){var a=arguments.length>2;if(null==f&&(f=[]),aq&&f.reduce===aq){return d&&(b=ao.bind(b,d)),a?f.reduce(b,c):f.reduce(b)}if(X(f,function(h,g,e){a?c=b.call(d,c,h,g,e):(c=h,a=!0)}),!a){throw new TypeError(U)}return c},ao.reduceRight=ao.foldr=function(j,f,g,h){var c=arguments.length>2;if(null==j&&(j=[]),ac&&j.reduceRight===ac){return h&&(f=ao.bind(f,h)),c?j.reduceRight(f,g):j.reduceRight(f)}var d=j.length;if(d!==+d){var b=ao.keys(j);d=b.length}if(X(j,function(e,i,a){i=b?b[--d]:--d,c?g=f.call(h,g,j[i],i,a):(g=j[i],c=!0)}),!c){throw new TypeError(U)}return g},ao.find=ao.detect=function(d,a,b){var c;return J(d,function(g,e,f){return a.call(b,g,e,f)?(c=g,!0):void 0}),c},ao.filter=ao.select=function(d,a,b){var c=[];return null==d?c:ar&&d.filter===ar?d.filter(a,b):(X(d,function(g,e,f){a.call(b,g,e,f)&&c.push(g)}),c)},ao.reject=function(c,a,b){return ao.filter(c,function(g,f,d){return !a.call(b,g,f,d)},b)},ao.every=ao.all=function(d,b,c){b||(b=ao.identity);var a=!0;return null==d?a:av&&d.every===av?d.every(b,c):(X(d,function(g,f,e){return(a=a&&b.call(c,g,f,e))?void 0:ag}),!!a)};var J=ao.some=ao.any=function(d,b,c){b||(b=ao.identity);var a=!1;return null==d?a:al&&d.some===al?d.some(b,c):(X(d,function(g,f,e){return a||(a=b.call(c,g,f,e))?ag:void 0}),!!a)};ao.contains=ao.include=function(b,a){return null==b?!1:Z&&b.indexOf===Z?b.indexOf(a)!=-1:J(b,function(c){return c===a})},ao.invoke=function(d,a){var b=aj.call(arguments,2),c=ao.isFunction(a);return ao.map(d,function(e){return(c?a:e[a]).apply(e,b)})},ao.pluck=function(b,a){return ao.map(b,function(c){return c[a]})},ao.where=function(c,a,b){return ao.isEmpty(a)?b?void 0:[]:ao[b?"find":"filter"](c,function(e){for(var d in a){if(a[d]!==e[d]){return !1}}return !0})},ao.findWhere=function(b,a){return ao.where(b,a,!0)},ao.max=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.max.apply(Math,d)}if(!a&&ao.isEmpty(d)){return -1/0}var c={computed:-1/0,value:-1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;e>c.computed&&(c={value:h,computed:e})}),c.value},ao.min=function(d,a,b){if(!a&&ao.isArray(d)&&d[0]===+d[0]&&d.length<65535){return Math.min.apply(Math,d)}if(!a&&ao.isEmpty(d)){return 1/0}var c={computed:1/0,value:1/0};return X(d,function(h,f,g){var e=a?a.call(b,h,f,g):h;e<c.computed&&(c={value:h,computed:e})}),c.value},ao.shuffle=function(d){var a,b=0,c=[];return X(d,function(e){a=ao.random(b++),c[b-1]=c[a],c[a]=e}),c},ao.sample=function(c,a,b){return arguments.length<2||b?c[ao.random(c.length-1)]:ao.shuffle(c).slice(0,Math.max(0,a))};var an=function(a){return ao.isFunction(a)?a:function(b){return b[a]}};ao.sortBy=function(d,a,b){var c=an(a);return ao.pluck(ao.map(d,function(g,f,e){return{value:g,index:f,criteria:c.call(b,g,f,e)}}).sort(function(i,f){var g=i.criteria,h=f.criteria;if(g!==h){if(g>h||g===void 0){return 1}if(h>g||h===void 0){return -1}}return i.index-f.index}),"value")};var Q=function(a){return function(d,f,g){var b={},c=null==f?ao.identity:an(f);return X(d,function(h,e){var i=c.call(g,h,e,d);a(b,i,h)}),b}};ao.groupBy=Q(function(c,a,b){(ao.has(c,a)?c[a]:c[a]=[]).push(b)}),ao.indexBy=Q(function(c,a,b){c[a]=b}),ao.countBy=Q(function(b,a){ao.has(b,a)?b[a]++:b[a]=1}),ao.sortedIndex=function(k,f,g,h){g=null==g?ao.identity:an(g);for(var c=g.call(h,f),d=0,b=k.length;b>d;){var j=d+b>>>1;g.call(h,k[j])<c?d=j+1:b=j}return d},ao.toArray=function(a){return a?ao.isArray(a)?aj.call(a):a.length===+a.length?ao.map(a,ao.identity):ao.values(a):[]},ao.size=function(a){return null==a?0:a.length===+a.length?a.length:ao.keys(a).length},ao.first=ao.head=ao.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:aj.call(c,0,a)},ao.initial=function(c,a,b){return aj.call(c,0,c.length-(null==a||b?1:a))},ao.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:aj.call(c,Math.max(c.length-a,0))},ao.rest=ao.tail=ao.drop=function(c,a,b){return aj.call(c,null==a||b?1:a)},ao.compact=function(a){return ao.filter(a,ao.identity)};var L=function(c,a,b){return a&&ao.every(c,ao.isArray)?aw.apply(b,c):(X(c,function(d){ao.isArray(d)||ao.isArguments(d)?a?ay.apply(b,d):L(d,a,b):b.push(d)}),b)};ao.flatten=function(b,a){return L(b,a,[])},ao.without=function(a){return ao.difference(a,aj.call(arguments,1))},ao.uniq=ao.unique=function(j,f,g,h){ao.isFunction(f)&&(h=g,g=f,f=!1);var c=g?ao.map(j,g,h):j,d=[],b=[];return X(c,function(a,i){(f?i&&b[b.length-1]===a:ao.contains(b,a))||(b.push(a),d.push(j[i]))}),d},ao.union=function(){return ao.uniq(ao.flatten(arguments,!0))},ao.intersection=function(b){var a=aj.call(arguments,1);return ao.filter(ao.uniq(b),function(c){return ao.every(a,function(d){return ao.indexOf(d,c)>=0})})},ao.difference=function(b){var a=aw.apply(au,aj.call(arguments,1));return ao.filter(b,function(c){return !ao.contains(a,c)})},ao.zip=function(){for(var c=ao.max(ao.pluck(arguments,"length").concat(0)),a=new Array(c),b=0;c>b;b++){a[b]=ao.pluck(arguments,""+b)}return a},ao.object=function(f,b){if(null==f){return{}}for(var c={},d=0,a=f.length;a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ao.indexOf=function(f,b,c){if(null==f){return -1}var d=0,a=f.length;if(c){if("number"!=typeof c){return d=ao.sortedIndex(f,b),f[d]===b?d:-1}d=0>c?Math.max(0,a+c):c}if(Z&&f.indexOf===Z){return f.indexOf(b,c)}for(;a>d;d++){if(f[d]===b){return d}}return -1},ao.lastIndexOf=function(f,b,c){if(null==f){return -1}var d=null!=c;if(ax&&f.lastIndexOf===ax){return d?f.lastIndexOf(b,c):f.lastIndexOf(b)}for(var a=d?c:f.length;a--;){if(f[a]===b){return a}}return -1},ao.range=function(g,c,d){arguments.length<=1&&(c=g||0,g=0),d=arguments[2]||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=0,b=new Array(f);f>a;){b[a++]=g,g+=d}return b};var H=function(){};ao.bind=function(d,a){var b,c;if(az&&d.bind===az){return az.apply(d,aj.call(arguments,1))}if(!ao.isFunction(d)){throw new TypeError}return b=aj.call(arguments,2),c=function(){if(!(this instanceof c)){return d.apply(a,b.concat(aj.call(arguments)))}H.prototype=d.prototype;var e=new H;H.prototype=null;var f=d.apply(e,b.concat(aj.call(arguments)));return Object(f)===f?f:e}},ao.partial=function(b){var a=aj.call(arguments,1);return function(){return b.apply(this,a.concat(aj.call(arguments)))}},ao.bindAll=function(b){var a=aj.call(arguments,1);if(0===a.length){throw new Error("bindAll must be passed function names")}return X(a,function(c){b[c]=ao.bind(b[c],b)}),b},ao.memoize=function(c,a){var b={};return a||(a=ao.identity),function(){var d=a.apply(this,arguments);return ao.has(b,d)?b[d]:b[d]=c.apply(this,arguments)}},ao.delay=function(c,a){var b=aj.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ao.defer=function(a){return ao.delay.apply(ao,[a,1].concat(aj.call(arguments,1)))},ao.throttle=function(f,m,b){var h,l,g,k=null,d=0;b||(b={});var j=function(){d=b.leading===!1?0:new Date,k=null,g=f.apply(h,l)};return function(){var a=new Date;d||b.leading!==!1||(d=a);var c=m-(a-d);return h=this,l=arguments,0>=c?(clearTimeout(k),k=null,d=a,g=f.apply(h,l)):k||b.trailing===!1||(k=setTimeout(j,c)),g}},ao.debounce=function(k,f,g){var h,c,d,b,j;return function(){d=this,c=arguments,b=new Date;var e=function(){var i=new Date-b;f>i?h=setTimeout(e,f-i):(h=null,g||(j=k.apply(d,c)))},a=g&&!h;return h||(h=setTimeout(e,f)),a&&(j=k.apply(d,c)),j}},ao.once=function(c){var a,b=!1;return function(){return b?a:(b=!0,a=c.apply(this,arguments),c=null,a)}},ao.wrap=function(b,a){return function(){var c=[b];return ay.apply(c,arguments),a.apply(this,c)}},ao.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--){b=[a[c].apply(this,b)]}return b[0]}},ao.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ao.keys=ab||function(c){if(c!==Object(c)){throw new TypeError("Invalid object")}var a=[];for(var b in c){ao.has(c,b)&&a.push(b)}return a},ao.values=function(f){for(var b=ao.keys(f),c=b.length,d=new Array(c),a=0;c>a;a++){d[a]=f[b[a]]}return d},ao.pairs=function(f){for(var b=ao.keys(f),c=b.length,d=new Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]]}return d},ao.invert=function(f){for(var b={},c=ao.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d]}return b},ao.functions=ao.methods=function(c){var a=[];for(var b in c){ao.isFunction(c[b])&&a.push(b)}return a.sort()},ao.extend=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]=b[c]}}}),a},ao.pick=function(c){var a={},b=aw.apply(au,aj.call(arguments,1));return X(b,function(d){d in c&&(a[d]=c[d])}),a},ao.omit=function(d){var b={},c=aw.apply(au,aj.call(arguments,1));for(var a in d){ao.contains(c,a)||(b[a]=d[a])}return b},ao.defaults=function(a){return X(aj.call(arguments,1),function(b){if(b){for(var c in b){a[c]===void 0&&(a[c]=b[c])}}}),a},ao.clone=function(a){return ao.isObject(a)?ao.isArray(a)?a.slice():ao.extend({},a):a},ao.tap=function(b,a){return a(b),b};var G=function(g,q,b,k){if(g===q){return 0!==g||1/g==1/q}if(null==g||null==q){return g===q}g instanceof ao&&(g=g._wrapped),q instanceof ao&&(q=q._wrapped);var p=am.call(g);if(p!=am.call(q)){return !1}switch(p){case"[object String]":return g==String(q);case"[object Number]":return g!=+g?q!=+q:0==g?1/g==1/q:g==+q;case"[object Date]":case"[object Boolean]":return +g==+q;case"[object RegExp]":return g.source==q.source&&g.global==q.global&&g.multiline==q.multiline&&g.ignoreCase==q.ignoreCase}if("object"!=typeof g||"object"!=typeof q){return !1}for(var h=b.length;h--;){if(b[h]==g){return k[h]==q}}var m=g.constructor,d=q.constructor;if(m!==d&&!(ao.isFunction(m)&&m instanceof m&&ao.isFunction(d)&&d instanceof d)){return !1}b.push(g),k.push(q);var l=0,j=!0;if("[object Array]"==p){if(l=g.length,j=l==q.length){for(;l--&&(j=G(g[l],q[l],b,k));){}}}else{for(var v in g){if(ao.has(g,v)&&(l++,!(j=ao.has(q,v)&&G(g[v],q[v],b,k)))){break}}if(j){for(v in q){if(ao.has(q,v)&&!l--){break}}j=!l}}return b.pop(),k.pop(),j};ao.isEqual=function(b,a){return G(b,a,[],[])},ao.isEmpty=function(b){if(null==b){return !0}if(ao.isArray(b)||ao.isString(b)){return 0===b.length}for(var a in b){if(ao.has(b,a)){return !1}}return !0},ao.isElement=function(a){return !(!a||1!==a.nodeType)},ao.isArray=aa||function(a){return"[object Array]"==am.call(a)},ao.isObject=function(a){return a===Object(a)},X(["Arguments","Function","String","Number","Date","RegExp"],function(a){ao["is"+a]=function(b){return am.call(b)=="[object "+a+"]"}}),ao.isArguments(arguments)||(ao.isArguments=function(a){return !(!a||!ao.has(a,"callee"))}),"function"!=typeof/./&&(ao.isFunction=function(a){return"function"==typeof a}),ao.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ao.isNaN=function(a){return ao.isNumber(a)&&a!=+a},ao.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==am.call(a)},ao.isNull=function(a){return null===a},ao.isUndefined=function(a){return a===void 0},ao.has=function(b,a){return at.call(b,a)},ao.noConflict=function(){return ak._=ae,this},ao.identity=function(a){return a},ao.times=function(f,b,c){for(var d=Array(Math.max(0,f)),a=0;f>a;a++){d[a]=b.call(c,a)}return d},ao.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=ao.invert(P.escape);var C={escape:new RegExp("["+ao.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+ao.keys(P.unescape).join("|")+")","g")};ao.each(["escape","unescape"],function(a){ao[a]=function(b){return null==b?"":(""+b).replace(C[a],function(c){return P[a][c]})}}),ao.result=function(c,a){if(null==c){return void 0}var b=c[a];return ao.isFunction(b)?b.call(c):b},ao.mixin=function(a){X(ao.functions(a),function(b){var c=ao[b]=a[b];ao.prototype[b]=function(){var d=[this._wrapped];return ay.apply(d,arguments),Y.call(this,c.apply(ao,d))}})};var K=0;ao.uniqueId=function(b){var a=++K+"";return b?b+a:a},ao.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;ao.template=function(f,m,b){var h;b=ao.defaults({},b,ao.templateSettings);var l=new RegExp([(b.escape||ah).source,(b.interpolate||ah).source,(b.evaluate||ah).source].join("|")+"|$","g"),g=0,k="__p+='";f.replace(l,function(c,i,n,a,p){return k+=f.slice(g,p).replace(V,function(e){return"\\"+W[e]}),i&&(k+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(k+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),a&&(k+="';\n"+a+"\n__p+='"),g=p+c.length,c}),k+="';\n",b.variable||(k="with(obj||{}){\n"+k+"}\n"),k="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+k+"return __p;\n";try{h=new Function(b.variable||"obj","_",k)}catch(d){throw d.source=k,d}if(m){return h(m,ao)}var j=function(a){return h.call(this,a,ao)};return j.source="function("+(b.variable||"obj")+"){\n"+k+"}",j},ao.chain=function(a){return ao(a).chain()};var Y=function(a){return this._chain?ao(a).chain():a};ao.mixin(ao),X(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=au[b];ao.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!=b&&"splice"!=b||0!==c.length||delete c[0],Y.call(this,c)}}),X(["concat","join","slice"],function(b){var a=au[b];ao.prototype[b]=function(){return Y.call(this,a.apply(this._wrapped,arguments))}}),ao.extend(ao.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);d3=function(){var gX={version:"3.3.3"};if(!Date.now){Date.now=function(){return +new Date()}}var bG=[].slice,dE=function(e){return bG.call(e)};var bF=document,dX=bF.documentElement,fn=window;try{dE(dX.childNodes)[0].nodeType}catch(gQ){dE=function(hJ){var e=hJ.length,hK=new Array(e);while(e--){hK[e]=hJ[e]}return hK}}try{bF.createElement("div").style.setProperty("opacity",0,"")}catch(fj){var dC=fn.Element.prototype,bS=dC.setAttribute,gJ=dC.setAttributeNS,dn=fn.CSSStyleDeclaration.prototype,gt=dn.setProperty;dC.setAttribute=function(e,hJ){bS.call(this,e,hJ+"")};dC.setAttributeNS=function(hK,e,hJ){gJ.call(this,hK,e,hJ+"")};dn.setProperty=function(e,hK,hJ){gt.call(this,e,hK+"",hJ)}}gX.ascending=function(hJ,e){return hJ<e?-1:hJ>e?1:hJ>=e?0:NaN};gX.descending=function(hJ,e){return e<hJ?-1:e>hJ?1:e>=hJ?0:NaN};gX.min=function(hN,hL){var hK=-1,hM=hN.length,hJ,e;if(arguments.length===1){while(++hK<hM&&!((hJ=hN[hK])!=null&&hJ<=hJ)){hJ=undefined}while(++hK<hM){if((e=hN[hK])!=null&&hJ>e){hJ=e}}}else{while(++hK<hM&&!((hJ=hL.call(hN,hN[hK],hK))!=null&&hJ<=hJ)){hJ=undefined}while(++hK<hM){if((e=hL.call(hN,hN[hK],hK))!=null&&hJ>e){hJ=e}}}return hJ};gX.max=function(hN,hL){var hK=-1,hM=hN.length,hJ,e;if(arguments.length===1){while(++hK<hM&&!((hJ=hN[hK])!=null&&hJ<=hJ)){hJ=undefined}while(++hK<hM){if((e=hN[hK])!=null&&e>hJ){hJ=e}}}else{while(++hK<hM&&!((hJ=hL.call(hN,hN[hK],hK))!=null&&hJ<=hJ)){hJ=undefined}while(++hK<hM){if((e=hL.call(hN,hN[hK],hK))!=null&&e>hJ){hJ=e}}}return hJ};gX.extent=function(hO,hL){var hK=-1,hN=hO.length,hJ,e,hM;if(arguments.length===1){while(++hK<hN&&!((hJ=hM=hO[hK])!=null&&hJ<=hJ)){hJ=hM=undefined}while(++hK<hN){if((e=hO[hK])!=null){if(hJ>e){hJ=e}if(hM<e){hM=e}}}}else{while(++hK<hN&&!((hJ=hM=hL.call(hO,hO[hK],hK))!=null&&hJ<=hJ)){hJ=undefined}while(++hK<hN){if((e=hL.call(hO,hO[hK],hK))!=null){if(hJ>e){hJ=e}if(hM<e){hM=e}}}}return[hJ,hM]};gX.sum=function(hN,hL){var hK=0,hM=hN.length,e,hJ=-1;if(arguments.length===1){while(++hJ<hM){if(!isNaN(e=+hN[hJ])){hK+=e}}}else{while(++hJ<hM){if(!isNaN(e=+hL.call(hN,hN[hJ],hJ))){hK+=e}}}return hK};function g2(e){return e!=null&&!isNaN(e)}gX.mean=function(hO,hM){var hN=hO.length,hJ,e=0,hL=-1,hK=0;if(arguments.length===1){while(++hL<hN){if(g2(hJ=hO[hL])){e+=(hJ-e)/++hK}}}else{while(++hL<hN){if(g2(hJ=hM.call(hO,hO[hL],hL))){e+=(hJ-e)/++hK}}}return hK?e:undefined};gX.quantile=function(hK,hO){var hL=(hK.length-1)*hO+1,hM=Math.floor(hL),hJ=+hK[hM-1],hN=hL-hM;return hN?hJ+hN*(hK[hM]-hJ):hJ};gX.median=function(hJ,e){if(arguments.length>1){hJ=hJ.map(e)}hJ=hJ.filter(g2);return hJ.length?gX.quantile(hJ.sort(gX.ascending),0.5):undefined};gX.bisector=function(e){return{left:function(hK,hJ,hN,hM){if(arguments.length<3){hN=0}if(arguments.length<4){hM=hK.length}while(hN<hM){var hL=hN+hM>>>1;if(e.call(hK,hK[hL],hL)<hJ){hN=hL+1}else{hM=hL}}return hN},right:function(hK,hJ,hN,hM){if(arguments.length<3){hN=0}if(arguments.length<4){hM=hK.length}while(hN<hM){var hL=hN+hM>>>1;if(hJ<e.call(hK,hK[hL],hL)){hM=hL}else{hN=hL+1}}return hN}}};var f9=gX.bisector(function(e){return e});gX.bisectLeft=f9.left;gX.bisect=gX.bisectRight=f9.right;gX.shuffle=function(hL){var e=hL.length,hK,hJ;while(e){hJ=Math.random()*e--|0;hK=hL[e],hL[e]=hL[hJ],hL[hJ]=hK}return hL};gX.permute=function(hL,hJ){var hK=hJ.length,e=new Array(hK);while(hK--){e[hK]=hL[hJ[hK]]}return e};gX.pairs=function(hN){var e=0,hM=hN.length-1,hL,hK=hN[0],hJ=new Array(hM<0?0:hM);while(e<hM){hJ[e]=[hL=hK,hK=hN[++e]]}return hJ};gX.zip=function(){if(!(hN=arguments.length)){return[]}for(var hL=-1,e=gX.min(arguments,e2),hK=new Array(e);++hL<e;){for(var hJ=-1,hN,hM=hK[hL]=new Array(hN);++hJ<hN;){hM[hJ]=arguments[hJ][hL]}}return hK};function e2(e){return e.length}gX.transpose=function(e){return gX.zip.apply(gX,e)};gX.keys=function(hK){var hJ=[];for(var e in hK){hJ.push(e)}return hJ};gX.values=function(hK){var e=[];for(var hJ in hK){e.push(hK[hJ])}return e};gX.entries=function(hK){var e=[];for(var hJ in hK){e.push({key:hJ,value:hK[hJ]})}return e};gX.merge=function(e){return Array.prototype.concat.apply([],e)};gX.range=function(hO,hM,hN){if(arguments.length<3){hN=1;if(arguments.length<2){hM=hO;hO=0}}if((hM-hO)/hN===Infinity){throw new Error("infinite range")}var hJ=[],e=f4(Math.abs(hN)),hL=-1,hK;hO*=e,hM*=e,hN*=e;if(hN<0){while((hK=hO+hN*++hL)>hM){hJ.push(hK/e)}}else{while((hK=hO+hN*++hL)<hM){hJ.push(hK/e)}}return hJ};function f4(e){var hJ=1;while(e*hJ%1){hJ*=10}return hJ}function hz(hL,hK){try{for(var hJ in hK){Object.defineProperty(hL.prototype,hJ,{value:hK[hJ],enumerable:false})}}catch(hM){hL.prototype=hK}}gX.map=function(e){var hK=new aG();if(e instanceof aG){e.forEach(function(hL,hM){hK.set(hL,hM)})}else{for(var hJ in e){hK.set(hJ,e[hJ])}}return hK};function aG(){}hz(aG,{has:function(e){return hB+e in this},get:function(e){return this[hB+e]},set:function(e,hJ){return this[hB+e]=hJ},remove:function(e){e=hB+e;return e in this&&delete this[e]},keys:function(){var e=[];this.forEach(function(hJ){e.push(hJ)});return e},values:function(){var e=[];this.forEach(function(hJ,hK){e.push(hK)});return e},entries:function(){var e=[];this.forEach(function(hJ,hK){e.push({key:hJ,value:hK})});return e},forEach:function(hJ){for(var e in this){if(e.charCodeAt(0)===ds){hJ.call(this,e.substring(1),this[e])}}}});var hB="\0",ds=hB.charCodeAt(0);gX.nest=function(){var hL={},hK=[],hO=[],hJ,hM;function hN(hQ,hX,hV){if(hV>=hK.length){return hM?hM.call(hL,hX):hJ?hX.sort(hJ):hX}var hW=-1,hP=hX.length,hZ=hK[hV++],hU,hT,hS,hR=new aG(),hY;while(++hW<hP){if(hY=hR.get(hU=hZ(hT=hX[hW]))){hY.push(hT)}else{hR.set(hU,[hT])}}if(hQ){hT=hQ();hS=function(h1,h0){hT.set(h1,hN(hQ,h0,hV))}}else{hT={};hS=function(h1,h0){hT[h1]=hN(hQ,h0,hV)}}hR.forEach(hS);return hT}function e(hQ,hR){if(hR>=hK.length){return hQ}var hS=[],hP=hO[hR++];hQ.forEach(function(hT,hU){hS.push({key:hT,values:e(hU,hR)})});return hP?hS.sort(function(hU,hT){return hP(hU.key,hT.key)}):hS}hL.map=function(hQ,hP){return hN(hP,hQ,0)};hL.entries=function(hP){return e(hN(gX.map,hP,0),0)};hL.key=function(hP){hK.push(hP);return hL};hL.sortKeys=function(hP){hO[hK.length-1]=hP;return hL};hL.sortValues=function(hP){hJ=hP;return hL};hL.rollup=function(hP){hM=hP;return hL};return hL};gX.set=function(hL){var hK=new dg();if(hL){for(var e=0,hJ=hL.length;e<hJ;++e){hK.add(hL[e])}}return hK};function dg(){}hz(dg,{has:function(e){return hB+e in this},add:function(e){this[hB+e]=true;return e},remove:function(e){e=hB+e;return e in this&&delete this[e]},values:function(){var e=[];this.forEach(function(hJ){e.push(hJ)});return e},forEach:function(hJ){for(var e in this){if(e.charCodeAt(0)===ds){hJ.call(this,e.substring(1))}}}});gX.behavior={};gX.rebind=function(hK,hJ){var e=1,hM=arguments.length,hL;while(++e<hM){hK[hL=arguments[e]]=em(hK,hJ,hJ[hL])}return hK};function em(hJ,e,hK){return function(){var hL=hK.apply(e,arguments);return hL===e?hJ:hL}}function c8(hK,hJ){if(hJ in hK){return hJ}hJ=hJ.charAt(0).toUpperCase()+hJ.substring(1);for(var hL=0,hM=L.length;hL<hM;++hL){var e=L[hL]+hJ;if(e in hK){return e}}}var L=["webkit","ms","moz","Moz","o","O"];function aF(){}gX.dispatch=function(){var e=new eE(),hJ=-1,hK=arguments.length;while(++hJ<hK){e[arguments[hJ]]=e5(e)}return e};function eE(){}eE.prototype.on=function(hK,hL){var hJ=hK.indexOf("."),e="";if(hJ>=0){e=hK.substring(hJ+1);hK=hK.substring(0,hJ)}if(hK){return arguments.length<2?this[hK].on(e):this[hK].on(e,hL)}if(arguments.length===2){if(hL==null){for(hK in this){if(this.hasOwnProperty(hK)){this[hK].on(e,null)}}}return this}};function e5(e){var hK=[],hJ=new aG();function hL(){var hO=hK,hN=-1,hP=hO.length,hM;while(++hN<hP){if(hM=hO[hN].on){hM.apply(this,arguments)}}return e}hL.on=function(hN,hP){var hM=hJ.get(hN),hO;if(arguments.length<2){return hM&&hM.on}if(hM){hM.on=null;hK=hK.slice(0,hO=hK.indexOf(hM)).concat(hK.slice(hO+1));hJ.remove(hN)}if(hP){hK.push(hJ.set(hN,{on:hP}))}return e};return hL}gX.event=null;function t(){gX.event.preventDefault()}function ag(){var hK=gX.event,hJ;while(hJ=hK.sourceEvent){hK=hJ}return hK}function gU(hK){var e=new eE(),hJ=0,hL=arguments.length;while(++hJ<hL){e[arguments[hJ]]=e5(e)}e.of=function(hN,hM){return function(hO){try{var hP=hO.sourceEvent=gX.event;hO.target=hK;gX.event=hO;e[hO.type].apply(hN,hM)}finally{gX.event=hP}}};return e}gX.requote=function(e){return e.replace(c0,"\\$&")};var c0=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var hC={}.__proto__?function(hJ,e){hJ.__proto__=e}:function(hJ,e){for(var hK in e){hJ[hK]=e[hK]}};function dP(e){hC(e,dO);return e}var df=function(e,hJ){return hJ.querySelector(e)},fU=function(e,hJ){return hJ.querySelectorAll(e)},b=dX[c8(dX,"matchesSelector")],a=function(hJ,e){return b.call(hJ,e)};if(typeof Sizzle==="function"){df=function(e,hJ){return Sizzle(e,hJ)[0]||null};fU=function(e,hJ){return Sizzle.uniqueSort(Sizzle(e,hJ))};a=Sizzle.matchesSelector}gX.selection=function(){return gx};var dO=gX.selection.prototype=[];dO.select=function(hN){var hK=[],hR,e,hQ,hL;hN=v(hN);for(var hO=-1,hM=this.length;++hO<hM;){hK.push(hR=[]);hR.parentNode=(hQ=this[hO]).parentNode;for(var hP=-1,hJ=hQ.length;++hP<hJ;){if(hL=hQ[hP]){hR.push(e=hN.call(hL,hL.__data__,hP,hO));if(e&&"__data__" in hL){e.__data__=hL.__data__}}else{hR.push(null)}}}return dP(hK)};function v(e){return typeof e==="function"?e:function(){return df(e,this)}}dO.selectAll=function(hM){var hJ=[],hQ,hK;hM=cT(hM);for(var hN=-1,hL=this.length;++hN<hL;){for(var hP=this[hN],hO=-1,e=hP.length;++hO<e;){if(hK=hP[hO]){hJ.push(hQ=dE(hM.call(hK,hK.__data__,hO,hN)));hQ.parentNode=hK}}}return dP(hJ)};function cT(e){return typeof e==="function"?e:function(){return fU(e,this)}}var d5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};gX.ns={prefix:d5,qualify:function(e){var hJ=e.indexOf(":"),hK=e;if(hJ>=0){hK=e.substring(0,hJ);e=e.substring(hJ+1)}return d5.hasOwnProperty(hK)?{space:d5[hK],local:e}:e}};dO.attr=function(e,hK){if(arguments.length<2){if(typeof e==="string"){var hJ=this.node();e=gX.ns.qualify(e);return e.local?hJ.getAttributeNS(e.space,e.local):hJ.getAttribute(e)}for(hK in e){this.each(bm(hK,e[hK]))}return this}return this.each(bm(e,hK))};function bm(hK,hO){hK=gX.ns.qualify(hK);function hJ(){this.removeAttribute(hK)}function hP(){this.removeAttributeNS(hK.space,hK.local)}function hN(){this.setAttribute(hK,hO)}function hM(){this.setAttributeNS(hK.space,hK.local,hO)}function e(){var hQ=hO.apply(this,arguments);if(hQ==null){this.removeAttribute(hK)}else{this.setAttribute(hK,hQ)}}function hL(){var hQ=hO.apply(this,arguments);if(hQ==null){this.removeAttributeNS(hK.space,hK.local)}else{this.setAttributeNS(hK.space,hK.local,hQ)}}return hO==null?hK.local?hP:hJ:typeof hO==="function"?hK.local?hL:e:hK.local?hM:hN}function cz(e){return e.trim().replace(/\s+/g," ")}dO.classed=function(e,hL){if(arguments.length<2){if(typeof e==="string"){var hK=this.node(),hM=(e=e.trim().split(/^|\s+/g)).length,hJ=-1;if(hL=hK.classList){while(++hJ<hM){if(!hL.contains(e[hJ])){return false}}}else{hL=hK.getAttribute("class");while(++hJ<hM){if(!gu(e[hJ]).test(hL)){return false}}}return true}for(hL in e){this.each(gk(hL,e[hL]))}return this}return this.each(gk(e,hL))};function gu(e){return new RegExp("(?:^|\\s+)"+gX.requote(e)+"(?:\\s+|$)","g")}function gk(hJ,hL){hJ=hJ.trim().split(/\s+/).map(hy);var hM=hJ.length;function e(){var hN=-1;while(++hN<hM){hJ[hN](this,hL)}}function hK(){var hO=-1,hN=hL.apply(this,arguments);while(++hO<hM){hJ[hO](this,hN)}}return typeof hL==="function"?hK:e}function hy(e){var hJ=gu(e);return function(hK,hL){if(hM=hK.classList){return hL?hM.add(e):hM.remove(e)}var hM=hK.getAttribute("class")||"";if(hL){hJ.lastIndex=0;if(!hJ.test(hM)){hK.setAttribute("class",cz(hM+" "+e))}}else{hK.setAttribute("class",cz(hM.replace(hJ," ")))}}}dO.style=function(e,hK,hJ){var hL=arguments.length;if(hL<3){if(typeof e!=="string"){if(hL<2){hK=""}for(hJ in e){this.each(fA(hJ,e[hJ],hK))}return this}if(hL<2){return fn.getComputedStyle(this.node(),null).getPropertyValue(e)}hJ=""}return this.each(fA(e,hK,hJ))};function fA(hK,hN,hL){function hJ(){this.style.removeProperty(hK)}function hM(){this.style.setProperty(hK,hN,hL)}function e(){var hO=hN.apply(this,arguments);if(hO==null){this.style.removeProperty(hK)}else{this.style.setProperty(hK,hO,hL)}}return hN==null?hJ:typeof hN==="function"?e:hM}dO.property=function(e,hJ){if(arguments.length<2){if(typeof e==="string"){return this.node()[e]}for(hJ in e){this.each(he(hJ,e[hJ]))}return this}return this.each(he(e,hJ))};function he(hJ,hL){function e(){delete this[hJ]}function hK(){this[hJ]=hL}function hM(){var hN=hL.apply(this,arguments);if(hN==null){delete this[hJ]}else{this[hJ]=hN}}return hL==null?e:typeof hL==="function"?hM:hK}dO.text=function(e){return arguments.length?this.each(typeof e==="function"?function(){var hJ=e.apply(this,arguments);this.textContent=hJ==null?"":hJ}:e==null?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent};dO.html=function(e){return arguments.length?this.each(typeof e==="function"?function(){var hJ=e.apply(this,arguments);this.innerHTML=hJ==null?"":hJ}:e==null?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML};dO.append=function(e){e=aB(e);return this.select(function(){return this.appendChild(e.apply(this,arguments))})};function aB(e){return typeof e==="function"?e:(e=gX.ns.qualify(e)).local?function(){return bF.createElementNS(e.space,e.local)}:function(){return bF.createElementNS(this.namespaceURI,e)}}dO.insert=function(e,hJ){e=aB(e);hJ=v(hJ);return this.select(function(){return this.insertBefore(e.apply(this,arguments),hJ.apply(this,arguments))})};dO.remove=function(){return this.each(function(){var e=this.parentNode;if(e){e.removeChild(this)}})};dO.data=function(hP,hR){var hM=-1,hJ=this.length,hQ,hK;if(!arguments.length){hP=new Array(hJ=(hQ=this[0]).length);while(++hM<hJ){if(hK=hQ[hM]){hP[hM]=hK.__data__}}return hP}function hN(h1,hW){var hY,hT=h1.length,hV=hW.length,h0=Math.min(hT,hV),h5=new Array(hV),h2=new Array(hV),hZ=new Array(hT),hU,hS;if(hR){var h6=new aG(),h3=new aG(),h4=[],hX;for(hY=-1;++hY<hT;){hX=hR.call(hU=h1[hY],hU.__data__,hY);if(h6.has(hX)){hZ[hY]=hU}else{h6.set(hX,hU)}h4.push(hX)}for(hY=-1;++hY<hV;){hX=hR.call(hW,hS=hW[hY],hY);if(hU=h6.get(hX)){h5[hY]=hU;hU.__data__=hS}else{if(!h3.has(hX)){h2[hY]=M(hS)}}h3.set(hX,hS);h6.remove(hX)}for(hY=-1;++hY<hT;){if(h6.has(h4[hY])){hZ[hY]=h1[hY]}}}else{for(hY=-1;++hY<h0;){hU=h1[hY];hS=hW[hY];if(hU){hU.__data__=hS;h5[hY]=hU}else{h2[hY]=M(hS)}}for(;hY<hV;++hY){h2[hY]=M(hW[hY])}for(;hY<hT;++hY){hZ[hY]=h1[hY]}}h2.update=h5;h2.parentNode=h5.parentNode=hZ.parentNode=h1.parentNode;hO.push(h2);hL.push(h5);e.push(hZ)}var hO=bM([]),hL=dP([]),e=dP([]);if(typeof hP==="function"){while(++hM<hJ){hN(hQ=this[hM],hP.call(hQ,hQ.parentNode.__data__,hM))}}else{while(++hM<hJ){hN(hQ=this[hM],hP)}}hL.enter=function(){return hO};hL.exit=function(){return e};return hL};function M(e){return{__data__:e}}dO.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")};dO.filter=function(e){var hK=[],hQ,hP,hL;if(typeof e!=="function"){e=a5(e)}for(var hN=0,hM=this.length;hN<hM;hN++){hK.push(hQ=[]);hQ.parentNode=(hP=this[hN]).parentNode;for(var hO=0,hJ=hP.length;hO<hJ;hO++){if((hL=hP[hO])&&e.call(hL,hL.__data__,hO)){hQ.push(hL)}}}return dP(hK)};function a5(e){return function(){return a(this,e)}}dO.order=function(){for(var hJ=-1,e=this.length;++hJ<e;){for(var hN=this[hJ],hK=hN.length-1,hL=hN[hK],hM;--hK>=0;){if(hM=hN[hK]){if(hL&&hL!==hM.nextSibling){hL.parentNode.insertBefore(hM,hL)}hL=hM}}}return this};dO.sort=function(hJ){hJ=gs.apply(this,arguments);for(var hK=-1,e=this.length;++hK<e;){this[hK].sort(hJ)}return this.order()};function gs(e){if(!arguments.length){e=gX.ascending}return function(hK,hJ){return hK&&hJ?e(hK.__data__,hJ.__data__):!hK-!hJ}}dO.each=function(e){return cA(this,function(hL,hK,hJ){e.call(hL,hL.__data__,hK,hJ)})};function cA(hJ,hP){for(var hK=0,e=hJ.length;hK<e;hK++){for(var hN=hJ[hK],hL=0,hO=hN.length,hM;hL<hO;hL++){if(hM=hN[hL]){hP(hM,hL,hK)}}}return hJ}dO.call=function(hJ){var e=dE(arguments);hJ.apply(e[0]=this,e);return this};dO.empty=function(){return !this.node()};dO.node=function(){for(var hJ=0,e=this.length;hJ<e;hJ++){for(var hM=this[hJ],hK=0,hN=hM.length;hK<hN;hK++){var hL=hM[hK];if(hL){return hL}}}return null};dO.size=function(){var e=0;this.each(function(){++e});return e};function bM(e){hC(e,eS);return e}var eS=[];gX.selection.enter=bM;gX.selection.enter.prototype=eS;eS.append=dO.append;eS.empty=dO.empty;eS.node=dO.node;eS.call=dO.call;eS.size=dO.size;eS.select=function(hN){var hK=[],hS,e,hQ,hR,hM;for(var hO=-1,hL=this.length;++hO<hL;){hQ=(hR=this[hO]).update;hK.push(hS=[]);hS.parentNode=hR.parentNode;for(var hP=-1,hJ=hR.length;++hP<hJ;){if(hM=hR[hP]){hS.push(hQ[hP]=e=hN.call(hR.parentNode,hM.__data__,hP,hO));e.__data__=hM.__data__}else{hS.push(null)}}}return dP(hK)};eS.insert=function(e,hJ){if(arguments.length<2){hJ=ge(this)}return dO.insert.call(this,e,hJ)};function ge(hK){var e,hJ;return function(hP,hM,hL){var hO=hK[hL].update,hQ=hO.length,hN;if(hL!=hJ){hJ=hL,e=0}if(hM>=e){e=hM+1}while(!(hN=hO[e])&&++e<hQ){}return hN}}dO.transition=function(){var e=aq||++gO,hK=[],hR,hL,hP=dU||{time:Date.now(),ease:av,delay:0,duration:250};for(var hN=-1,hM=this.length;++hN<hM;){hK.push(hR=[]);for(var hQ=this[hN],hO=-1,hJ=hQ.length;++hO<hJ;){if(hL=hQ[hO]){fq(hL,hO,e,hP)}hR.push(hL)}}return gv(hK,e)};dO.interrupt=function(){return this.each(cM)};function cM(){var e=this.__transition__;if(e){++e.active}}gX.select=function(e){var hJ=[typeof e==="string"?df(e,bF):e];hJ.parentNode=dX;return dP([hJ])};gX.selectAll=function(e){var hJ=dE(typeof e==="string"?fU(e,bF):e);hJ.parentNode=dX;return dP([hJ])};var gx=gX.select(dX);dO.on=function(hJ,hK,e){var hL=arguments.length;if(hL<3){if(typeof hJ!=="string"){if(hL<2){hK=false}for(e in hJ){this.each(k(e,hJ[e],hK))}return this}if(hL<2){return(hL=this.node()["__on"+hJ])&&hL._}e=false}return this.each(k(hJ,hK,e))};function k(hQ,hL,hR){var e="__on"+hQ,hN=hQ.indexOf("."),hJ=fe;if(hN>0){hQ=hQ.substring(0,hN)}var hK=bC.get(hQ);if(hK){hQ=hK,hJ=ap}function hM(){var hS=this[e];if(hS){this.removeEventListener(hQ,hS,hS.$);delete this[e]}}function hP(){var hS=hJ(hL,dE(arguments));hM.call(this);this.addEventListener(hQ,this[e]=hS,hS.$=hR);hS._=hL}function hO(){var hV=new RegExp("^__on([^.]+)"+gX.requote(hQ)+"$"),hU;for(var hT in this){if(hU=hT.match(hV)){var hS=this[hT];this.removeEventListener(hU[1],hS,hS.$);delete this[hT]}}}return hN?hL?hP:hM:hL?aF:hO}var bC=gX.map({mouseenter:"mouseover",mouseleave:"mouseout"});bC.forEach(function(e){if("on"+e in bF){bC.remove(e)}});function fe(hJ,e){return function(hK){var hL=gX.event;gX.event=hK;e[0]=this.__data__;try{hJ.apply(this,e)}finally{gX.event=hL}}}function ap(hK,e){var hJ=fe(hK,e);return function(hN){var hM=this,hL=hN.relatedTarget;if(!hL||hL!==hM&&!(hL.compareDocumentPosition(hM)&8)){hJ.call(hM,hN)}}}var b3=c8(dX.style,"userSelect"),gq=0;function bD(){var hM=".dragsuppress-"+ ++gq,hK="touchmove"+hM,hL="selectstart"+hM,hO="dragstart"+hM,hP="click"+hM,hJ=gX.select(fn).on(hK,t).on(hL,t).on(hO,t),hN=dX.style,e=hN[b3];hN[b3]="none";return function(hQ){hJ.on(hM,null);hN[b3]=e;if(hQ){function hR(){hJ.on(hP,null)}hJ.on(hP,function(){t();hR()},true);setTimeout(hR,0)}}}gX.mouse=function(e){return aV(e,ag())};var cx=/WebKit/.test(fn.navigator.userAgent)?-1:0;function aV(hL,hO){if(hO.changedTouches){hO=hO.changedTouches[0]}var hM=hL.ownerSVGElement||hL;if(hM.createSVGPoint){var hJ=hM.createSVGPoint();if(cx<0&&(fn.scrollX||fn.scrollY)){hM=gX.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var hK=hM[0][0].getScreenCTM();cx=!(hK.f||hK.e);hM.remove()}if(cx){hJ.x=hO.pageX,hJ.y=hO.pageY}else{hJ.x=hO.clientX,hJ.y=hO.clientY}hJ=hJ.matrixTransform(hL.getScreenCTM().inverse());return[hJ.x,hJ.y]}var hN=hL.getBoundingClientRect();return[hO.clientX-hN.left-hL.clientLeft,hO.clientY-hN.top-hL.clientTop]}gX.touches=function(e,hJ){if(arguments.length<2){hJ=ag().touches}return hJ?dE(hJ).map(function(hL){var hK=aV(e,hL);hK.identifier=hL.identifier;return hK}):[]};gX.behavior.drag=function(){var hM=gU(hL,"drag","dragstart","dragend"),e=null,hJ=hK(aF,gX.mouse,"mousemove","mouseup"),hP=hK(hO,hN,"touchmove","touchend");function hL(){this.on("mousedown.drag",hJ).on("touchstart.drag",hP)}function hO(){return gX.event.changedTouches[0].identifier}function hN(hQ,hR){return gX.touches(hQ).filter(function(hS){return hS.identifier===hR})[0]}function hK(hT,hQ,hS,hR){return function(){var hY=this,h5=hY.parentNode,h6=hM.of(hY,arguments),h4=gX.event.target,hU=hT(),hW=hU==null?"drag":"drag-"+hU,hZ=hQ(h5,hU),h1=0,hV,h3=gX.select(fn).on(hS+"."+hW,h0).on(hR+"."+hW,h2),hX=bD();if(e){hV=e.apply(hY,arguments);hV=[hV.x-hZ[0],hV.y-hZ[1]]}else{hV=[0,0]}h6({type:"dragstart"});function h0(){if(!h5){return h2()}var h9=hQ(h5,hU),h8=h9[0]-hZ[0],h7=h9[1]-hZ[1];h1|=h8|h7;hZ=h9;h6({type:"drag",x:h9[0]+hV[0],y:h9[1]+hV[1],dx:h8,dy:h7})}function h2(){h3.on(hS+"."+hW,null).on(hR+"."+hW,null);hX(h1&&gX.event.target===h4);h6({type:"dragend"})}}}hL.origin=function(hQ){if(!arguments.length){return e}e=hQ;return hL};return gX.rebind(hL,hM,"on")};var fZ=Math.PI,f7=0.000001,eq=f7*f7,K=fZ/180,hc=180/fZ;function b1(e){return e>0?1:e<0?-1:0}function af(e){return e>1?0:e<-1?fZ:Math.acos(e)}function b6(e){return e>1?fZ/2:e<-1?-fZ/2:Math.asin(e)}function dM(e){return(Math.exp(e)-Math.exp(-e))/2}function bw(e){return(Math.exp(e)+Math.exp(-e))/2}function fh(e){return dM(e)/bw(e)}function aC(e){return(e=Math.sin(e/2))*e}var fX=Math.SQRT2,ac=2,aa=4;gX.interpolateZoom=function(hJ,e){var hT=hJ[0],hY=hJ[1],hR=hJ[2],hS=e[0],hX=e[1],hP=e[2];var hQ=hS-hT,hO=hX-hY,hZ=hQ*hQ+hO*hO,h0=Math.sqrt(hZ),hM=(hP*hP-hR*hR+aa*hZ)/(2*hR*ac*h0),hL=(hP*hP-hR*hR-aa*hZ)/(2*hP*ac*h0),hW=Math.log(Math.sqrt(hM*hM+1)-hM),hV=Math.log(Math.sqrt(hL*hL+1)-hL),hU=hV-hW,hK=(hU||Math.log(hP/hR))/fX;function hN(h2){var h3=h2*hK;if(hU){var h4=bw(hW),h1=hR/(ac*h0)*(h4*fh(fX*h3+hW)-dM(hW));return[hT+h1*hQ,hY+h1*hO,hR*h4/bw(fX*h3+hW)]}return[hT+h2*hQ,hY+h2*hO,hR*Math.exp(fX*h3)]}hN.duration=hK*1000;return hN};gX.behavior.zoom=function(){var hT={x:0,y:0,k:1},h8,ia,hX=[960,500],hK=fJ,h1="mousedown.zoom",h9="mousemove.zoom",h2="mouseup.zoom",hY,h6="touchstart.zoom",hQ,h3=gU(hJ,"zoomstart","zoom","zoomend"),h7,h5,hO,hM;function hJ(ic){ic.on(h1,hL).on(gI+".zoom",hU).on(h9,h4).on("dblclick.zoom",hR).on(h6,hN)}hJ.event=function(ic){ic.each(function(){var ie=h3.of(this,arguments),id=hT;if(aq){gX.select(this).transition().each("start.zoom",function(){hT=this.__chart__||{x:0,y:0,k:1};hZ(ie)}).tween("zoom:zoom",function(){var ii=hX[0],ih=hX[1],ig=ii/2,ik=ih/2,ij=gX.interpolateZoom([(ig-hT.x)/hT.k,(ik-hT.y)/hT.k,ii/hT.k],[(ig-id.x)/id.k,(ik-id.y)/id.k,ii/id.k]);return function(io){var il=ij(io),im=ii/il[2];this.__chart__=hT={x:ig-il[0]*im,y:ik-il[1]*im,k:im};hW(ie)}}).each("end.zoom",function(){hV(ie)})}else{this.__chart__=hT;hZ(ie);hW(ie);hV(ie)}})};hJ.translate=function(ic){if(!arguments.length){return[hT.x,hT.y]}hT={x:+ic[0],y:+ic[1],k:hT.k};hS();return hJ};hJ.scale=function(ic){if(!arguments.length){return hT.k}hT={x:hT.x,y:hT.y,k:+ic};hS();return hJ};hJ.scaleExtent=function(ic){if(!arguments.length){return hK}hK=ic==null?fJ:[+ic[0],+ic[1]];return hJ};hJ.center=function(ic){if(!arguments.length){return ia}ia=ic&&[+ic[0],+ic[1]];return hJ};hJ.size=function(ic){if(!arguments.length){return hX}hX=ic&&[+ic[0],+ic[1]];return hJ};hJ.x=function(ic){if(!arguments.length){return h5}h5=ic;h7=ic.copy();hT={x:0,y:0,k:1};return hJ};hJ.y=function(ic){if(!arguments.length){return hM}hM=ic;hO=ic.copy();hT={x:0,y:0,k:1};return hJ};function e(ic){return[(ic[0]-hT.x)/hT.k,(ic[1]-hT.y)/hT.k]}function h0(ic){return[ic[0]*hT.k+hT.x,ic[1]*hT.k+hT.y]}function hP(ic){hT.k=Math.max(hK[0],Math.min(hK[1],ic))}function ib(id,ic){ic=h0(ic);hT.x+=id[0]-ic[0];hT.y+=id[1]-ic[1]}function hS(){if(h5){h5.domain(h7.range().map(function(ic){return(ic-hT.x)/hT.k}).map(h7.invert))}if(hM){hM.domain(hO.range().map(function(ic){return(ic-hT.y)/hT.k}).map(hO.invert))}}function hZ(ic){ic({type:"zoomstart"})}function hW(ic){hS();ic({type:"zoom",scale:hT.k,translate:[hT.x,hT.y]})}function hV(ic){ic({type:"zoomend"})}function hL(){var ie=this,ik=h3.of(ie,arguments),ij=gX.event.target,ih=0,il=gX.select(fn).on(h9,ig).on(h2,ii),ic=e(gX.mouse(ie)),id=bD();cM.call(ie);hZ(ik);function ig(){ih=1;ib(gX.mouse(ie),ic);hW(ik)}function ii(){il.on(h9,fn===ie?h4:null).on(h2,null);id(ih&&gX.event.target===ij);hV(ik)}}function hN(){var ij=this,iq=h3.of(ij,arguments),ih={},il=0,ii,ic=gX.event.changedTouches[0].identifier,ie="touchmove.zoom-"+ic,ir="touchend.zoom-"+ic,ip=gX.select(fn).on(ie,im).on(ir,io),it=gX.select(ij).on(h1,null).on(h6,ik),ig=bD();cM.call(ij);ik();hZ(iq);function id(){var iu=gX.touches(ij);ii=hT.k;iu.forEach(function(iv){if(iv.identifier in ih){ih[iv.identifier]=e(iv)}});return iu}function ik(){var iz=gX.event.changedTouches;for(var iA=0,ix=iz.length;iA<ix;++iA){ih[iz[iA].identifier]=null}var iB=id(),iw=Date.now();if(iB.length===1){if(iw-hQ<500){var iv=iB[0],iy=ih[iv.identifier];hP(hT.k*2);ib(iv,iy);t();hW(iq)}hQ=iw}else{if(iB.length>1){var iv=iB[0],iu=iB[1],iD=iv[0]-iu[0],iC=iv[1]-iu[1];il=iD*iD+iC*iC}}}function im(){var iy=gX.touches(ij),iC,iw,iB,iv;for(var ix=0,iu=iy.length;ix<iu;++ix,iv=null){iB=iy[ix];if(iv=ih[iB.identifier]){if(iw){break}iC=iB,iw=iv}}if(iv){var iA=(iA=iB[0]-iC[0])*iA+(iA=iB[1]-iC[1])*iA,iz=il&&Math.sqrt(iA/il);iC=[(iC[0]+iB[0])/2,(iC[1]+iB[1])/2];iw=[(iw[0]+iv[0])/2,(iw[1]+iv[1])/2];hP(iz*ii)}hQ=null;ib(iC,iw);hW(iq)}function io(){if(gX.event.touches.length){var iw=gX.event.changedTouches;for(var iv=0,ix=iw.length;iv<ix;++iv){delete ih[iw[iv].identifier]}for(var iu in ih){return void id()}}ip.on(ie,null).on(ir,null);it.on(h1,hL).on(h6,hN);ig();hV(iq)}}function hU(){var id=h3.of(this,arguments);if(hY){clearTimeout(hY)}else{cM.call(this),hZ(id)}hY=setTimeout(function(){hY=null;hV(id)},50);t();var ic=ia||gX.mouse(this);if(!h8){h8=e(ic)}hP(Math.pow(2,cq()*0.002)*hT.k);ib(ic,h8);hW(id)}function h4(){h8=null}function hR(){var ie=h3.of(this,arguments),ig=gX.mouse(this),ic=e(ig),id=Math.log(hT.k)/Math.LN2;hZ(ie);hP(Math.pow(2,gX.event.shiftKey?Math.ceil(id)-1:Math.floor(id)+1));ib(ig,ic);hW(ie);hV(ie)}return gX.rebind(hJ,h3,"on")};var fJ=[0,Infinity];var cq,gI="onwheel" in bF?(cq=function(){return -gX.event.deltaY*(gX.event.deltaMode?120:1)},"wheel"):"onmousewheel" in bF?(cq=function(){return gX.event.wheelDelta},"mousewheel"):(cq=function(){return -gX.event.detail},"MozMousePixelScroll");function H(){}H.prototype.toString=function(){return this.rgb()+""};gX.hsl=function(hK,hJ,e){return arguments.length===1?hK instanceof ff?et(hK.h,hK.s,hK.l):aU(""+hK,gg,et):et(+hK,+hJ,+e)};function et(hK,hJ,e){return new ff(hK,hJ,e)}function ff(hK,hJ,e){this.h=hK;this.s=hJ;this.l=e}var ek=ff.prototype=new H();ek.brighter=function(e){e=Math.pow(0.7,arguments.length?e:1);return et(this.h,this.s,this.l/e)};ek.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return et(this.h,this.s,e*this.l)};ek.rgb=function(){return bc(this.h,this.s,this.l)};function bc(hN,hM,e){var hL,hK;hN=isNaN(hN)?0:(hN%=360)<0?hN+360:hN;hM=isNaN(hM)?0:hM<0?0:hM>1?1:hM;e=e<0?0:e>1?1:e;hK=e<=0.5?e*(1+hM):e+hM-e*hM;hL=2*e-hK;function hJ(hP){if(hP>360){hP-=360}else{if(hP<0){hP+=360}}if(hP<60){return hL+(hK-hL)*hP/60}if(hP<180){return hK}if(hP<240){return hL+(hK-hL)*(240-hP)/60}return hL}function hO(hP){return Math.round(hJ(hP)*255)}return ef(hO(hN+120),hO(hN),hO(hN-120))}gX.hcl=function(hJ,hK,e){return arguments.length===1?hJ instanceof cm?bu(hJ.h,hJ.c,hJ.l):hJ instanceof cZ?gn(hJ.l,hJ.a,hJ.b):gn((hJ=dQ((hJ=gX.rgb(hJ)).r,hJ.g,hJ.b)).l,hJ.a,hJ.b):bu(+hJ,+hK,+e)};function bu(hJ,hK,e){return new cm(hJ,hK,e)}function cm(hJ,hK,e){this.h=hJ;this.c=hK;this.l=e}var gS=cm.prototype=new H();gS.brighter=function(e){return bu(this.h,this.c,Math.min(100,this.l+bk*(arguments.length?e:1)))};gS.darker=function(e){return bu(this.h,this.c,Math.max(0,this.l-bk*(arguments.length?e:1)))};gS.rgb=function(){return bv(this.h,this.c,this.l).rgb()};function bv(hJ,hK,e){if(isNaN(hJ)){hJ=0}if(isNaN(hK)){hK=0}return cf(e,Math.cos(hJ*=K)*hK,Math.sin(hJ)*hK)}gX.lab=function(hK,hJ,e){return arguments.length===1?hK instanceof cZ?cf(hK.l,hK.a,hK.b):hK instanceof cm?bv(hK.l,hK.c,hK.h):dQ((hK=gX.rgb(hK)).r,hK.g,hK.b):cf(+hK,+hJ,+e)};function cf(hK,hJ,e){return new cZ(hK,hJ,e)}function cZ(hK,hJ,e){this.l=hK;this.a=hJ;this.b=e}var bk=18;var bd=0.95047,bb=1,a8=1.08883;var gi=cZ.prototype=new H();gi.brighter=function(e){return cf(Math.min(100,this.l+bk*(arguments.length?e:1)),this.a,this.b)};gi.darker=function(e){return cf(Math.max(0,this.l-bk*(arguments.length?e:1)),this.a,this.b)};gi.rgb=function(){return aA(this.l,this.a,this.b)};function aA(hL,hK,hJ){var hN=(hL+16)/116,e=hN+hK/500,hM=hN-hJ/200;e=gG(e)*bd;hN=gG(hN)*bb;hM=gG(hM)*a8;return ef(c(3.2404542*e-1.5371385*hN-0.4985314*hM),c(-0.969266*e+1.8760108*hN+0.041556*hM),c(0.0556434*e-0.2040259*hN+1.0572252*hM))}function gn(hK,hJ,e){return hK>0?bu(Math.atan2(e,hJ)*hc,Math.sqrt(hJ*hJ+e*e),hK):bu(NaN,NaN,hK)}function gG(e){return e>0.206893034?e*e*e:(e-4/29)/7.787037}function ga(e){return e>0.008856?Math.pow(e,1/3):7.787037*e+4/29}function c(e){return Math.round(255*(e<=0.00304?12.92*e:1.055*Math.pow(e,1/2.4)-0.055))}gX.rgb=function(hK,hJ,e){return arguments.length===1?hK instanceof eV?ef(hK.r,hK.g,hK.b):aU(""+hK,ef,bc):ef(~~hK,~~hJ,~~e)};function c4(e){return ef(e>>16,e>>8&255,e&255)}function dj(e){return c4(e)+""}function ef(hK,hJ,e){return new eV(hK,hJ,e)}function eV(hK,hJ,e){this.r=hK;this.g=hJ;this.b=e}var eu=eV.prototype=new H();eu.brighter=function(hJ){hJ=Math.pow(0.7,arguments.length?hJ:1);var hM=this.r,hL=this.g,e=this.b,hK=30;if(!hM&&!hL&&!e){return ef(hK,hK,hK)}if(hM&&hM<hK){hM=hK}if(hL&&hL<hK){hL=hK}if(e&&e<hK){e=hK}return ef(Math.min(255,~~(hM/hJ)),Math.min(255,~~(hL/hJ)),Math.min(255,~~(e/hJ)))};eu.darker=function(e){e=Math.pow(0.7,arguments.length?e:1);return ef(~~(e*this.r),~~(e*this.g),~~(e*this.b))};eu.hsl=function(){return gg(this.r,this.g,this.b)};eu.toString=function(){return"#"+co(this.r)+co(this.g)+co(this.b)};function co(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function aU(hN,hL,hO){var e=0,hK=0,hM=0,hQ,hP,hJ;hQ=/([a-z]+)\((.*)\)/i.exec(hN);if(hQ){hP=hQ[2].split(",");switch(hQ[1]){case"hsl":return hO(parseFloat(hP[0]),parseFloat(hP[1])/100,parseFloat(hP[2])/100);case"rgb":return hL(eH(hP[0]),eH(hP[1]),eH(hP[2]))}}if(hJ=am.get(hN)){return hL(hJ.r,hJ.g,hJ.b)}if(hN!=null&&hN.charAt(0)==="#"){if(hN.length===4){e=hN.charAt(1);e+=e;hK=hN.charAt(2);hK+=hK;hM=hN.charAt(3);hM+=hM}else{if(hN.length===7){e=hN.substring(1,3);hK=hN.substring(3,5);hM=hN.substring(5,7)}}e=parseInt(e,16);hK=parseInt(hK,16);hM=parseInt(hM,16)}return hL(e,hK,hM)}function gg(e,hM,hO){var hK=Math.min(e/=255,hM/=255,hO/=255),hP=Math.max(e,hM,hO),hN=hP-hK,hL,hQ,hJ=(hP+hK)/2;if(hN){hQ=hJ<0.5?hN/(hP+hK):hN/(2-hP-hK);if(e==hP){hL=(hM-hO)/hN+(hM<hO?6:0)}else{if(hM==hP){hL=(hO-e)/hN+2}else{hL=(e-hM)/hN+4}}hL*=60}else{hL=NaN;hQ=hJ>0&&hJ<1?0:hL}return et(hL,hQ,hJ)}function dQ(hL,hK,hJ){hL=dr(hL);hK=dr(hK);hJ=dr(hJ);var e=ga((0.4124564*hL+0.3575761*hK+0.1804375*hJ)/bd),hN=ga((0.2126729*hL+0.7151522*hK+0.072175*hJ)/bb),hM=ga((0.0193339*hL+0.119192*hK+0.9503041*hJ)/a8);return cf(116*hN-16,500*(e-hN),200*(hN-hM))}function dr(e){return(e/=255)<=0.04045?e/12.92:Math.pow((e+0.055)/1.055,2.4)}function eH(hJ){var e=parseFloat(hJ);return hJ.charAt(hJ.length-1)==="%"?Math.round(e*2.55):e}var am=gX.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});am.forEach(function(e,hJ){am.set(e,c4(hJ))});function T(e){return typeof e==="function"?e:function(){return e}}gX.functor=T;function f5(e){return e}gX.xhr=Z(f5);function Z(e){return function(hJ,hK,hL){if(arguments.length===2&&typeof hK==="function"){hL=hK,hK=null}return hw(hJ,hK,e,hL)}}function hw(e,hK,hM,hQ){var hR={},hP=gX.dispatch("beforesend","progress","load","error"),hL={},hN=new XMLHttpRequest(),hO=null;if(fn.XDomainRequest&&!("withCredentials" in hN)&&/^(http(s)?:)?\/\//.test(e)){hN=new XDomainRequest()}"onload" in hN?hN.onload=hN.onerror=hJ:hN.onreadystatechange=function(){hN.readyState>3&&hJ()};function hJ(){var hT=hN.status,hS;if(!hT&&hN.responseText||hT>=200&&hT<300||hT===304){try{hS=hM.call(hR,hN)}catch(hU){hP.error.call(hR,hU);return}hP.load.call(hR,hS)}else{hP.error.call(hR,hN)}}hN.onprogress=function(hS){var hT=gX.event;gX.event=hS;try{hP.progress.call(hR,hN)}finally{gX.event=hT}};hR.header=function(hS,hT){hS=(hS+"").toLowerCase();if(arguments.length<2){return hL[hS]}if(hT==null){delete hL[hS]}else{hL[hS]=hT+""}return hR};hR.mimeType=function(hS){if(!arguments.length){return hK}hK=hS==null?null:hS+"";return hR};hR.responseType=function(hS){if(!arguments.length){return hO}hO=hS;return hR};hR.response=function(hS){hM=hS;return hR};["get","post"].forEach(function(hS){hR[hS]=function(){return hR.send.apply(hR,[hS].concat(dE(arguments)))}});hR.send=function(hV,hT,hU){if(arguments.length===2&&typeof hT==="function"){hU=hT,hT=null}hN.open(hV,e,true);if(hK!=null&&!("accept" in hL)){hL.accept=hK+",*/*"}if(hN.setRequestHeader){for(var hS in hL){hN.setRequestHeader(hS,hL[hS])}}if(hK!=null&&hN.overrideMimeType){hN.overrideMimeType(hK)}if(hO!=null){hN.responseType=hO}if(hU!=null){hR.on("error",hU).on("load",function(hW){hU(null,hW)})}hP.beforesend.call(hR,hN);hN.send(hT==null?null:hT);return hR};hR.abort=function(){hN.abort();return hR};gX.rebind(hR,hP,"on");return hQ==null?hR:hR.get(dW(hQ))}function dW(e){return e.length===1?function(hJ,hK){e(hJ==null?hK:null)}:e}gX.dsv=function(e,hJ){var hL=new RegExp('["'+e+"\n]"),hN=e.charCodeAt(0);function hP(hR,hT,hU){if(arguments.length<3){hU=hT,hT=null}var hS=gX.xhr(hR,hJ,hU);hS.row=function(hV){return arguments.length?hS.response((hT=hV)==null?hM:hK(hV)):hT};return hS.row(hT)}function hM(hR){return hP.parse(hR.responseText)}function hK(hR){return function(hS){return hP.parse(hS.responseText,hR)}}hP.parse=function(hT,hR){var hS;return hP.parseRows(hT,function(hW,hV){if(hS){return hS(hW,hV-1)}var hU=new Function("d","return {"+hW.map(function(hX,hY){return JSON.stringify(hX)+": d["+hY+"]"}).join(",")+"}");hS=hR?function(hY,hX){return hR(hU(hY),hX)}:hU})};hP.parseRows=function(h0,hV){var hS={},hU={},h2=[],hW=h0.length,hZ=0,hR=0,h1,hX;function hT(){if(hZ>=hW){return hU}if(hX){return hX=false,hS}var h4=hZ;if(h0.charCodeAt(h4)===34){var h5=h4;while(h5++<hW){if(h0.charCodeAt(h5)===34){if(h0.charCodeAt(h5+1)!==34){break}++h5}}hZ=h5+2;var h6=h0.charCodeAt(h5+1);if(h6===13){hX=true;if(h0.charCodeAt(h5+2)===10){++hZ}}else{if(h6===10){hX=true}}return h0.substring(h4+1,h5).replace(/""/g,'"')}while(hZ<hW){var h6=h0.charCodeAt(hZ++),h3=1;if(h6===10){hX=true}else{if(h6===13){hX=true;if(h0.charCodeAt(hZ)===10){++hZ,++h3}}else{if(h6!==hN){continue}}}return h0.substring(h4,hZ-h3)}return h0.substring(h4)}while((h1=hT())!==hU){var hY=[];while(h1!==hS&&h1!==hU){hY.push(h1);h1=hT()}if(hV&&!(hY=hV(hY,hR++))){continue}h2.push(hY)}return h2};hP.format=function(hT){if(Array.isArray(hT[0])){return hP.formatRows(hT)}var hS=new dg(),hR=[];hT.forEach(function(hV){for(var hU in hV){if(!hS.has(hU)){hR.push(hS.add(hU))}}});return[hR.map(hO).join(e)].concat(hT.map(function(hU){return hR.map(function(hV){return hO(hU[hV])}).join(e)})).join("\n")};hP.formatRows=function(hR){return hR.map(hQ).join("\n")};function hQ(hR){return hR.map(hO).join(e)}function hO(hR){return hL.test(hR)?'"'+hR.replace(/\"/g,'""')+'"':hR}return hP};gX.csv=gX.dsv(",","text/csv");gX.tsv=gX.dsv("	","text/tab-separated-values");var dR,ah,ci,e4,da,g3=fn[c8(fn,"requestAnimationFrame")]||function(e){setTimeout(e,17)};gX.timer=function(hN,e,hK){var hM=arguments.length;if(hM<2){e=0}if(hM<3){hK=Date.now()}var hJ=hK+e,hL={callback:hN,time:hJ,next:null};if(ah){ah.next=hL}else{dR=hL}ah=hL;if(!ci){e4=clearTimeout(e4);ci=1;g3(g4)}};function g4(){var hJ=bx(),e=ae()-hJ;if(e>24){if(isFinite(e)){clearTimeout(e4);e4=setTimeout(g4,e)}ci=0}else{ci=1;g3(g4)}}gX.timer.flush=function(){bx();ae()};function hi(hL,e,hJ){var hK=arguments.length;if(hK<2){e=0}if(hK<3){hJ=Date.now()}da.callback=hL;da.time=hJ+e}function bx(){var e=Date.now();da=dR;while(da){if(e>=da.time){da.flush=da.callback(e-da.time)}da=da.next}return e}function ae(){var hJ,e=dR,hK=Infinity;while(e){if(e.flush){e=hJ?hJ.next=e.next:dR=e.next}else{if(e.time<hK){hK=e.time}e=(hJ=e).next}}ah=hJ;return hK}var gD=".",eP=",",h=[3,3],bA="$";var cn=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(dD);gX.formatPrefix=function(hK,e){var hJ=0;if(hK){if(hK<0){hK*=-1}if(e){hK=gX.round(hK,d7(hK,e))}hJ=1+Math.floor(1e-12+Math.log(hK)/Math.LN10);hJ=Math.max(-24,Math.min(24,Math.floor((hJ<=0?hJ+1:hJ-1)/3)*3))}return cn[8+hJ/3]};function dD(hK,hJ){var e=Math.pow(10,Math.abs(8-hJ)*3);return{scale:hJ>8?function(hL){return hL/e}:function(hL){return hL*e},symbol:hK}}gX.round=function(e,hJ){return hJ?Math.round(e*(hJ=Math.pow(10,hJ)))/hJ:Math.round(e)};gX.format=function(hT){var hQ=cs.exec(hT),hV=hQ[1]||" ",hR=hQ[2]||">",hJ=hQ[3]||"",hL=hQ[4]||"",hM=hQ[5],e=+hQ[6],hW=hQ[7],hP=hQ[8],hS=hQ[9],hK=1,hU="",hO=false;if(hP){hP=+hP.substring(1)}if(hM||hV==="0"&&hR==="="){hM=hV="0";hR="=";if(hW){e-=Math.floor((e-1)/4)}}switch(hS){case"n":hW=true;hS="g";break;case"%":hK=100;hU="%";hS="f";break;case"p":hK=100;hU="%";hS="r";break;case"b":case"o":case"x":case"X":if(hL==="#"){hL="0"+hS.toLowerCase()}case"c":case"d":hO=true;hP=0;break;case"s":hK=-1;hS="r";break}if(hL==="#"){hL=""}else{if(hL==="$"){hL=bA}}if(hS=="r"&&!hP){hS="g"}if(hP!=null){if(hS=="g"){hP=Math.max(1,Math.min(21,hP))}else{if(hS=="e"||hS=="f"){hP=Math.max(0,Math.min(20,hP))}}}hS=u.get(hS)||bg;var hN=hM&&hW;return function(h2){if(hO&&h2%1){return""}var hX=h2<0||h2===0&&1/h2<0?(h2=-h2,"-"):hJ;if(hK<0){var h1=gX.formatPrefix(h2,hP);h2=h1.scale(h2);hU=h1.symbol}else{h2*=hK}h2=hS(h2,hP);var hY=h2.lastIndexOf("."),h0=hY<0?h2:h2.substring(0,hY),h4=hY<0?"":gD+h2.substring(hY+1);if(!hM&&hW){h0=c6(h0)}var hZ=hL.length+h0.length+h4.length+(hN?0:hX.length),h3=hZ<e?new Array(hZ=e-hZ+1).join(hV):"";if(hN){h0=c6(h3+h0)}hX+=hL;h2=h0+h4;return(hR==="<"?hX+h2+h3:hR===">"?h3+hX+h2:hR==="^"?h3.substring(0,hZ>>=1)+hX+h2+h3.substring(hZ):hX+(hN?h2:h3+h2))+hU}};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var u=gX.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,hJ){return e.toPrecision(hJ)},e:function(e,hJ){return e.toExponential(hJ)},f:function(e,hJ){return e.toFixed(hJ)},r:function(e,hJ){return(e=gX.round(e,d7(e,hJ))).toFixed(Math.max(0,Math.min(20,d7(e*(1+1e-15),hJ))))}});function d7(e,hJ){return hJ-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function bg(e){return e+""}var c6=f5;if(h){var b0=h.length;c6=function(hM){var hK=hM.length,hJ=[],e=0,hL=h[0];while(hK>0&&hL>0){hJ.push(hM.substring(hK-=hL,hK+hL));hL=h[e=(e+1)%b0]}return hJ.reverse().join(eP)}}gX.geo={};function e1(){}e1.prototype={s:0,t:0,add:function(e){de(e,this.t,hp);de(hp.s,this.s,this);if(this.s){this.t+=hp.t}else{this.s=hp.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hp=new e1();function de(hL,hK,hN){var hJ=hN.s=hL+hK,e=hJ-hL,hM=hJ-e;hN.t=hL-hM+(hK-e)}gX.geo.stream=function(e,hJ){if(e&&w.hasOwnProperty(e.type)){w[e.type](e,hJ)}else{aP(e,hJ)}};function aP(hJ,e){if(hJ&&eB.hasOwnProperty(hJ.type)){eB[hJ.type](hJ,e)}}var w={Feature:function(e,hJ){aP(e.geometry,hJ)},FeatureCollection:function(e,hL){var hK=e.features,hJ=-1,hM=hK.length;while(++hJ<hM){aP(hK[hJ].geometry,hL)}}};var eB={Sphere:function(e,hJ){hJ.sphere()},Point:function(e,hJ){e=e.coordinates;hJ.point(e[0],e[1],e[2])},MultiPoint:function(e,hK){var hL=e.coordinates,hJ=-1,hM=hL.length;while(++hJ<hM){e=hL[hJ],hK.point(e[0],e[1],e[2])}},LineString:function(e,hJ){cg(e.coordinates,hJ,0)},MultiLineString:function(e,hK){var hL=e.coordinates,hJ=-1,hM=hL.length;while(++hJ<hM){cg(hL[hJ],hK,0)}},Polygon:function(e,hJ){gR(e.coordinates,hJ)},MultiPolygon:function(e,hK){var hL=e.coordinates,hJ=-1,hM=hL.length;while(++hJ<hM){gR(hL[hJ],hK)}},GeometryCollection:function(e,hL){var hK=e.geometries,hJ=-1,hM=hK.length;while(++hJ<hM){aP(hK[hJ],hL)}}};function cg(hL,hK,e){var hJ=-1,hN=hL.length-e,hM;hK.lineStart();while(++hJ<hN){hM=hL[hJ],hK.point(hM[0],hM[1],hM[2])}hK.lineEnd()}function gR(hK,hJ){var e=-1,hL=hK.length;hJ.polygonStart();while(++e<hL){cg(hK[e],hJ,1)}hJ.polygonEnd()}gX.geo.area=function(e){a6=0;gX.geo.stream(e,gW);return a6};var a6,fE=new e1();var gW={sphere:function(){a6+=4*fZ},point:aF,lineStart:aF,lineEnd:aF,polygonStart:function(){fE.reset();gW.lineStart=bW},polygonEnd:function(){var e=2*fE;a6+=e<0?4*fZ+e:e;gW.lineStart=gW.lineEnd=gW.point=aF}};function bW(){var hJ,e,hL,hK,hM;gW.point=function(hP,hO){gW.point=hN;hL=(hJ=hP)*K,hK=Math.cos(hO=(e=hO)*K/2+fZ/4),hM=Math.sin(hO)};function hN(hP,hO){hP*=K;hO=hO*K/2+fZ/4;var hT=hP-hL,hV=Math.cos(hO),hU=Math.sin(hO),hR=hM*hU,hS=hK*hV+hR*Math.cos(hT),hQ=hR*Math.sin(hT);fE.add(Math.atan2(hQ,hS));hL=hP,hK=hV,hM=hU}gW.lineEnd=function(){hN(hJ,e)}}function at(e){var hK=e[0],hJ=e[1],hL=Math.cos(hJ);return[hL*Math.cos(hK),hL*Math.sin(hK),Math.sin(hJ)]}function ax(hJ,e){return hJ[0]*e[0]+hJ[1]*e[1]+hJ[2]*e[2]}function cP(hJ,e){return[hJ[1]*e[2]-hJ[2]*e[1],hJ[2]*e[0]-hJ[0]*e[2],hJ[0]*e[1]-hJ[1]*e[0]]}function cu(hJ,e){hJ[0]+=e[0];hJ[1]+=e[1];hJ[2]+=e[2]}function f0(e,hJ){return[e[0]*hJ,e[1]*hJ,e[2]*hJ]}function e8(hJ){var e=Math.sqrt(hJ[0]*hJ[0]+hJ[1]*hJ[1]+hJ[2]*hJ[2]);hJ[0]/=e;hJ[1]/=e;hJ[2]/=e}function hF(e){return[Math.atan2(e[1],e[0]),b6(e[2])]}function eC(hJ,e){return Math.abs(hJ[0]-e[0])<f7&&Math.abs(hJ[1]-e[1])<f7}gX.geo.bounds=function(){var hL,h1,hJ,hZ,hM,hT,hV,hN,hQ,hO,hR;var e={point:hW,lineStart:hS,lineEnd:hY,polygonStart:function(){e.point=hX;e.lineStart=hP;e.lineEnd=hU;hQ=0;gW.polygonStart()},polygonEnd:function(){gW.polygonEnd();e.point=hW;e.lineStart=hS;e.lineEnd=hY;if(fE<0){hL=-(hJ=180),h1=-(hZ=90)}else{if(hQ>f7){hZ=90}else{if(hQ<-f7){h1=-90}}}hR[0]=hL,hR[1]=hJ}};function hW(h5,h4){hO.push(hR=[hL=h5,hJ=h5]);if(h4<h1){h1=h4}if(h4>hZ){hZ=h4}}function hK(h8,ie){var h4=at([h8*K,ie*K]);if(hN){var ia=cP(hN,h4),ib=[ia[1],-ia[0],0],h9=cP(ib,ia);e8(h9);h9=hF(h9);var ic=h8-hM,id=ic>0?1:-1,h5=h9[0]*hc*id,h7=Math.abs(ic)>180;if(h7^(id*hM<h5&&h5<id*h8)){var h6=h9[1]*hc;if(h6>hZ){hZ=h6}}else{if(h5=(h5+360)%360-180,h7^(id*hM<h5&&h5<id*h8)){var h6=-h9[1]*hc;if(h6<h1){h1=h6}}else{if(ie<h1){h1=ie}if(ie>hZ){hZ=ie}}}if(h7){if(h8<hM){if(h0(hL,h8)>h0(hL,hJ)){hJ=h8}}else{if(h0(h8,hJ)>h0(hL,hJ)){hL=h8}}}else{if(hJ>=hL){if(h8<hL){hL=h8}if(h8>hJ){hJ=h8}}else{if(h8>hM){if(h0(hL,h8)>h0(hL,hJ)){hJ=h8}}else{if(h0(h8,hJ)>h0(hL,hJ)){hL=h8}}}}}else{hW(h8,ie)}hN=h4,hM=h8}function hS(){e.point=hK}function hY(){hR[0]=hL,hR[1]=hJ;e.point=hW;hN=null}function hX(h5,h4){if(hN){var h6=h5-hM;hQ+=Math.abs(h6)>180?h6+(h6>0?360:-360):h6}else{hT=h5,hV=h4}gW.point(h5,h4);hK(h5,h4)}function hP(){gW.lineStart()}function hU(){hX(hT,hV);gW.lineEnd();if(Math.abs(hQ)>f7){hL=-(hJ=180)}hR[0]=hL,hR[1]=hJ;hN=null}function h0(h5,h4){return(h4-=h5)<0?h4+360:h4}function h3(h5,h4){return h5[0]-h4[0]}function h2(h4,h5){return h5[0]<=h5[1]?h5[0]<=h4&&h4<=h5[1]:h4<h5[0]||h5[1]<h4}return function(h9){hZ=hJ=-(hL=h1=Infinity);hO=[];gX.geo.stream(h9,e);var ib=hO.length;if(ib){hO.sort(h3);for(var h8=1,h6=hO[0],h5,h4=[h6];h8<ib;++h8){h5=hO[h8];if(h2(h5[0],h6)||h2(h5[1],h6)){if(h0(h6[0],h5[1])>h0(h6[0],h6[1])){h6[1]=h5[1]}if(h0(h5[0],h6[1])>h0(h6[0],h6[1])){h6[0]=h5[0]}}else{h4.push(h6=h5)}}var ia=-Infinity,h7;for(var ib=h4.length-1,h8=0,h6=h4[ib],h5;h8<=ib;h6=h5,++h8){h5=h4[h8];if((h7=h0(h6[1],h5[0]))>ia){ia=h7,hL=h5[0],hJ=h6[1]}}}hO=hR=null;return hL===Infinity||h1===Infinity?[[NaN,NaN],[NaN,NaN]]:[[hL,h1],[hJ,hZ]]}}();gX.geo.centroid=function(hK){d2=d0=dA=dd=cY=dz=dc=cW=dy=db=cV=0;gX.geo.stream(hK,f2);var hJ=dy,hM=db,hL=cV,e=hJ*hJ+hM*hM+hL*hL;if(e<eq){hJ=dz,hM=dc,hL=cW;if(d0<f7){hJ=dA,hM=dd,hL=cY}e=hJ*hJ+hM*hM+hL*hL;if(e<eq){return[NaN,NaN]}}return[Math.atan2(hM,hJ)*hc,b6(hL/Math.sqrt(e))*hc]};var d2,d0,dA,dd,cY,dz,dc,cW,dy,db,cV;var f2={sphere:aF,point:b2,lineStart:e7,lineEnd:aD,polygonStart:function(){f2.lineStart=bj},polygonEnd:function(){f2.lineStart=e7}};function b2(hJ,e){hJ*=K;var hK=Math.cos(e*=K);gd(hK*Math.cos(hJ),hK*Math.sin(hJ),Math.sin(e))}function gd(e,hK,hJ){++d2;dA+=(e-dA)/d2;dd+=(hK-dd)/d2;cY+=(hJ-cY)/d2}function e7(){var e,hJ,hL;f2.point=function(hN,hM){hN*=K;var hO=Math.cos(hM*=K);e=hO*Math.cos(hN);hJ=hO*Math.sin(hN);hL=Math.sin(hM);f2.point=hK;gd(e,hJ,hL)};function hK(hP,hO){hP*=K;var hQ=Math.cos(hO*=K),hM=hQ*Math.cos(hP),hS=hQ*Math.sin(hP),hR=Math.sin(hO),hN=Math.atan2(Math.sqrt((hN=hJ*hR-hL*hS)*hN+(hN=hL*hM-e*hR)*hN+(hN=e*hS-hJ*hM)*hN),e*hM+hJ*hS+hL*hR);d0+=hN;dz+=hN*(e+(e=hM));dc+=hN*(hJ+(hJ=hS));cW+=hN*(hL+(hL=hR));gd(e,hJ,hL)}}function aD(){f2.point=b2}function bj(){var hJ,e,hK,hL,hN;f2.point=function(hP,hO){hJ=hP,e=hO;f2.point=hM;hP*=K;var hQ=Math.cos(hO*=K);hK=hQ*Math.cos(hP);hL=hQ*Math.sin(hP);hN=Math.sin(hO);gd(hK,hL,hN)};f2.lineEnd=function(){hM(hJ,e);f2.lineEnd=aD;f2.point=b2};function hM(hT,h0){hT*=K;var hR=Math.cos(h0*=K),hW=hR*Math.cos(hT),hV=hR*Math.sin(hT),hU=Math.sin(h0),hS=hL*hU-hN*hV,hQ=hN*hW-hK*hU,hP=hK*hV-hL*hW,hO=Math.sqrt(hS*hS+hQ*hQ+hP*hP),hZ=hK*hW+hL*hV+hN*hU,hY=hO&&-af(hZ)/hO,hX=Math.atan2(hO,hZ);dy+=hY*hS;db+=hY*hQ;cV+=hY*hP;d0+=hX;dz+=hX*(hK+(hK=hW));dc+=hX*(hL+(hL=hV));cW+=hX*(hN+(hN=hU));gd(hK,hL,hN)}}function aj(){return true}function cj(hQ,hK,hO,hT,hM){var hU=[],hN=[];hQ.forEach(function(hZ){if((h2=hZ.length-1)<=0){return}var h2,h1=hZ[0],h0=hZ[h2];if(eC(h1,h0)){hM.lineStart();for(var hY=0;hY<h2;++hY){hM.point((h1=hZ[hY])[0],h1[1])}hM.lineEnd();return}var hX={point:h1,points:hZ,other:null,visited:false,entry:true,subject:true},e={point:h1,points:[h1],other:hX,visited:false,entry:false,subject:false};hX.other=e;hU.push(hX);hN.push(e);hX={point:h0,points:[h0],other:null,visited:false,entry:false,subject:true};e={point:h0,points:[h0],other:hX,visited:false,entry:true,subject:false};hX.other=e;hU.push(hX);hN.push(e)});hN.sort(hK);hh(hU);hh(hN);if(!hU.length){return}if(hO){for(var hP=1,hS=!hO(hN[0].point),hL=hN.length;hP<hL;++hP){hN[hP].entry=hS=!hS}}var hJ=hU[0],hR,hW,hV;while(1){hR=hJ;while(hR.visited){if((hR=hR.next)===hJ){return}}hW=hR.points;hM.lineStart();do{hR.visited=hR.other.visited=true;if(hR.entry){if(hR.subject){for(var hP=0;hP<hW.length;hP++){hM.point((hV=hW[hP])[0],hV[1])}}else{hT(hR.point,hR.next.point,1,hM)}hR=hR.next}else{if(hR.subject){hW=hR.prev.points;for(var hP=hW.length;--hP>=0;){hM.point((hV=hW[hP])[0],hV[1])}}else{hT(hR.point,hR.prev.point,-1,hM)}hR=hR.prev}hR=hR.other;hW=hR.points}while(!hR.visited);hM.lineEnd()}}function hh(hM){if(!(hL=hM.length)){return}var hL,hK=0,hJ=hM[0],e;while(++hK<hL){hJ.next=e=hM[hK];e.prev=hJ;hJ=e}hJ.next=e=hM[0];e.prev=hJ}function d9(hJ,hL,hK,e){return function(hN){var h0=hL(hN);var hO={point:hY,lineStart:hU,lineEnd:hR,polygonStart:function(){hO.point=hW;hO.lineStart=hV;hO.lineEnd=hZ;hT=[];hX=[];hN.polygonStart()},polygonEnd:function(){hO.point=hY;hO.lineStart=hU;hO.lineEnd=hR;hT=gX.merge(hT);if(hT.length){cj(hT,dL,null,hK,hN)}else{if(e(hX)){hN.lineStart();hK(null,null,1,hN);hN.lineEnd()}}hN.polygonEnd();hT=hX=null},sphere:function(){hN.polygonStart();hN.lineStart();hK(null,null,1,hN);hN.lineEnd();hN.polygonEnd()}};function hY(h2,h1){if(hJ(h2,h1)){hN.point(h2,h1)}}function hS(h2,h1){h0.point(h2,h1)}function hU(){hO.point=hS;h0.lineStart()}function hR(){hO.point=hY;h0.lineEnd()}var hT;var hQ=R(),hM=hL(hQ),hX,hP;function hW(h2,h1){hM.point(h2,h1);hP.push([h2,h1])}function hV(){hM.lineStart();hP=[]}function hZ(){hW(hP[0][0],hP[0][1]);hM.lineEnd();var h3=hM.clean(),h5=hQ.buffer(),h4,h6=h5.length;hP.pop();hX.push(hP);hP=null;if(!h6){return}if(h3&1){h4=h5[0];var h6=h4.length-1,h2=-1,h1;hN.lineStart();while(++h2<h6){hN.point((h1=h4[h2])[0],h1[1])}hN.lineEnd();return}if(h6>1&&h3&2){h5.push(h5.pop().concat(h5.shift()))}hT.push(h5.filter(ey))}return hO}}function ey(e){return e.length>1}function R(){var hJ=[],e;return{lineStart:function(){hJ.push(e=[])},point:function(hL,hK){e.push([hL,hK])},lineEnd:aF,buffer:function(){var hK=hJ;hJ=[];e=null;return hK},rejoin:function(){if(hJ.length>1){hJ.push(hJ.pop().concat(hJ.shift()))}}}}function dL(hJ,e){return((hJ=hJ.point)[0]<0?hJ[1]-fZ/2-f7:fZ/2-hJ[1])-((e=e.point)[0]<0?e[1]-fZ/2-f7:fZ/2-e[1])}function fB(h0,hV){var h8=h0[0],h9=h0[1],e=[Math.sin(h8),-Math.cos(h8),0],hU=0,ia=false,hW=false,h6=0;fE.reset();for(var h5=0,hX=hV.length;h5<hX;++h5){var hQ=hV[h5],hZ=hQ.length;if(!hZ){continue}var hN=hQ[0],hK=hN[0],h7=hN[1]/2+fZ/4,hP=Math.sin(h7),hJ=Math.cos(h7),h4=1;while(true){if(h4===hZ){h4=0}h0=hQ[h4];var hY=h0[0],hT=h0[1]/2+fZ/4,hL=Math.sin(hT),h3=Math.cos(hT),h2=hY-hK,hM=Math.abs(h2)>fZ,h1=hP*hL;fE.add(Math.atan2(h1*Math.sin(h2),hJ*h3+h1*Math.cos(h2)));if(Math.abs(hT)<f7){hW=true}hU+=hM?h2+(h2>=0?2:-2)*fZ:h2;if(hM^hK>=h8^hY>=h8){var hR=cP(at(hN),at(h0));e8(hR);var hS=cP(e,hR);e8(hS);var hO=(hM^h2>=0?-1:1)*b6(hS[2]);if(h9>hO){h6+=hM^h2>=0?1:-1}}if(!h4++){break}hK=hY,hP=hL,hJ=h3,hN=h0}if(Math.abs(hU)>f7){ia=true}}return(!hW&&!ia&&fE<0||hU<-f7)^h6&1}var j=d9(aj,er,c3,c7);function er(hM){var hJ=NaN,e=NaN,hL=NaN,hK;return{lineStart:function(){hM.lineStart();hK=1},point:function(hO,hN){var hQ=hO>0?fZ:-fZ,hP=Math.abs(hO-hJ);if(Math.abs(hP-fZ)<f7){hM.point(hJ,e=(e+hN)/2>0?fZ/2:-fZ/2);hM.point(hL,e);hM.lineEnd();hM.lineStart();hM.point(hQ,e);hM.point(hO,e);hK=0}else{if(hL!==hQ&&hP>=fZ){if(Math.abs(hJ-hL)<f7){hJ-=hL*f7}if(Math.abs(hO-hQ)<f7){hO-=hQ*f7}e=s(hJ,e,hO,hN);hM.point(hL,e);hM.lineEnd();hM.lineStart();hM.point(hQ,e);hK=0}}hM.point(hJ=hO,e=hN);hL=hQ},lineEnd:function(){hM.lineEnd();hJ=e=NaN},clean:function(){return 2-hK}}}function s(hN,hM,hL,hK){var hJ,e,hO=Math.sin(hN-hL);return Math.abs(hO)>f7?Math.atan((Math.sin(hM)*(e=Math.cos(hK))*Math.sin(hL)-Math.sin(hK)*(hJ=Math.cos(hM))*Math.sin(hN))/(hJ*e*hO)):(hM+hK)/2}function c3(hN,hM,hL,hK){var e;if(hN==null){e=hL*fZ/2;hK.point(-fZ,e);hK.point(0,e);hK.point(fZ,e);hK.point(fZ,0);hK.point(fZ,-e);hK.point(0,-e);hK.point(-fZ,-e);hK.point(-fZ,0);hK.point(-fZ,e)}else{if(Math.abs(hN[0]-hM[0])>f7){var hJ=(hN[0]<hM[0]?1:-1)*fZ;e=hL*hJ/2;hK.point(-hJ,e);hK.point(0,e);hK.point(hJ,e)}else{hK.point(hM[0],hM[1])}}}var go=[-fZ,0];function c7(e){return fB(go,e)}function aK(hN){var hO=Math.cos(hN),hM=hO>0,hS=[hN,0],hP=Math.abs(hO)>f7,hQ=bV(hN,6*K);return d9(hL,hR,hQ,hJ);function hL(hU,hT){return Math.cos(hU)*Math.cos(hT)>hO}function hR(hY){var hX,hW,hT,hV,hU;return{lineStart:function(){hV=hT=false;hU=1},point:function(h0,hZ){var h4=[h0,hZ],h3,h1=hL(h0,hZ),h5=hM?h1?0:e(h0,hZ):h1?e(h0+(h0<0?fZ:-fZ),hZ):0;if(!hX&&(hV=hT=h1)){hY.lineStart()}if(h1!==hT){h3=hK(hX,h4);if(eC(hX,h3)||eC(h4,h3)){h4[0]+=f7;h4[1]+=f7;h1=hL(h4[0],h4[1])}}if(h1!==hT){hU=0;if(h1){hY.lineStart();h3=hK(h4,hX);hY.point(h3[0],h3[1])}else{h3=hK(hX,h4);hY.point(h3[0],h3[1]);hY.lineEnd()}hX=h3}else{if(hP&&hX&&hM^h1){var h2;if(!(h5&hW)&&(h2=hK(h4,hX,true))){hU=0;if(hM){hY.lineStart();hY.point(h2[0][0],h2[0][1]);hY.point(h2[1][0],h2[1][1]);hY.lineEnd()}else{hY.point(h2[1][0],h2[1][1]);hY.lineEnd();hY.lineStart();hY.point(h2[0][0],h2[0][1])}}}}if(h1&&(!hX||!eC(hX,h4))){hY.point(h4[0],h4[1])}hX=h4,hT=h1,hW=h5},lineEnd:function(){if(hT){hY.lineEnd()}hX=null},clean:function(){return hU|(hV&&hT)<<1}}}function hK(il,ik,hX){var hV=at(il),hT=at(ik);var h2=[1,0,0],hZ=cP(hV,hT),h5=ax(hZ,hZ),ij=hZ[0],ib=h5-ij*ij;if(!ib){return !hX&&il}var ie=hO*h5/ib,id=-hO*ij/ib,im=cP(h2,hZ),ic=f0(h2,ie),ia=f0(hZ,id);cu(ic,ia);var h7=im,h6=ax(ic,h7),hY=ax(h7,h7),h4=h6*h6-hY*(ax(ic,ic)-1);if(h4<0){return}var h8=Math.sqrt(h4),h9=f0(h7,(-h6-h8)/hY);cu(h9,ic);h9=hF(h9);if(!hX){return h9}var hW=il[0],hU=ik[0],ih=il[1],ig=ik[1],h1;if(hU<hW){h1=hW,hW=hU,hU=h1}var h0=hU-hW,io=Math.abs(h0-fZ)<f7,ii=io||h0<f7;if(!io&&ig<ih){h1=ih,ih=ig,ig=h1}if(ii?io?ih+ig>0^h9[1]<(Math.abs(h9[0]-hW)<f7?ih:ig):ih<=h9[1]&&h9[1]<=ig:h0>fZ^(hW<=h9[0]&&h9[0]<=hU)){var h3=f0(h7,(-h6+h8)/hY);cu(h3,ic);return[h9,hF(h3)]}}function e(hU,hT){var hW=hM?hN:fZ-hN,hV=0;if(hU<-hW){hV|=1}else{if(hU>hW){hV|=2}}if(hT<-hW){hV|=4}else{if(hT>hW){hV|=8}}return hV}function hJ(hT){return fB(hS,hT)}}var cB=1000000000;gX.geo.clipExtent=function(){var hK,hN,hJ,hL,hO,hM,e={stream:function(hP){if(hO){hO.valid=false}hO=hM(hP);hO.valid=true;return hO},extent:function(hP){if(!arguments.length){return[[hK,hN],[hJ,hL]]}hM=d6(hK=+hP[0][0],hN=+hP[0][1],hJ=+hP[1][0],hL=+hP[1][1]);if(hO){hO.valid=false,hO=null}return e}};return e.extent([[0,0],[960,500]])};function d6(hJ,hM,e,hK){return function(hV){var hR=hV,h1=R(),h8,h2,hZ;var ic={point:h7,lineStart:h4,lineEnd:h9,polygonStart:function(){hV=h1;h8=[];h2=[]},polygonEnd:function(){hV=hR;if((h8=gX.merge(h8)).length){hV.polygonStart();cj(h8,hN,ia,h0,hV);hV.polygonEnd()}else{if(h3([hJ,hM])){hV.polygonStart(),hV.lineStart();h0(null,null,1,hV);hV.lineEnd(),hV.polygonEnd()}}h8=h2=hZ=null}};function ia(id){var ie=hL(id,-1),ig=h3([ie===0||ie===3?hJ:e,ie>1?hK:hM]);return ig}function h3(id){var im=0,ie=h2.length,ik=id[1];for(var ii=0;ii<ie;++ii){for(var ih=1,io=h2[ii],ig=io.length,il=io[0],ij;ih<ig;++ih){ij=io[ih];if(il[1]<=ik){if(ij[1]>ik&&hW(il,ij,id)>0){++im}}else{if(ij[1]<=ik&&hW(il,ij,id)<0){--im}}il=ij}}return im!==0}function hW(ie,id,ig){return(id[0]-ie[0])*(ig[1]-ie[1])-(ig[0]-ie[0])*(id[1]-ie[1])}function h0(ij,ii,ih,ig){var ie=0,id=0;if(ij==null||(ie=hL(ij,ih))!==(id=hL(ii,ih))||hO(ij,ii)<0^ih>0){do{ig.point(ie===0||ie===3?hJ:e,ie>1?hK:hM)}while((ie=(ie+ih+4)%4)!==id)}else{ig.point(ii[0],ii[1])}}function hT(id,ie){return hJ<=id&&id<=e&&hM<=ie&&ie<=hK}function h7(id,ie){if(hT(id,ie)){hV.point(id,ie)}}var h6,hX,h5,ib,hU,hS,hY;function h4(){ic.point=hQ;if(h2){h2.push(hZ=[])}hY=true;hS=false;ib=hU=NaN}function h9(){if(h8){hQ(h6,hX);if(h5&&hS){h1.rejoin()}h8.push(h1.buffer())}ic.point=h7;if(hS){hV.lineEnd()}}function hQ(ie,ii){ie=Math.max(-cB,Math.min(cB,ie));ii=Math.max(-cB,Math.min(cB,ii));var ih=hT(ie,ii);if(h2){hZ.push([ie,ii])}if(hY){h6=ie,hX=ii,h5=ih;hY=false;if(ih){hV.lineStart();hV.point(ie,ii)}}else{if(ih&&hS){hV.point(ie,ii)}else{var ig=[ib,hU],id=[ie,ii];if(hP(ig,id)){if(!hS){hV.lineStart();hV.point(ig[0],ig[1])}hV.point(id[0],id[1]);if(!ih){hV.lineEnd()}}else{if(ih){hV.lineStart();hV.point(ie,ii)}}}}ib=ie,hU=ii,hS=ih}return ic};function hL(hR,hQ){return Math.abs(hR[0]-hJ)<f7?hQ>0?0:3:Math.abs(hR[0]-e)<f7?hQ>0?2:1:Math.abs(hR[1]-hM)<f7?hQ>0?1:0:hQ>0?3:2}function hN(hR,hQ){return hO(hR.point,hQ.point)}function hO(hT,hR){var hS=hL(hT,1),hQ=hL(hR,1);return hS!==hQ?hS-hQ:hS===0?hR[1]-hT[1]:hS===1?hT[0]-hR[0]:hS===2?hT[1]-hR[1]:hR[0]-hT[0]}function hP(hS,hQ){var hT=hQ[0]-hS[0],hR=hQ[1]-hS[1],hU=[0,1];if(Math.abs(hT)<f7&&Math.abs(hR)<f7){return hJ<=hS[0]&&hS[0]<=e&&hM<=hS[1]&&hS[1]<=hK}if(eJ(hJ-hS[0],hT,hU)&&eJ(hS[0]-e,-hT,hU)&&eJ(hM-hS[1],hR,hU)&&eJ(hS[1]-hK,-hR,hU)){if(hU[1]<1){hQ[0]=hS[0]+hU[1]*hT;hQ[1]=hS[1]+hU[1]*hR}if(hU[0]>0){hS[0]+=hU[0]*hT;hS[1]+=hU[0]*hR}return true}return false}}function eJ(hJ,hL,hK){if(Math.abs(hL)<f7){return hJ<=0}var e=hJ/hL;if(hL>0){if(e>hK[1]){return false}if(e>hK[0]){hK[0]=e}}else{if(e<hK[0]){return false}if(e<hK[1]){hK[1]=e}}return true}function eU(hJ,e){function hK(hL,hM){return hL=hJ(hL,hM),e(hL[0],hL[1])}if(hJ.invert&&e.invert){hK.invert=function(hL,hM){return hL=e.invert(hL,hM),hL&&hJ.invert(hL[0],hL[1])}}return hK}function bY(hL){var hK=0,hJ=fZ/3,e=e6(hL),hM=e(hK,hJ);hM.parallels=function(hN){if(!arguments.length){return[hK/fZ*180,hJ/fZ*180]}return e(hK=hN[0]*fZ/180,hJ=hN[1]*fZ/180)};return hM}function O(hJ,e){var hM=Math.sin(hJ),hO=(hM+Math.sin(e))/2,hN=1+hM*(2*hO-hM),hL=Math.sqrt(hN)/hO;function hK(hQ,hP){var hR=Math.sqrt(hN-2*hO*Math.sin(hP))/hO;return[hR*Math.sin(hQ*=hO),hL-hR*Math.cos(hQ)]}hK.invert=function(hP,hR){var hQ=hL-hR;return[Math.atan2(hP,hQ)/hO,b6((hN-(hP*hP+hQ*hQ)*hO*hO)/(2*hO))]};return hK}(gX.geo.conicEqualArea=function(){return bY(O)}).raw=O;gX.geo.albers=function(){return gX.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};gX.geo.albersUsa=function(){var hJ=gX.geo.albers();var hN=gX.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var hK=gX.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var hP,e={point:function(hR,hS){hP=[hR,hS]}},hM,hO,hL;function hQ(hS){var hR=hS[0],hT=hS[1];hP=null;(hM(hR,hT),hP)||(hO(hR,hT),hP)||hL(hR,hT);return hP}hQ.invert=function(hU){var hS=hJ.scale(),hT=hJ.translate(),hR=(hU[0]-hT[0])/hS,hV=(hU[1]-hT[1])/hS;return(hV>=0.12&&hV<0.234&&hR>=-0.425&&hR<-0.214?hN:hV>=0.166&&hV<0.234&&hR>=-0.214&&hR<-0.115?hK:hJ).invert(hU)};hQ.stream=function(hT){var hS=hJ.stream(hT),hU=hN.stream(hT),hR=hK.stream(hT);return{point:function(hV,hW){hS.point(hV,hW);hU.point(hV,hW);hR.point(hV,hW)},sphere:function(){hS.sphere();hU.sphere();hR.sphere()},lineStart:function(){hS.lineStart();hU.lineStart();hR.lineStart()},lineEnd:function(){hS.lineEnd();hU.lineEnd();hR.lineEnd()},polygonStart:function(){hS.polygonStart();hU.polygonStart();hR.polygonStart()},polygonEnd:function(){hS.polygonEnd();hU.polygonEnd();hR.polygonEnd()}}};hQ.precision=function(hR){if(!arguments.length){return hJ.precision()}hJ.precision(hR);hN.precision(hR);hK.precision(hR);return hQ};hQ.scale=function(hR){if(!arguments.length){return hJ.scale()}hJ.scale(hR);hN.scale(hR*0.35);hK.scale(hR);return hQ.translate(hJ.translate())};hQ.translate=function(hT){if(!arguments.length){return hJ.translate()}var hS=hJ.scale(),hR=+hT[0],hU=+hT[1];hM=hJ.translate(hT).clipExtent([[hR-0.455*hS,hU-0.238*hS],[hR+0.455*hS,hU+0.238*hS]]).stream(e).point;hO=hN.translate([hR-0.307*hS,hU+0.201*hS]).clipExtent([[hR-0.425*hS+f7,hU+0.12*hS+f7],[hR-0.214*hS-f7,hU+0.234*hS-f7]]).stream(e).point;hL=hK.translate([hR-0.205*hS,hU+0.212*hS]).clipExtent([[hR-0.214*hS+f7,hU+0.166*hS+f7],[hR-0.115*hS-f7,hU+0.234*hS-f7]]).stream(e).point;return hQ};return hQ.scale(1070)};var fC,B,dp={point:aF,lineStart:aF,lineEnd:aF,polygonStart:function(){B=0;dp.lineStart=cD},polygonEnd:function(){dp.lineStart=dp.lineEnd=dp.point=aF;fC+=Math.abs(B/2)}};function cD(){var hL,e,hJ,hK;dp.point=function(hN,hO){dp.point=hM;hL=hJ=hN,e=hK=hO};function hM(hN,hO){B+=hK*hN-hJ*hO;hJ=hN,hK=hO}dp.lineEnd=function(){hM(hL,e)}}var ex,ee,ev,ed;var aw={point:cL,lineStart:aF,lineEnd:aF,polygonStart:aF,polygonEnd:aF};function cL(e,hJ){if(e<ex){ex=e}if(e>ev){ev=e}if(hJ<ee){ee=hJ}if(hJ>ed){ed=hJ}}function ca(){var hK=gL(4.5),hJ=[];var hP={point:e,lineStart:function(){hP.point=hO},lineEnd:hN,polygonStart:function(){hP.lineEnd=hL},polygonEnd:function(){hP.lineEnd=hN;hP.point=e},pointRadius:function(hQ){hK=gL(hQ);return hP},result:function(){if(hJ.length){var hQ=hJ.join("");hJ=[];return hQ}}};function e(hQ,hR){hJ.push("M",hQ,",",hR,hK)}function hO(hQ,hR){hJ.push("M",hQ,",",hR);hP.point=hM}function hM(hQ,hR){hJ.push("L",hQ,",",hR)}function hN(){hP.point=e}function hL(){hJ.push("Z")}return hP}function gL(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var gK={point:cH,lineStart:fH,lineEnd:cG,polygonStart:function(){gK.lineStart=bQ},polygonEnd:function(){gK.point=cH;gK.lineStart=fH;gK.lineEnd=cG}};function cH(e,hJ){dA+=e;dd+=hJ;++cY}function fH(){var e,hJ;gK.point=function(hL,hM){gK.point=hK;cH(e=hL,hJ=hM)};function hK(hL,hP){var hN=hL-e,hM=hP-hJ,hO=Math.sqrt(hN*hN+hM*hM);dz+=hO*(e+hL)/2;dc+=hO*(hJ+hP)/2;cW+=hO;cH(e=hL,hJ=hP)}}function cG(){gK.point=cH}function bQ(){var hL,e,hJ,hK;gK.point=function(hN,hO){gK.point=hM;cH(hL=hJ=hN,e=hK=hO)};function hM(hN,hR){var hP=hN-hJ,hO=hR-hK,hQ=Math.sqrt(hP*hP+hO*hO);dz+=hQ*(hJ+hN)/2;dc+=hQ*(hK+hR)/2;cW+=hQ;hQ=hK*hN-hJ*hR;dy+=hQ*(hJ+hN);db+=hQ*(hK+hR);cV+=hQ*3;cH(hJ=hN,hK=hR)}gK.lineEnd=function(){hM(hL,e)}}function cy(hJ){var hM=4.5;var hP={point:e,lineStart:function(){hP.point=hO},lineEnd:hN,polygonStart:function(){hP.lineEnd=hK},polygonEnd:function(){hP.lineEnd=hN;hP.point=e},pointRadius:function(hQ){hM=hQ;return hP},result:aF};function e(hQ,hR){hJ.moveTo(hQ,hR);hJ.arc(hQ,hR,hM,0,2*fZ)}function hO(hQ,hR){hJ.moveTo(hQ,hR);hP.point=hL}function hL(hQ,hR){hJ.lineTo(hQ,hR)}function hN(){hP.point=e}function hK(){hJ.closePath()}return hP}function fD(hM){var hK=0.5,hL=Math.cos(30*K),hN=16;function hJ(hU){var hZ,h5,h4,hV,h8,hX,hP,hQ,h7,hR,h9,hW,h0;var hS={point:h3,lineStart:hY,lineEnd:h6,polygonStart:function(){hU.polygonStart();hS.lineStart=hT},polygonEnd:function(){hU.polygonEnd();hS.lineStart=hY}};function h3(ia,ib){ia=hM(ia,ib);hU.point(ia[0],ia[1])}function hY(){h7=NaN;hS.point=hO;hU.lineStart()}function hO(ib,ia){var id=at([ib,ia]),ic=hM(ib,ia);e(h7,hR,hQ,h9,hW,h0,h7=ic[0],hR=ic[1],hQ=ib,h9=id[0],hW=id[1],h0=id[2],hN,hU);hU.point(h7,hR)}function h6(){hS.point=h3;hU.lineEnd()}function hT(){hY();hS.point=h2;hS.lineEnd=h1}function h2(ib,ia){hO(hZ=ib,h5=ia),h4=h7,hV=hR,h8=h9,hX=hW,hP=h0;hS.point=hO}function h1(){e(h7,hR,hQ,h9,hW,h0,h4,hV,hZ,h8,hX,hP,hN,hU);hS.lineEnd=h6;h6()}return hS}function e(h9,hU,hQ,ih,hX,h5,h8,hT,hP,ie,hW,h3,id,hV){var h1=h8-h9,h0=hT-hU,ig=h1*h1+h0*h0;if(ig>4*hK&&id--){var ic=ih+ie,ib=hX+hW,ia=h5+h3,h4=Math.sqrt(ic*ic+ib*ib+ia*ia),h7=Math.asin(ia/=h4),hO=Math.abs(Math.abs(ia)-1)<f7?(hQ+hP)/2:Math.atan2(ib,ic),h2=hM(hO,h7),h6=h2[0],hS=h2[1],hR=h6-h9,hZ=hS-hU,hY=h0*hR-h1*hZ;if(hY*hY/ig>hK||Math.abs((h1*hR+h0*hZ)/ig-0.5)>0.3||ih*ie+hX*hW+h5*h3<hL){e(h9,hU,hQ,ih,hX,h5,h6,hS,hO,ic/=h4,ib/=h4,ia,id,hV);hV.point(h6,hS);e(h6,hS,hO,ic,ib,ia,h8,hT,hP,ie,hW,h3,id,hV)}}}hJ.precision=function(hO){if(!arguments.length){return Math.sqrt(hK)}hN=(hK=hO*hO)>0&&16;return hJ};return hJ}gX.geo.transform=function(e){return{stream:function(hL){var hK=new d1(hL);for(var hJ in e){hK[hJ]=e[hJ]}return hK}}};function d1(e){this.stream=e}d1.prototype={point:function(e,hJ){this.stream.point(e,hJ)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};gX.geo.path=function(){var hO=4.5,hJ,hL,hM,e,hK;function hP(hQ){if(hQ){if(typeof hO==="function"){e.pointRadius(+hO.apply(this,arguments))}if(!hK||!hK.valid){hK=hM(e)}gX.geo.stream(hQ,hK)}return e.result()}hP.area=function(hQ){fC=0;gX.geo.stream(hQ,hM(dp));return fC};hP.centroid=function(hQ){dA=dd=cY=dz=dc=cW=dy=db=cV=0;gX.geo.stream(hQ,hM(gK));return cV?[dy/cV,db/cV]:cW?[dz/cW,dc/cW]:cY?[dA/cY,dd/cY]:[NaN,NaN]};hP.bounds=function(hQ){ev=ed=-(ex=ee=Infinity);gX.geo.stream(hQ,hM(aw));return[[ex,ee],[ev,ed]]};hP.projection=function(hQ){if(!arguments.length){return hJ}hM=(hJ=hQ)?hQ.stream||gT(hQ):f5;return hN()};hP.context=function(hQ){if(!arguments.length){return hL}e=(hL=hQ)==null?new ca():new cy(hQ);if(typeof hO!=="function"){e.pointRadius(hO)}return hN()};hP.pointRadius=function(hQ){if(!arguments.length){return hO}hO=typeof hQ==="function"?hQ:(e.pointRadius(+hQ),+hQ);return hP};function hN(){hK=null;return hP}return hP.projection(gX.geo.albersUsa()).context(null)};function gT(hJ){var e=fD(function(hK,hL){return hJ([hK*hc,hL*hc])});return function(hL){var hK=new d1(hL=e(hL));hK.point=function(hM,hN){hL.point(hM*K,hN*K)};return hK}}gX.geo.projection=fp;gX.geo.projectionMutator=e6;function fp(e){return e6(function(){return e})()}function e6(hW){var hL,h1,hP,hY=fD(function(h6,h7){h6=hL(h6,h7);return[h6[0]*h0+hN,hK-h6[1]*h0]}),h0=150,hU=480,hS=250,hZ=0,hT=0,hQ=0,hM=0,hX=0,hN,hK,h5=j,h2=f5,e=null,hJ=null,hO;function h4(h6){h6=hP(h6[0]*K,h6[1]*K);return[h6[0]*h0+hN,hK-h6[1]*h0]}function hV(h6){h6=hP.invert((h6[0]-hN)/h0,(hK-h6[1])/h0);return h6&&[h6[0]*hc,h6[1]*hc]}h4.stream=function(h6){if(hO){hO.valid=false}hO=X(h1,h5(hY(h2(h6))));hO.valid=true;return hO};h4.clipAngle=function(h6){if(!arguments.length){return e}h5=h6==null?(e=h6,j):aK((e=+h6)*K);return hR()};h4.clipExtent=function(h6){if(!arguments.length){return hJ}hJ=h6;h2=h6?d6(h6[0][0],h6[0][1],h6[1][0],h6[1][1]):f5;return hR()};h4.scale=function(h6){if(!arguments.length){return h0}h0=+h6;return h3()};h4.translate=function(h6){if(!arguments.length){return[hU,hS]}hU=+h6[0];hS=+h6[1];return h3()};h4.center=function(h6){if(!arguments.length){return[hZ*hc,hT*hc]}hZ=h6[0]%360*K;hT=h6[1]%360*K;return h3()};h4.rotate=function(h6){if(!arguments.length){return[hQ*hc,hM*hc,hX*hc]}hQ=h6[0]%360*K;hM=h6[1]%360*K;hX=h6.length>2?h6[2]%360*K:0;return h3()};gX.rebind(h4,hY,"precision");function h3(){hP=eU(h1=dv(hQ,hM,hX),hL);var h6=hL(hZ,hT);hN=hU-h6[0]*h0;hK=hS+h6[1]*h0;return hR()}function hR(){if(hO){hO.valid=false,hO=null}return h4}return function(){hL=hW.apply(this,arguments);h4.invert=hL.invert&&hV;return h3()}}function X(hJ,hK){var e=new d1(hK);e.point=function(hL,hM){hM=hJ(hL*K,hM*K),hL=hM[0];hK.point(hL>fZ?hL-2*fZ:hL<-fZ?hL+2*fZ:hL,hM[1])};return e}function br(hJ,e){return[hJ,e]}(gX.geo.equirectangular=function(){return fp(br)}).raw=br.invert=br;gX.geo.rotation=function(hJ){hJ=dv(hJ[0]%360*K,hJ[1]*K,hJ.length>2?hJ[2]*K:0);function e(hK){hK=hJ(hK[0]*K,hK[1]*K);return hK[0]*=hc,hK[1]*=hc,hK}e.invert=function(hK){hK=hJ.invert(hK[0]*K,hK[1]*K);return hK[0]*=hc,hK[1]*=hc,hK};return e};function dv(hK,hJ,e){return hK?hJ||e?eU(eM(hK),bL(hJ,e)):eM(hK):hJ||e?bL(hJ,e):br}function gE(e){return function(hK,hJ){return hK+=e,[hK>fZ?hK-2*fZ:hK<-fZ?hK+2*fZ:hK,hJ]}}function eM(hJ){var e=gE(hJ);e.invert=gE(-hJ);return e}function bL(hN,hJ){var hM=Math.cos(hN),hO=Math.sin(hN),e=Math.cos(hJ),hK=Math.sin(hJ);function hL(hR,hQ){var hT=Math.cos(hQ),hP=Math.cos(hR)*hT,hV=Math.sin(hR)*hT,hU=Math.sin(hQ),hS=hU*hM+hP*hO;return[Math.atan2(hV*e-hS*hK,hP*hM-hU*hO),b6(hS*e+hV*hK)]}hL.invert=function(hR,hQ){var hT=Math.cos(hQ),hP=Math.cos(hR)*hT,hV=Math.sin(hR)*hT,hU=Math.sin(hQ),hS=hU*e-hV*hK;return[Math.atan2(hV*e+hU*hK,hP*hM+hS*hO),b6(hS*hM-hP*hO)]};return hL}gX.geo.circle=function(){var hJ=[0,0],hM,e=6,hK;function hL(){var hN=typeof hJ==="function"?hJ.apply(this,arguments):hJ,hP=dv(-hN[0]*K,-hN[1]*K,0).invert,hO=[];hK(null,null,1,{point:function(hQ,hR){hO.push(hQ=hP(hQ,hR));hQ[0]*=hc,hQ[1]*=hc}});return{type:"Polygon",coordinates:[hO]}}hL.origin=function(hN){if(!arguments.length){return hJ}hJ=hN;return hL};hL.angle=function(hN){if(!arguments.length){return hM}hK=bV((hM=+hN)*K,e*K);return hL};hL.precision=function(hN){if(!arguments.length){return e}hK=bV(hM*K,(e=+hN)*K);return hL};return hL.angle(90)};function bV(e,hJ){var hL=Math.cos(e),hK=Math.sin(e);return function(hS,hR,hQ,hP){var hO=hQ*hJ;if(hS!=null){hS=hs(hL,hS);hR=hs(hL,hR);if(hQ>0?hS<hR:hS>hR){hS+=hQ*2*fZ}}else{hS=e+hQ*2*fZ;hR=e-0.5*hO}for(var hM,hN=hS;hQ>0?hN>hR:hN<hR;hN-=hO){hP.point((hM=hF([hL,-hK*Math.cos(hN),-hK*Math.sin(hN)]))[0],hM[1])}}}function hs(hK,e){var hJ=at(e);hJ[0]-=hK;e8(hJ);var hL=af(-hJ[1]);return((-hJ[2]<0?-hL:hL)+2*Math.PI-f7)%(2*Math.PI)}gX.geo.distance=function(hP,hO){var hQ=(hO[0]-hP[0])*K,hS=hP[1]*K,hR=hO[1]*K,hM=Math.sin(hQ),hJ=Math.cos(hQ),hN=Math.sin(hS),hK=Math.cos(hS),hL=Math.sin(hR),e=Math.cos(hR),hT;return Math.atan2(Math.sqrt((hT=e*hM)*hT+(hT=hK*hL-hN*e*hJ)*hT),hN*hL+hK*e*hJ)};gX.geo.graticule=function(){var hW,hY,hZ,h0,hL,hM,hN,hP,hU=10,hT=hU,hQ=90,hO=360,hS,hR,hK,hJ,hV=2.5;function hX(){return{type:"MultiLineString",coordinates:e()}}function e(){return gX.range(Math.ceil(h0/hQ)*hQ,hZ,hQ).map(hK).concat(gX.range(Math.ceil(hP/hO)*hO,hN,hO).map(hJ)).concat(gX.range(Math.ceil(hY/hU)*hU,hW,hU).filter(function(h1){return Math.abs(h1%hQ)>f7}).map(hS)).concat(gX.range(Math.ceil(hM/hT)*hT,hL,hT).filter(function(h1){return Math.abs(h1%hO)>f7}).map(hR))}hX.lines=function(){return e().map(function(h1){return{type:"LineString",coordinates:h1}})};hX.outline=function(){return{type:"Polygon",coordinates:[hK(h0).concat(hJ(hN).slice(1),hK(hZ).reverse().slice(1),hJ(hP).reverse().slice(1))]}};hX.extent=function(h1){if(!arguments.length){return hX.minorExtent()}return hX.majorExtent(h1).minorExtent(h1)};hX.majorExtent=function(h1){if(!arguments.length){return[[h0,hP],[hZ,hN]]}h0=+h1[0][0],hZ=+h1[1][0];hP=+h1[0][1],hN=+h1[1][1];if(h0>hZ){h1=h0,h0=hZ,hZ=h1}if(hP>hN){h1=hP,hP=hN,hN=h1}return hX.precision(hV)};hX.minorExtent=function(h1){if(!arguments.length){return[[hY,hM],[hW,hL]]}hY=+h1[0][0],hW=+h1[1][0];hM=+h1[0][1],hL=+h1[1][1];if(hY>hW){h1=hY,hY=hW,hW=h1}if(hM>hL){h1=hM,hM=hL,hL=h1}return hX.precision(hV)};hX.step=function(h1){if(!arguments.length){return hX.minorStep()}return hX.majorStep(h1).minorStep(h1)};hX.majorStep=function(h1){if(!arguments.length){return[hQ,hO]}hQ=+h1[0],hO=+h1[1];return hX};hX.minorStep=function(h1){if(!arguments.length){return[hU,hT]}hU=+h1[0],hT=+h1[1];return hX};hX.precision=function(h1){if(!arguments.length){return hV}hV=+h1;hS=aJ(hM,hL,90);hR=aH(hY,hW,hV);hK=aJ(hP,hN,90);hJ=aH(h0,hZ,hV);return hX};return hX.majorExtent([[-180,-90+f7],[180,90-f7]]).minorExtent([[-180,-80-f7],[180,80+f7]])};function aJ(hK,hJ,e){var hL=gX.range(hK,hJ-f7,e).concat(hJ);return function(hM){return hL.map(function(hN){return[hM,hN]})}}function aH(hL,hK,hJ){var e=gX.range(hL,hK-f7,hJ).concat(hK);return function(hM){return e.map(function(hN){return[hN,hM]})}}function hg(e){return e.source}function hq(e){return e.target}gX.geo.greatArc=function(){var hK=hg,hJ,hL=hq,hM;function e(){return{type:"LineString",coordinates:[hJ||hK.apply(this,arguments),hM||hL.apply(this,arguments)]}}e.distance=function(){return gX.geo.distance(hJ||hK.apply(this,arguments),hM||hL.apply(this,arguments))};e.source=function(hN){if(!arguments.length){return hK}hK=hN,hJ=typeof hN==="function"?null:hN;return e};e.target=function(hN){if(!arguments.length){return hL}hL=hN,hM=typeof hN==="function"?null:hN;return e};e.precision=function(){return arguments.length?e:0};return e};gX.geo.interpolate=function(e,hJ){return f(e[0]*K,e[1]*K,hJ[0]*K,hJ[1]*K)};function f(hL,hW,hK,hU){var hO=Math.cos(hW),hV=Math.sin(hW),hM=Math.cos(hU),hT=Math.sin(hU),hQ=hO*Math.cos(hL),hJ=hO*Math.sin(hL),hP=hM*Math.cos(hK),e=hM*Math.sin(hK),hS=2*Math.asin(Math.sqrt(aC(hU-hW)+hO*hM*aC(hK-hL))),hN=1/Math.sin(hS);var hR=hS?function(hZ){var h2=Math.sin(hZ*=hS)*hN,hY=Math.sin(hS-hZ)*hN,hX=hY*hQ+h2*hP,h1=hY*hJ+h2*e,h0=hY*hV+h2*hT;return[Math.atan2(h1,hX)*hc,Math.atan2(h0,Math.sqrt(hX*hX+h1*h1))*hc]}:function(){return[hL*hc,hW*hc]};hR.distance=hS;return hR}gX.geo.length=function(e){dK=0;gX.geo.stream(e,fL);return dK};var dK;var fL={sphere:aF,point:aF,lineStart:hk,lineEnd:aF,polygonStart:aF,polygonEnd:aF};function hk(){var hJ,hK,e;fL.point=function(hN,hM){hJ=hN*K,hK=Math.sin(hM*=K),e=Math.cos(hM);fL.point=hL};fL.lineEnd=function(){fL.point=fL.lineEnd=aF};function hL(hN,hM){var hQ=Math.sin(hM*=K),hR=Math.cos(hM),hO=Math.abs((hN*=K)-hJ),hP=Math.cos(hO);dK+=Math.atan2(Math.sqrt((hO=hR*Math.sin(hO))*hO+(hO=e*hQ-hK*hR*hP)*hO),hK*hQ+e*hR*hP);hJ=hN,hK=hQ,e=hR}}function el(hK,hJ){function e(hM,hL){var hP=Math.cos(hM),hO=Math.cos(hL),hN=hK(hP*hO);return[hN*hO*Math.sin(hM),hN*Math.sin(hL)]}e.invert=function(hL,hQ){var hO=Math.sqrt(hL*hL+hQ*hQ),hP=hJ(hO),hM=Math.sin(hP),hN=Math.cos(hP);return[Math.atan2(hL*hM,hO*hN),Math.asin(hO&&hQ*hM/hO)]};return e}var bn=el(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(gX.geo.azimuthalEqualArea=function(){return fp(bn)}).raw=bn;var bB=el(function(e){var hJ=Math.acos(e);return hJ&&hJ/Math.sin(hJ)},f5);(gX.geo.azimuthalEquidistant=function(){return fp(bB)}).raw=bB;function fy(hK,hJ){var e=Math.cos(hK),hM=function(hP){return Math.tan(fZ/4+hP/2)},hO=hK===hJ?Math.sin(hK):Math.log(e/Math.cos(hJ))/Math.log(hM(hJ)/hM(hK)),hN=e*Math.pow(hM(hK),hO)/hO;if(!hO){return aS}function hL(hQ,hP){var hR=Math.abs(Math.abs(hP)-fZ/2)<f7?0:hN/Math.pow(hM(hP),hO);return[hR*Math.sin(hO*hQ),hN-hR*Math.cos(hO*hQ)]}hL.invert=function(hP,hS){var hR=hN-hS,hQ=b1(hO)*Math.sqrt(hP*hP+hR*hR);return[Math.atan2(hP,hR)/hO,2*Math.atan(Math.pow(hN/hQ,1/hO))-fZ/2]};return hL}(gX.geo.conicConformal=function(){return bY(fy)}).raw=fy;function ha(hK,hJ){var e=Math.cos(hK),hN=hK===hJ?Math.sin(hK):(e-Math.cos(hJ))/(hJ-hK),hM=e/hN+hK;if(Math.abs(hN)<f7){return br}function hL(hP,hO){var hQ=hM-hO;return[hQ*Math.sin(hN*hP),hM-hQ*Math.cos(hN*hP)]}hL.invert=function(hO,hQ){var hP=hM-hQ;return[Math.atan2(hO,hP)/hN,hM-b1(hN)*Math.sqrt(hO*hO+hP*hP)]};return hL}(gX.geo.conicEquidistant=function(){return bY(ha)}).raw=ha;var es=el(function(e){return 1/e},Math.atan);(gX.geo.gnomonic=function(){return fp(es)}).raw=es;function aS(hJ,e){return[hJ,Math.log(Math.tan(fZ/4+e/2))]}aS.invert=function(e,hJ){return[e,2*Math.atan(Math.exp(hJ))-fZ/2]};function cX(hN){var e=fp(hN),hM=e.scale,hL=e.translate,hJ=e.clipExtent,hK;e.scale=function(){var hO=hM.apply(e,arguments);return hO===e?hK?e.clipExtent(null):e:hO};e.translate=function(){var hO=hL.apply(e,arguments);return hO===e?hK?e.clipExtent(null):e:hO};e.clipExtent=function(hQ){var hP=hJ.apply(e,arguments);if(hP===e){if(hK=hQ==null){var hO=fZ*hM(),hR=hL();hJ([[hR[0]-hO,hR[1]-hO],[hR[0]+hO,hR[1]+hO]])}}else{if(hK){hP=null}}return hP};return e.clipExtent(null)}(gX.geo.mercator=function(){return cX(aS)}).raw=aS;var fN=el(function(){return 1},Math.asin);(gX.geo.orthographic=function(){return fp(fN)}).raw=fN;var b4=el(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(gX.geo.stereographic=function(){return fp(b4)}).raw=b4;function ak(hJ,e){var hK=Math.cos(e)*Math.sin(hJ);return[Math.log((1+hK)/(1-hK))/2,Math.atan2(Math.tan(e),Math.cos(hJ))]}ak.invert=function(e,hJ){return[Math.atan2(dM(e),Math.cos(hJ)),b6(Math.sin(hJ)/bw(e))]};(gX.geo.transverseMercator=function(){return cX(ak)}).raw=ak;gX.geom={};gX.svg={};function eZ(hJ){var e=gA,hP=gy,hO=aj,hL=hr,hN=hL.key,hM=0.7;function hK(hT){var hV=[],hY=[],hU=-1,hQ=hT.length,hX,hS=T(e),hR=T(hP);function hW(){hV.push("M",hL(hJ(hY),hM))}while(++hU<hQ){if(hO.call(this,hX=hT[hU],hU)){hY.push([+hS.call(this,hX,hU),+hR.call(this,hX,hU)])}else{if(hY.length){hW();hY=[]}}}if(hY.length){hW()}return hV.length?hV.join(""):null}hK.x=function(hQ){if(!arguments.length){return e}e=hQ;return hK};hK.y=function(hQ){if(!arguments.length){return hP}hP=hQ;return hK};hK.defined=function(hQ){if(!arguments.length){return hO}hO=hQ;return hK};hK.interpolate=function(hQ){if(!arguments.length){return hN}if(typeof hQ==="function"){hN=hL=hQ}else{hN=(hL=b5.get(hQ)||hr).key}return hK};hK.tension=function(hQ){if(!arguments.length){return hM}hM=hQ;return hK};return hK}gX.svg.line=function(){return eZ(f5)};function gA(e){return e[0]}function gy(e){return e[1]}var b5=gX.map({linear:hr,"linear-closed":ab,step:c1,"step-before":bh,"step-after":g8,basis:e3,"basis-open":be,"basis-closed":cF,bundle:cI,cardinal:dJ,"cardinal-open":bU,"cardinal-closed":r,monotone:c9});b5.forEach(function(e,hJ){hJ.key=e;hJ.closed=/-closed$/.test(e)});function hr(e){return e.join("L")}function ab(e){return hr(e)+"Z"}function c1(hJ){var e=0,hM=hJ.length,hL=hJ[0],hK=[hL[0],",",hL[1]];while(++e<hM){hK.push("H",(hL[0]+(hL=hJ[e])[0])/2,"V",hL[1])}if(hM>1){hK.push("H",hL[0])}return hK.join("")}function bh(hJ){var e=0,hM=hJ.length,hL=hJ[0],hK=[hL[0],",",hL[1]];while(++e<hM){hK.push("V",(hL=hJ[e])[1],"H",hL[0])}return hK.join("")}function g8(hJ){var e=0,hM=hJ.length,hL=hJ[0],hK=[hL[0],",",hL[1]];while(++e<hM){hK.push("H",(hL=hJ[e])[0],"V",hL[1])}return hK.join("")}function bU(hJ,e){return hJ.length<4?hr(hJ):hJ[1]+cQ(hJ.slice(1,hJ.length-1),bO(hJ,e))}function r(hJ,e){return hJ.length<3?hr(hJ):hJ[0]+cQ((hJ.push(hJ[0]),hJ),bO([hJ[hJ.length-2]].concat(hJ,[hJ[1]]),e))}function dJ(hJ,e){return hJ.length<3?hr(hJ):hJ[0]+cQ(hJ,bO(hJ,e))}function cQ(hO,hN){if(hN.length<1||hO.length!=hN.length&&hO.length!=hN.length+2){return hr(hO)}var hP=hO.length!=hN.length,hS="",hQ=hO[0],e=hO[1],hM=hN[0],hR=hM,hK=1;if(hP){hS+="Q"+(e[0]-hM[0]*2/3)+","+(e[1]-hM[1]*2/3)+","+e[0]+","+e[1];hQ=hO[1];hK=2}if(hN.length>1){hR=hN[1];e=hO[hK];hK++;hS+="C"+(hQ[0]+hM[0])+","+(hQ[1]+hM[1])+","+(e[0]-hR[0])+","+(e[1]-hR[1])+","+e[0]+","+e[1];for(var hJ=2;hJ<hN.length;hJ++,hK++){e=hO[hK];hR=hN[hJ];hS+="S"+(e[0]-hR[0])+","+(e[1]-hR[1])+","+e[0]+","+e[1]}}if(hP){var hL=hO[hK];hS+="Q"+(e[0]+hR[0]*2/3)+","+(e[1]+hR[1]*2/3)+","+hL[0]+","+hL[1]}return hS}function bO(hO,hM){var hK=[],hL=(1-hM)/2,hQ,hP=hO[0],hN=hO[1],hJ=1,e=hO.length;while(++hJ<e){hQ=hP;hP=hN;hN=hO[hJ];hK.push([hL*(hN[0]-hQ[0]),hL*(hN[1]-hQ[1])])}return hK}function e3(hP){if(hP.length<3){return hr(hP)}var hK=1,hJ=hP.length,hL=hP[0],e=hL[0],hN=hL[1],hO=[e,e,e,(hL=hP[1])[0]],hM=[hN,hN,hN,hL[1]],hQ=[e,",",hN,"L",f8(gY,hO),",",f8(gY,hM)];hP.push(hP[hJ-1]);while(++hK<=hJ){hL=hP[hK];hO.shift();hO.push(hL[0]);hM.shift();hM.push(hL[1]);bH(hQ,hO,hM)}hP.pop();hQ.push("L",hL);return hQ.join("")}function be(hL){if(hL.length<4){return hr(hL)}var hN=[],hK=-1,hO=hL.length,hM,hJ=[0],e=[0];while(++hK<3){hM=hL[hK];hJ.push(hM[0]);e.push(hM[1])}hN.push(f8(gY,hJ)+","+f8(gY,e));--hK;while(++hK<hO){hM=hL[hK];hJ.shift();hJ.push(hM[0]);e.shift();e.push(hM[1]);bH(hN,hJ,e)}return hN.join("")}function cF(hM){var hO,hL=-1,hP=hM.length,e=hP+4,hN,hK=[],hJ=[];while(++hL<4){hN=hM[hL%hP];hK.push(hN[0]);hJ.push(hN[1])}hO=[f8(gY,hK),",",f8(gY,hJ)];--hL;while(++hL<e){hN=hM[hL%hP];hK.shift();hK.push(hN[0]);hJ.shift();hJ.push(hN[1]);bH(hO,hK,hJ)}return hO.join("")}function cI(hO,hN){var hK=hO.length-1;if(hK){var hJ=hO[0][0],hM=hO[0][1],hR=hO[hK][0]-hJ,hQ=hO[hK][1]-hM,hL=-1,e,hP;while(++hL<=hK){e=hO[hL];hP=hL/hK;e[0]=hN*e[0]+(1-hN)*(hJ+hP*hR);e[1]=hN*e[1]+(1-hN)*(hM+hP*hQ)}}return e3(hO)}function f8(hJ,e){return hJ[0]*e[0]+hJ[1]*e[1]+hJ[2]*e[2]+hJ[3]*e[3]}var g0=[0,2/3,1/3,0],gZ=[0,1/3,2/3,0],gY=[0,1/6,2/3,1/6];function bH(hJ,e,hK){hJ.push("C",f8(g0,e),",",f8(g0,hK),",",f8(gZ,e),",",f8(gZ,hK),",",f8(gY,e),",",f8(gY,hK))}function hA(hJ,e){return(e[1]-hJ[1])/(e[0]-hJ[0])}function dY(hL){var hK=0,hJ=hL.length-1,e=[],hO=hL[0],hN=hL[1],hM=e[0]=hA(hO,hN);while(++hK<hJ){e[hK]=(hM+(hM=hA(hO=hN,hN=hL[hK+1])))/2}e[hK]=hM;return e}function au(hP){var hM=[],hL,hO,hN,hQ,e=dY(hP),hK=-1,hJ=hP.length-1;while(++hK<hJ){hL=hA(hP[hK],hP[hK+1]);if(Math.abs(hL)<0.000001){e[hK]=e[hK+1]=0}else{hO=e[hK]/hL;hN=e[hK+1]/hL;hQ=hO*hO+hN*hN;if(hQ>9){hQ=hL*3/Math.sqrt(hQ);e[hK]=hQ*hO;e[hK+1]=hQ*hN}}}hK=-1;while(++hK<=hJ){hQ=(hP[Math.min(hJ,hK+1)][0]-hP[Math.max(0,hK-1)][0])/(6*(1+e[hK]*e[hK]));hM.push([hQ||0,e[hK]*hQ||0])}return hM}function c9(e){return e.length<3?hr(e):e[0]+cQ(e,au(e))}gX.geom.hull=function(hJ){var e=gA,hL=gy;if(arguments.length){return hK(hJ)}function hK(h6){if(h6.length<3){return[]}var hP=T(e),hO=T(hL),hW=h6.length,hR,hT=hW-1,hZ=[],hS=[],h4,h0,hX,h1=0,h3,hN,h2,hM,hV,hU,h5,hY;if(hP===gA&&hL===gy){hR=h6}else{for(h0=0,hR=[];h0<hW;++h0){hR.push([+hP.call(this,h4=h6[h0],h0),+hO.call(this,h4,h0)])}}for(h0=1;h0<hW;++h0){if(hR[h0][1]<hR[h1][1]||hR[h0][1]==hR[h1][1]&&hR[h0][0]<hR[h1][0]){h1=h0}}for(h0=0;h0<hW;++h0){if(h0===h1){continue}hN=hR[h0][1]-hR[h1][1];h3=hR[h0][0]-hR[h1][0];hZ.push({angle:Math.atan2(hN,h3),index:h0})}hZ.sort(function(h8,h7){return h8.angle-h7.angle});h5=hZ[0].angle;hU=hZ[0].index;hV=0;for(h0=1;h0<hT;++h0){hX=hZ[h0].index;if(h5==hZ[h0].angle){h3=hR[hU][0]-hR[h1][0];hN=hR[hU][1]-hR[h1][1];h2=hR[hX][0]-hR[h1][0];hM=hR[hX][1]-hR[h1][1];if(h3*h3+hN*hN>=h2*h2+hM*hM){hZ[h0].index=-1;continue}else{hZ[hV].index=-1}}h5=hZ[h0].angle;hV=h0;hU=hX}hS.push(h1);for(h0=0,hX=0;h0<2;++hX){if(hZ[hX].index>-1){hS.push(hZ[hX].index);h0++}}hY=hS.length;for(;hX<hT;++hX){if(hZ[hX].index<0){continue}while(!dw(hS[hY-2],hS[hY-1],hZ[hX].index,hR)){--hY}hS[hY++]=hZ[hX].index}var hQ=[];for(h0=hY-1;h0>=0;--h0){hQ.push(h6[hS[h0]])}return hQ}hK.x=function(hM){return arguments.length?(e=hM,hK):e};hK.y=function(hM){return arguments.length?(hL=hM,hK):hL};return hK};function dw(hL,hK,hJ,hS){var hT,hR,hQ,hP,hO,hN,hM;hT=hS[hL];hR=hT[0];hQ=hT[1];hT=hS[hK];hP=hT[0];hO=hT[1];hT=hS[hJ];hN=hT[0];hM=hT[1];return(hM-hQ)*(hP-hR)-(hO-hQ)*(hN-hR)>0}gX.geom.polygon=function(e){hC(e,eg);return e};var eg=gX.geom.polygon.prototype=[];eg.area=function(){var hK=-1,hM=this.length,hJ,e=this[hM-1],hL=0;while(++hK<hM){hJ=e;e=this[hK];hL+=hJ[1]*e[0]-hJ[0]*e[1]}return hL*0.5};eg.centroid=function(hL){var hM=-1,hP=this.length,hJ=0,hO=0,hK,e=this[hP-1],hN;if(!arguments.length){hL=-1/(6*this.area())}while(++hM<hP){hK=e;e=this[hM];hN=hK[0]*e[1]-e[0]*hK[1];hJ+=(hK[0]+e[0])*hN;hO+=(hK[1]+e[1])*hN}return[hJ*hL,hO*hL]};eg.clip=function(hP){var hR,hM=gz(hP),hL=-1,e=this.length-gz(this),hK,hJ,hS=this[e-1],hQ,hO,hN;while(++hL<e){hR=hP.slice();hP.length=0;hQ=this[hL];hO=hR[(hJ=hR.length-hM)-1];hK=-1;while(++hK<hJ){hN=hR[hK];if(E(hN,hS,hQ)){if(!E(hO,hS,hQ)){hP.push(f6(hO,hN,hS,hQ))}hP.push(hN)}else{if(E(hO,hS,hQ)){hP.push(f6(hO,hN,hS,hQ))}}hO=hN}if(hM){hP.push(hP[0])}hS=hQ}return hP};function E(hK,hJ,e){return(e[0]-hJ[0])*(hK[1]-hJ[1])<(e[1]-hJ[1])*(hK[0]-hJ[0])}function f6(hO,hM,hS,hP){var hK=hO[0],e=hS[0],hL=hM[0]-hK,hT=hP[0]-e,hR=hO[1],hN=hS[1],hQ=hM[1]-hR,hU=hP[1]-hN,hJ=(hT*(hR-hN)-hU*(hK-e))/(hU*hL-hT*hQ);return[hK+hJ*hL,hR+hJ*hQ]}function gz(hK){var hJ=hK[0],e=hK[hK.length-1];return !(hJ[0]-e[0]||hJ[1]-e[1])}gX.geom.delaunay=function(hJ){var e=hJ.map(function(){return[]}),hK=[];bo(hJ,function(hL){e[hL.region.l.index].push(hJ[hL.region.r.index])});e.forEach(function(hQ,hP){var hN=hJ[hP],hM=hN[0],hR=hN[1];hQ.forEach(function(hS){hS.angle=Math.atan2(hS[0]-hM,hS[1]-hR)});hQ.sort(function(hT,hS){return hT.angle-hS.angle});for(var hO=0,hL=hQ.length-1;hO<hL;hO++){hK.push([hN,hQ[hO],hQ[hO+1]])}});return hK};gX.geom.voronoi=function(hJ){var e=gA,hM=gy,hK=null;if(arguments.length){return hL(hJ)}function hL(hR){var hV,hU=hR.map(function(){return[]}),hQ=T(e),hP=T(hM),hT,hS,hO=hR.length,hN=1000000;if(hQ===gA&&hP===gy){hV=hR}else{for(hV=new Array(hO),hS=0;hS<hO;++hS){hV[hS]=[+hQ.call(this,hT=hR[hS],hS),+hP.call(this,hT,hS)]}}bo(hV,function(hY){var h4,h3,hX,hW,h1,hZ;if(hY.a===1&&hY.b>=0){h4=hY.ep.r;h3=hY.ep.l}else{h4=hY.ep.l;h3=hY.ep.r}if(hY.a===1){h1=h4?h4.y:-hN;hX=hY.c-hY.b*h1;hZ=h3?h3.y:hN;hW=hY.c-hY.b*hZ}else{hX=h4?h4.x:-hN;h1=hY.c-hY.a*hX;hW=h3?h3.x:hN;hZ=hY.c-hY.a*hW}var h2=[hX,h1],h0=[hW,hZ];hU[hY.region.l.index].push(h2,h0);hU[hY.region.r.index].push(h2,h0)});hU=hU.map(function(hZ,hY){var hX=hV[hY][0],h1=hV[hY][1],h0=hZ.map(function(h2){return Math.atan2(h2[0]-hX,h2[1]-h1)}),hW=gX.range(hZ.length).sort(function(h3,h2){return h0[h3]-h0[h2]});return hW.filter(function(h3,h2){return !h2||h0[h3]-h0[hW[h2-1]]>f7}).map(function(h2){return hZ[h2]})});hU.forEach(function(h6,h0){var hZ=h6.length;if(!hZ){return h6.push([-hN,-hN],[-hN,hN],[hN,hN],[hN,-hN])}if(hZ>2){return}var ib=hV[h0],h9=h6[0],h8=h6[1],hY=ib[0],h7=ib[1],hX=h9[0],h5=h9[1],hW=h8[0],h3=h8[1],ic=Math.abs(hW-hX),ia=h3-h5;if(Math.abs(ia)<f7){var h2=h7<h5?-hN:hN;h6.push([-hN,h2],[hN,h2])}else{if(ic<f7){var h4=hY<hX?-hN:hN;h6.push([h4,-hN],[h4,hN])}else{var h2=(hW-hX)*(h5-h7)<(hX-hY)*(h3-h5)?hN:-hN,h1=Math.abs(ia)-ic;if(Math.abs(h1)<f7){h6.push([ia<0?h2:-h2,h2])}else{if(h1>0){h2*=-1}h6.push([-hN,h2],[hN,h2])}}}});if(hK){for(hS=0;hS<hO;++hS){hK.clip(hU[hS])}}for(hS=0;hS<hO;++hS){hU[hS].point=hR[hS]}return hU}hL.x=function(hN){return arguments.length?(e=hN,hL):e};hL.y=function(hN){return arguments.length?(hM=hN,hL):hM};hL.clipExtent=function(hP){if(!arguments.length){return hK&&[hK[0],hK[2]]}if(hP==null){hK=null}else{var hO=+hP[0][0],hR=+hP[0][1],hN=+hP[1][0],hQ=+hP[1][1];hK=gX.geom.polygon([[hO,hR],[hO,hQ],[hN,hQ],[hN,hR]])}return hL};hL.size=function(hN){if(!arguments.length){return hK&&hK[2]}return hL.clipExtent(hN&&[[0,0],hN])};hL.links=function(hQ){var hT,hU=hQ.map(function(){return[]}),hV=[],hP=T(e),hO=T(hM),hS,hR,hN=hQ.length;if(hP===gA&&hO===gy){hT=hQ}else{for(hT=new Array(hN),hR=0;hR<hN;++hR){hT[hR]=[+hP.call(this,hS=hQ[hR],hR),+hO.call(this,hS,hR)]}}bo(hT,function(hY){var hW=hY.region.l.index,hX=hY.region.r.index;if(hU[hW][hX]){return}hU[hW][hX]=hU[hX][hW]=true;hV.push({source:hQ[hW],target:hQ[hX]})});return hV};hL.triangles=function(hR){if(e===gA&&hM===gy){return gX.geom.delaunay(hR)}var hP=new Array(hT),hQ=T(e),hO=T(hM),hS,hN=-1,hT=hR.length;while(++hN<hT){(hP[hN]=[+hQ.call(this,hS=hR[hN],hN),+hO.call(this,hS,hN)]).data=hS}return gX.geom.delaunay(hP).map(function(hU){return hU.map(function(hV){return hV.data})})};return hL};var bX={l:"r",r:"l"};function bo(hV,hL){var h1={list:hV.map(function(e,h3){return{index:h3,x:e[0],y:e[1]}}).sort(function(h3,e){return h3.y<e.y?-1:h3.y>e.y?1:h3.x<e.x?-1:h3.x>e.x?1:0}),bottomSite:null};var hK={list:[],leftEnd:null,rightEnd:null,init:function(){hK.leftEnd=hK.createHalfEdge(null,"l");hK.rightEnd=hK.createHalfEdge(null,"l");hK.leftEnd.r=hK.rightEnd;hK.rightEnd.l=hK.leftEnd;hK.list.unshift(hK.leftEnd,hK.rightEnd)},createHalfEdge:function(h3,e){return{edge:h3,side:e,vertex:null,l:null,r:null}},insert:function(h3,e){e.l=h3;e.r=h3.r;h3.r.l=e;h3.r=e},leftBound:function(h3){var e=hK.leftEnd;do{e=e.r}while(e!=hK.rightEnd&&h0.rightOf(e,h3));e=e.l;return e},del:function(e){e.l.r=e.r;e.r.l=e.l;e.edge=null},right:function(e){return e.r},left:function(e){return e.l},leftRegion:function(e){return e.edge==null?h1.bottomSite:e.edge.region[e.side]},rightRegion:function(e){return e.edge==null?h1.bottomSite:e.edge.region[bX[e.side]]}};var h0={bisect:function(h6,h4){var h5={region:{l:h6,r:h4},ep:{l:null,r:null}};var h3=h4.x-h6.x,e=h4.y-h6.y,h8=h3>0?h3:-h3,h7=e>0?e:-e;h5.c=h6.x*h3+h6.y*e+(h3*h3+e*e)*0.5;if(h8>h7){h5.a=1;h5.b=e/h3;h5.c/=h3}else{h5.b=1;h5.a=h3/e;h5.c/=e}return h5},intersect:function(h6,h5){var ib=h6.edge,ia=h5.edge;if(!ib||!ia||ib.region.r==ia.region.r){return null}var h9=ib.a*ia.b-ib.b*ia.a;if(Math.abs(h9)<1e-10){return null}var h4=(ib.c*ia.b-ia.c*ib.b)/h9,ie=(ia.c*ib.a-ib.c*ia.a)/h9,id=ib.region.r,h8=ia.region.r,h3,h7;if(id.y<h8.y||id.y==h8.y&&id.x<h8.x){h3=h6;h7=ib}else{h3=h5;h7=ia}var ic=h4>=h7.region.r.x;if(ic&&h3.side==="l"||!ic&&h3.side==="r"){return null}return{x:h4,y:ie}},rightOf:function(h8,h3){var ic=h8.edge,h6=ic.region.r,ig=h3.x>h6.x;if(ig&&h8.side==="l"){return 1}if(!ig&&h8.side==="r"){return 0}if(ic.a===1){var ie=h3.y-h6.y,h4=h3.x-h6.x,h9=0,id=0;if(!ig&&ic.b<0||ig&&ic.b>=0){id=h9=ie>=ic.b*h4}else{id=h3.x+h3.y*ic.b>ic.c;if(ic.b<0){id=!id}if(!id){h9=1}}if(!h9){var ih=h6.x-ic.region.l.x;id=ic.b*(h4*h4-ie*ie)<ih*ie*(1+2*h4/ih+ic.b*ic.b);if(ic.b<0){id=!id}}}else{var h5=ic.c-ic.a*h3.x,ib=h3.y-h5,ia=h3.x-h6.x,h7=h5-h6.y;id=ib*ib>ia*ia+h7*h7}return h8.side==="l"?id:!id},endPoint:function(h4,h3,e){h4.ep[h3]=e;if(!h4.ep[bX[h3]]){return}hL(h4)},distance:function(h5,h4){var h3=h5.x-h4.x,e=h5.y-h4.y;return Math.sqrt(h3*h3+e*e)}};var hJ={list:[],insert:function(h7,h3,h8){h7.vertex=h3;h7.ystar=h3.y+h8;for(var h4=0,h6=hJ.list,e=h6.length;h4<e;h4++){var h5=h6[h4];if(h7.ystar>h5.ystar||h7.ystar==h5.ystar&&h3.x>h5.vertex.x){continue}else{break}}h6.splice(h4,0,h7)},del:function(h5){for(var h4=0,h3=hJ.list,e=h3.length;h4<e&&h3[h4]!=h5;++h4){}h3.splice(h4,1)},empty:function(){return hJ.list.length===0},nextEvent:function(h5){for(var h4=0,h3=hJ.list,e=h3.length;h4<e;++h4){if(h3[h4]==h5){return h3[h4+1]}}return null},min:function(){var e=hJ.list[0];return{x:e.vertex.x,y:e.ystar}},extractMin:function(){return hJ.list.shift()}};hK.init();h1.bottomSite=h1.list.shift();var h2=h1.list.shift(),hO;var hT,hQ,hM,hY,hN;var hR,hS,hZ,hU,hP;var hX,hW;while(true){if(!hJ.empty()){hO=hJ.min()}if(h2&&(hJ.empty()||h2.y<hO.y||h2.y==hO.y&&h2.x<hO.x)){hT=hK.leftBound(h2);hQ=hK.right(hT);hR=hK.rightRegion(hT);hX=h0.bisect(hR,h2);hN=hK.createHalfEdge(hX,"l");hK.insert(hT,hN);hU=h0.intersect(hT,hN);if(hU){hJ.del(hT);hJ.insert(hT,hU,h0.distance(hU,h2))}hT=hN;hN=hK.createHalfEdge(hX,"r");hK.insert(hT,hN);hU=h0.intersect(hN,hQ);if(hU){hJ.insert(hN,hU,h0.distance(hU,h2))}h2=h1.list.shift()}else{if(!hJ.empty()){hT=hJ.extractMin();hM=hK.left(hT);hQ=hK.right(hT);hY=hK.right(hQ);hR=hK.leftRegion(hT);hS=hK.rightRegion(hQ);hP=hT.vertex;h0.endPoint(hT.edge,hT.side,hP);h0.endPoint(hQ.edge,hQ.side,hP);hK.del(hT);hJ.del(hQ);hK.del(hQ);hW="l";if(hR.y>hS.y){hZ=hR;hR=hS;hS=hZ;hW="r"}hX=h0.bisect(hR,hS);hN=hK.createHalfEdge(hX,hW);hK.insert(hM,hN);h0.endPoint(hX,bX[hW],hP);hU=h0.intersect(hM,hN);if(hU){hJ.del(hM);hJ.insert(hM,hU,h0.distance(hU,hR))}hU=h0.intersect(hN,hY);if(hU){hJ.insert(hN,hU,h0.distance(hU,hR))}}else{break}}}for(hT=hK.right(hK.leftEnd);hT!=hK.rightEnd;hT=hK.right(hT)){hL(hT.edge)}}gX.geom.quadtree=function(hP,hJ,hN,e,hM){var hO=gA,hL=gy,hQ;if(hQ=arguments.length){hO=fR;hL=fQ;if(hQ===3){hM=hN;e=hJ;hN=hJ=0}return hK(hP)}function hK(h9){var h6,hV=T(hO),hT=T(hL),hX,h3,h4,h1,hR,h0,hW,h8;if(hJ!=null){hR=hJ,h0=hN,hW=e,h8=hM}else{hW=h8=-(hR=h0=Infinity);hX=[],h3=[];h1=h9.length;if(hQ){for(h4=0;h4<h1;++h4){h6=h9[h4];if(h6.x<hR){hR=h6.x}if(h6.y<h0){h0=h6.y}if(h6.x>hW){hW=h6.x}if(h6.y>h8){h8=h6.y}hX.push(h6.x);h3.push(h6.y)}}else{for(h4=0;h4<h1;++h4){var h5=+hV(h6=h9[h4],h4),hU=+hT(h6,h4);if(h5<hR){hR=h5}if(hU<h0){h0=hU}if(h5>hW){hW=h5}if(hU>h8){h8=hU}hX.push(h5);h3.push(hU)}}}var hZ=hW-hR,hY=h8-h0;if(hZ>hY){h8=h0+hZ}else{hW=hR+hY}function hS(ic,ih,il,ii,ib,ik,ia,ij){if(isNaN(il)||isNaN(ii)){return}if(ic.leaf){var ig=ic.x,ie=ic.y;if(ig!=null){if(Math.abs(ig-il)+Math.abs(ie-ii)<0.01){h7(ic,ih,il,ii,ib,ik,ia,ij)}else{var id=ic.point;ic.x=ic.y=ic.point=null;h7(ic,id,ig,ie,ib,ik,ia,ij);h7(ic,ih,il,ii,ib,ik,ia,ij)}}else{ic.x=il,ic.y=ii,ic.point=ih}}else{h7(ic,ih,il,ii,ib,ik,ia,ij)}}function h7(id,ig,im,ii,ic,il,ib,ij){var ik=(ic+ib)*0.5,ih=(il+ij)*0.5,io=im>=ik,ia=ii>=ih,ie=(ia<<1)+io;id.leaf=false;id=id.nodes[ie]||(id.nodes[ie]=fw());if(io){ic=ik}else{ib=ik}if(ia){il=ih}else{ij=ih}hS(id,ig,im,ii,ic,il,ib,ij)}var h2=fw();h2.add=function(ia){hS(h2,ia,+hV(ia,++h4),+hT(ia,h4),hR,h0,hW,h8)};h2.visit=function(ia){cE(ia,h2,hR,h0,hW,h8)};h4=-1;if(hJ==null){while(++h4<h1){hS(h2,h9[h4],hX[h4],h3[h4],hR,h0,hW,h8)}--h4}else{h9.forEach(h2.add)}hX=h3=h9=h6=null;return h2}hK.x=function(hR){return arguments.length?(hO=hR,hK):hO};hK.y=function(hR){return arguments.length?(hL=hR,hK):hL};hK.extent=function(hR){if(!arguments.length){return hJ==null?null:[[hJ,hN],[e,hM]]}if(hR==null){hJ=hN=e=hM=null}else{hJ=+hR[0][0],hN=+hR[0][1],e=+hR[1][0],hM=+hR[1][1]}return hK};hK.size=function(hR){if(!arguments.length){return hJ==null?null:[e-hJ,hM-hN]}if(hR==null){hJ=hN=e=hM=null}else{hJ=hN=0,e=+hR[0],hM=+hR[1]}return hK};return hK};function fR(e){return e.x}function fQ(e){return e.y}function fw(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function cE(hM,hL,hJ,hQ,e,hO){if(!hM(hL,hJ,hQ,e,hO)){var hP=(hJ+e)*0.5,hN=(hQ+hO)*0.5,hK=hL.nodes;if(hK[0]){cE(hM,hK[0],hJ,hQ,hP,hN)}if(hK[1]){cE(hM,hK[1],hP,hQ,e,hN)}if(hK[2]){cE(hM,hK[2],hJ,hN,hP,hO)}if(hK[3]){cE(hM,hK[3],hP,hN,e,hO)}}}gX.interpolateRgb=aN;function aN(hJ,e){hJ=gX.rgb(hJ);e=gX.rgb(e);var hL=hJ.r,hK=hJ.g,hO=hJ.b,hN=e.r-hL,hM=e.g-hK,hP=e.b-hO;return function(hQ){return"#"+co(Math.round(hL+hN*hQ))+co(Math.round(hK+hM*hQ))+co(Math.round(hO+hP*hQ))}}gX.interpolateObject=bE;function bE(hJ,e){var hL={},hM={},hK;for(hK in hJ){if(hK in e){hL[hK]=fr(hJ[hK],e[hK])}else{hM[hK]=hJ[hK]}}for(hK in e){if(!(hK in hJ)){hM[hK]=e[hK]}}return function(hN){for(hK in hL){hM[hK]=hL[hK](hN)}return hM}}gX.interpolateNumber=by;function by(hJ,e){e-=hJ=+hJ;return function(hK){return hJ+e*hK}}gX.interpolateString=bR;function bR(hP,hO){var hL,hN,hM,hR=0,hQ=0,hS=[],e=[],hK,hJ;hP=hP+"",hO=hO+"";fG.lastIndex=0;for(hN=0;hL=fG.exec(hO);++hN){if(hL.index){hS.push(hO.substring(hR,hQ=hL.index))}e.push({i:hS.length,x:hL[0]});hS.push(null);hR=fG.lastIndex}if(hR<hO.length){hS.push(hO.substring(hR))}for(hN=0,hK=e.length;(hL=fG.exec(hP))&&hN<hK;++hN){hJ=e[hN];if(hJ.x==hL[0]){if(hJ.i){if(hS[hJ.i+1]==null){hS[hJ.i-1]+=hJ.x;hS.splice(hJ.i,1);for(hM=hN+1;hM<hK;++hM){e[hM].i--}}else{hS[hJ.i-1]+=hJ.x+hS[hJ.i+1];hS.splice(hJ.i,2);for(hM=hN+1;hM<hK;++hM){e[hM].i-=2}}}else{if(hS[hJ.i+1]==null){hS[hJ.i]=hJ.x}else{hS[hJ.i]=hJ.x+hS[hJ.i+1];hS.splice(hJ.i+1,1);for(hM=hN+1;hM<hK;++hM){e[hM].i--}}}e.splice(hN,1);hK--;hN--}else{hJ.x=by(parseFloat(hL[0]),parseFloat(hJ.x))}}while(hN<hK){hJ=e.pop();if(hS[hJ.i+1]==null){hS[hJ.i]=hJ.x}else{hS[hJ.i]=hJ.x+hS[hJ.i+1];hS.splice(hJ.i+1,1)}hK--}if(hS.length===1){return hS[0]==null?(hJ=e[0].x,function(hT){return hJ(hT)+""}):function(){return hO}}return function(hT){for(hN=0;hN<hK;++hN){hS[(hJ=e[hN]).i]=hJ.x(hT)}return hS.join("")}}var fG=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;gX.interpolate=fr;function fr(hJ,e){var hK=gX.interpolators.length,hL;while(--hK>=0&&!(hL=gX.interpolators[hK](hJ,e))){}return hL}gX.interpolators=[function(hJ,e){var hK=typeof e;return(hK==="string"?am.has(e)||/^(#|rgb\(|hsl\()/.test(e)?aN:bR:e instanceof H?aN:hK==="object"?Array.isArray(e)?ez:bE:by)(hJ,e)}];gX.interpolateArray=ez;function ez(hM,hK){var hJ=[],hP=[],hL=hM.length,e=hK.length,hO=Math.min(hM.length,hK.length),hN;for(hN=0;hN<hO;++hN){hJ.push(fr(hM[hN],hK[hN]))}for(;hN<hL;++hN){hP[hN]=hM[hN]}for(;hN<e;++hN){hP[hN]=hK[hN]}return function(hQ){for(hN=0;hN<hO;++hN){hP[hN]=hJ[hN](hQ)}return hP}}var gV=function(){return f5};var ad=gX.map({linear:gV,poly:aR,quad:function(){return bP},cubic:function(){return J},sin:function(){return fY},exp:function(){return fi},circle:function(){return dV},elastic:Y,back:gF,bounce:function(){return cc}});var i=gX.map({"in":f5,out:D,"in-out":aZ,"out-in":function(e){return aZ(D(e))}});gX.ease=function(hJ){var hL=hJ.indexOf("-"),hK=hL>=0?hJ.substring(0,hL):hJ,e=hL>=0?hJ.substring(hL+1):"in";hK=ad.get(hK)||gV;e=i.get(e)||f5;return fo(e(hK.apply(null,Array.prototype.slice.call(arguments,1))))};function fo(e){return function(hJ){return hJ<=0?0:hJ>=1?1:e(hJ)}}function D(e){return function(hJ){return 1-e(1-hJ)}}function aZ(e){return function(hJ){return 0.5*(hJ<0.5?e(2*hJ):2-e(2-2*hJ))}}function bP(e){return e*e}function J(e){return e*e*e}function av(hJ){if(hJ<=0){return 0}if(hJ>=1){return 1}var hK=hJ*hJ,e=hK*hJ;return 4*(hJ<0.5?e:3*(hJ-hK)+e-0.75)}function aR(hJ){return function(e){return Math.pow(e,hJ)}}function fY(e){return 1-Math.cos(e*fZ/2)}function fi(e){return Math.pow(2,10*(e-1))}function dV(e){return 1-Math.sqrt(1-e*e)}function Y(e,hK){var hJ;if(arguments.length<2){hK=0.45}if(arguments.length){hJ=hK/(2*fZ)*Math.asin(1/e)}else{e=1,hJ=hK/4}return function(hL){return 1+e*Math.pow(2,10*-hL)*Math.sin((hL-hJ)*2*fZ/hK)}}function gF(e){if(!e){e=1.70158}return function(hJ){return hJ*hJ*((e+1)*hJ-e)}}function cc(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+0.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+0.9375:7.5625*(e-=2.625/2.75)*e+0.984375}gX.interpolateHcl=gw;function gw(hK,e){hK=gX.hcl(hK);e=gX.hcl(e);var hJ=hK.h,hM=hK.c,hO=hK.l,hL=e.h-hJ,hN=e.c-hM,hP=e.l-hO;if(isNaN(hN)){hN=0,hM=isNaN(hM)?e.c:hM}if(isNaN(hL)){hL=0,hJ=isNaN(hJ)?e.h:hJ}else{if(hL>180){hL-=360}else{if(hL<-180){hL+=360}}}return function(hQ){return bv(hJ+hL*hQ,hM+hN*hQ,hO+hP*hQ)+""}}gX.interpolateHsl=a0;function a0(hL,e){hL=gX.hsl(hL);e=gX.hsl(e);var hK=hL.h,hJ=hL.s,hO=hL.l,hN=e.h-hK,hM=e.s-hJ,hP=e.l-hO;if(isNaN(hM)){hM=0,hJ=isNaN(hJ)?e.s:hJ}if(isNaN(hN)){hN=0,hK=isNaN(hK)?e.h:hK}else{if(hN>180){hN-=360}else{if(hN<-180){hN+=360}}}return function(hQ){return bc(hK+hN*hQ,hJ+hM*hQ,hO+hP*hQ)+""}}gX.interpolateLab=g7;function g7(hJ,e){hJ=gX.lab(hJ);e=gX.lab(e);var hM=hJ.l,hL=hJ.a,hK=hJ.b,hP=e.l-hM,hO=e.a-hL,hN=e.b-hK;return function(hQ){return aA(hM+hP*hQ,hL+hO*hQ,hK+hN*hQ)+""}}gX.interpolateRound=fm;function fm(hJ,e){e-=hJ;return function(hK){return Math.round(hJ+e*hK)}}gX.transform=function(e){var hJ=bF.createElementNS(gX.ns.prefix.svg,"g");return(gX.transform=function(hK){if(hK!=null){hJ.setAttribute("transform",hK);var hL=hJ.transform.baseVal.consolidate()}return new n(hL?hL.matrix:fV)})(e)};function n(e){var hL=[e.a,e.b],hJ=[e.c,e.d],hN=fd(hL),hK=eI(hL,hJ),hM=fd(bK(hJ,hL,-hK))||0;if(hL[0]*hJ[1]<hJ[0]*hL[1]){hL[0]*=-1;hL[1]*=-1;hN*=-1;hK*=-1}this.rotate=(hN?Math.atan2(hL[1],hL[0]):Math.atan2(-hJ[0],hJ[1]))*hc;this.translate=[e.e,e.f];this.scale=[hN,hM];this.skew=hM?Math.atan2(hK,hM)*hc:0}n.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function eI(hJ,e){return hJ[0]*e[0]+hJ[1]*e[1]}function fd(e){var hJ=Math.sqrt(eI(e,e));if(hJ){e[0]/=hJ;e[1]/=hJ}return hJ}function bK(hJ,e,hK){hJ[0]+=hK*e[0];hJ[1]+=hK*e[1];return hJ}var fV={a:1,b:0,c:0,d:1,e:0,f:0};gX.interpolateTransform=d8;function d8(hV,hU){var hW=[],hJ=[],hN,hM=gX.transform(hV),hL=gX.transform(hU),hR=hM.translate,hQ=hL.translate,hK=hM.rotate,e=hL.rotate,hP=hM.skew,hO=hL.skew,hT=hM.scale,hS=hL.scale;if(hR[0]!=hQ[0]||hR[1]!=hQ[1]){hW.push("translate(",null,",",null,")");hJ.push({i:1,x:by(hR[0],hQ[0])},{i:3,x:by(hR[1],hQ[1])})}else{if(hQ[0]||hQ[1]){hW.push("translate("+hQ+")")}else{hW.push("")}}if(hK!=e){if(hK-e>180){e+=360}else{if(e-hK>180){hK+=360}}hJ.push({i:hW.push(hW.pop()+"rotate(",null,")")-2,x:by(hK,e)})}else{if(e){hW.push(hW.pop()+"rotate("+e+")")}}if(hP!=hO){hJ.push({i:hW.push(hW.pop()+"skewX(",null,")")-2,x:by(hP,hO)})}else{if(hO){hW.push(hW.pop()+"skewX("+hO+")")}}if(hT[0]!=hS[0]||hT[1]!=hS[1]){hN=hW.push(hW.pop()+"scale(",null,",",null,")");hJ.push({i:hN-4,x:by(hT[0],hS[0])},{i:hN-2,x:by(hT[1],hS[1])})}else{if(hS[0]!=1||hS[1]!=1){hW.push(hW.pop()+"scale("+hS+")")}}hN=hJ.length;return function(hY){var hX=-1,hZ;while(++hX<hN){hW[(hZ=hJ[hX]).i]=hZ.x(hY)}return hW.join("")}}function g5(hJ,e){e=e-(hJ=+hJ)?1/(e-hJ):0;return function(hK){return(hK-hJ)*e}}function ay(hJ,e){e=e-(hJ=+hJ)?1/(e-hJ):0;return function(hK){return Math.max(0,Math.min(1,(hK-hJ)*e))}}gX.layout={};gX.layout.bundle=function(){return function(e){var hK=[],hJ=-1,hL=e.length;while(++hJ<hL){hK.push(ew(e[hJ]))}return hK}};function ew(hL){var hN=hL.source,e=hL.target,hM=fz(hN,e),hK=[hN];while(hN!==hM){hN=hN.parent;hK.push(hN)}var hJ=hK.length;while(e!==hM){hK.splice(hJ,0,e);e=e.parent}return hK}function fc(hK){var hJ=[],e=hK.parent;while(e!=null){hJ.push(hK);hK=e;e=e.parent}hJ.push(hK);return hJ}function fz(hL,hJ){if(hL===hJ){return hL}var hK=fc(hL),e=fc(hJ),hM=hK.pop(),hN=e.pop(),hO=null;while(hM===hN){hO=hM;hM=hK.pop();hN=e.pop()}return hO}gX.layout.chord=function(){var hN={},hO,hL,hS,hK,hR=0,e,hJ,hM;function hQ(){var hX={},h0=[],h8=gX.range(hK),h4=[],hY,h6,hW,h1,hZ;hO=[];hL=[];hY=0,h1=-1;while(++h1<hK){h6=0,hZ=-1;while(++hZ<hK){h6+=hS[h1][hZ]}h0.push(h6);h4.push(gX.range(hK));hY+=h6}if(e){h8.sort(function(ia,h9){return e(h0[ia],h0[h9])})}if(hJ){h4.forEach(function(ia,h9){ia.sort(function(ic,ib){return hJ(hS[h9][ic],hS[h9][ib])})})}hY=(2*fZ-hR*hK)/hY;h6=0,h1=-1;while(++h1<hK){hW=h6,hZ=-1;while(++hZ<hK){var h5=h8[h1],h3=h4[h5][hZ],h7=hS[h5][h3],hV=h6,hU=h6+=h7*hY;hX[h5+"-"+h3]={index:h5,subindex:h3,startAngle:hV,endAngle:hU,value:h7}}hL[h5]={index:h5,startAngle:hW,endAngle:h6,value:(h6-hW)/hY};h6+=hR}h1=-1;while(++h1<hK){hZ=h1-1;while(++hZ<hK){var hT=hX[h1+"-"+hZ],h2=hX[hZ+"-"+h1];if(hT.value||h2.value){hO.push(hT.value<h2.value?{source:h2,target:hT}:{source:hT,target:h2})}}}if(hM){hP()}}function hP(){hO.sort(function(hU,hT){return hM((hU.source.value+hU.target.value)/2,(hT.source.value+hT.target.value)/2)})}hN.matrix=function(hT){if(!arguments.length){return hS}hK=(hS=hT)&&hS.length;hO=hL=null;return hN};hN.padding=function(hT){if(!arguments.length){return hR}hR=hT;hO=hL=null;return hN};hN.sortGroups=function(hT){if(!arguments.length){return e}e=hT;hO=hL=null;return hN};hN.sortSubgroups=function(hT){if(!arguments.length){return hJ}hJ=hT;hO=null;return hN};hN.sortChords=function(hT){if(!arguments.length){return hM}hM=hT;if(hO){hP()}return hN};hN.chords=function(){if(!hO){hQ()}return hO};hN.groups=function(){if(!hL){hQ()}return hL};return hN};gX.layout.force=function(){var hJ={},hW=gX.dispatch("start","tick","end"),hS=[1,1],hY,hM,hP=0.9,hZ=fF,hL=cl,hV=-30,hN=0.1,hQ=0.8,hU=[],hK=[],hO,e,hR;function hX(h0){return function(h3,h8,h7,h6){if(h3.point!==h0){var h5=h3.cx-h0.x,h2=h3.cy-h0.y,h1=1/Math.sqrt(h5*h5+h2*h2);if((h6-h8)*h1<hQ){var h4=h3.charge*h1*h1;h0.px-=h5*h4;h0.py-=h2*h4;return true}if(h3.point&&isFinite(h1)){var h4=h3.pointCharge*h1*h1;h0.px-=h5*h4;h0.py-=h2*h4}}return !h3.charge}}hJ.tick=function(){if((hM*=0.99)<0.005){hW.end({type:"end",alpha:hM=0});return true}var h2=hU.length,h3=hK.length,h0,h6,h1,ia,h9,h4,h5,h8,h7;for(h6=0;h6<h3;++h6){h1=hK[h6];ia=h1.source;h9=h1.target;h8=h9.x-ia.x;h7=h9.y-ia.y;if(h4=h8*h8+h7*h7){h4=hM*e[h6]*((h4=Math.sqrt(h4))-hO[h6])/h4;h8*=h4;h7*=h4;h9.x-=h8*(h5=ia.weight/(h9.weight+ia.weight));h9.y-=h7*h5;ia.x+=h8*(h5=1-h5);ia.y+=h7*h5}}if(h5=hM*hN){h8=hS[0]/2;h7=hS[1]/2;h6=-1;if(h5){while(++h6<h2){h1=hU[h6];h1.x+=(h8-h1.x)*h5;h1.y+=(h7-h1.y)*h5}}}if(hV){gj(h0=gX.geom.quadtree(hU),hM,hR);h6=-1;while(++h6<h2){if(!(h1=hU[h6]).fixed){h0.visit(hX(h1))}}}h6=-1;while(++h6<h2){h1=hU[h6];if(h1.fixed){h1.x=h1.px;h1.y=h1.py}else{h1.x-=(h1.px-(h1.px=h1.x))*hP;h1.y-=(h1.py-(h1.py=h1.y))*hP}}hW.tick({type:"tick",alpha:hM})};hJ.nodes=function(h0){if(!arguments.length){return hU}hU=h0;return hJ};hJ.links=function(h0){if(!arguments.length){return hK}hK=h0;return hJ};hJ.size=function(h0){if(!arguments.length){return hS}hS=h0;return hJ};hJ.linkDistance=function(h0){if(!arguments.length){return hZ}hZ=typeof h0==="function"?h0:+h0;return hJ};hJ.distance=hJ.linkDistance;hJ.linkStrength=function(h0){if(!arguments.length){return hL}hL=typeof h0==="function"?h0:+h0;return hJ};hJ.friction=function(h0){if(!arguments.length){return hP}hP=+h0;return hJ};hJ.charge=function(h0){if(!arguments.length){return hV}hV=typeof h0==="function"?h0:+h0;return hJ};hJ.gravity=function(h0){if(!arguments.length){return hN}hN=+h0;return hJ};hJ.theta=function(h0){if(!arguments.length){return hQ}hQ=+h0;return hJ};hJ.alpha=function(h0){if(!arguments.length){return hM}h0=+h0;if(hM){if(h0>0){hM=h0}else{hM=0}}else{if(h0>0){hW.start({type:"start",alpha:hM=h0});gX.timer(hJ.tick)}}return hJ};hJ.start=function(){var h4,h3,h1=hU.length,h2=hK.length,h7=hS[0],h6=hS[1],h9,h0;for(h4=0;h4<h1;++h4){(h0=hU[h4]).index=h4;h0.weight=0}for(h4=0;h4<h2;++h4){h0=hK[h4];if(typeof h0.source=="number"){h0.source=hU[h0.source]}if(typeof h0.target=="number"){h0.target=hU[h0.target]}++h0.source.weight;++h0.target.weight}for(h4=0;h4<h1;++h4){h0=hU[h4];if(isNaN(h0.x)){h0.x=h5("x",h7)}if(isNaN(h0.y)){h0.y=h5("y",h6)}if(isNaN(h0.px)){h0.px=h0.x}if(isNaN(h0.py)){h0.py=h0.y}}hO=[];if(typeof hZ==="function"){for(h4=0;h4<h2;++h4){hO[h4]=+hZ.call(this,hK[h4],h4)}}else{for(h4=0;h4<h2;++h4){hO[h4]=hZ}}e=[];if(typeof hL==="function"){for(h4=0;h4<h2;++h4){e[h4]=+hL.call(this,hK[h4],h4)}}else{for(h4=0;h4<h2;++h4){e[h4]=hL}}hR=[];if(typeof hV==="function"){for(h4=0;h4<h1;++h4){hR[h4]=+hV.call(this,hU[h4],h4)}}else{for(h4=0;h4<h1;++h4){hR[h4]=hV}}function h5(ig,ie){var id=h8(h4),ic=-1,ib=id.length,ia;while(++ic<ib){if(!isNaN(ia=id[ic][ig])){return ia}}return Math.random()*ie}function h8(){if(!h9){h9=[];for(h3=0;h3<h1;++h3){h9[h3]=[]}for(h3=0;h3<h2;++h3){var ia=hK[h3];h9[ia.source.index].push(ia.target);h9[ia.target.index].push(ia.source)}}return h9[h4]}return hJ.resume()};hJ.resume=function(){return hJ.alpha(0.1)};hJ.stop=function(){return hJ.alpha(0)};hJ.drag=function(){if(!hY){hY=gX.behavior.drag().origin(f5).on("dragstart.force",q).on("drag.force",hT).on("dragend.force",d4)}if(!arguments.length){return hY}this.on("mouseover.force",cp).on("mouseout.force",eb).call(hY)};function hT(h0){h0.px=gX.event.x,h0.py=gX.event.y;hJ.resume()}return gX.rebind(hJ,hW,"on")};function q(e){e.fixed|=2}function d4(e){e.fixed&=~6}function cp(e){e.fixed|=4;e.px=e.x,e.py=e.y}function eb(e){e.fixed&=~4}function gj(hR,hM,hQ){var hN=0,hK=0;hR.charge=0;if(!hR.leaf){var e=hR.nodes,hJ=e.length,hO=-1,hP;while(++hO<hJ){hP=e[hO];if(hP==null){continue}gj(hP,hM,hQ);hR.charge+=hP.charge;hN+=hP.charge*hP.cx;hK+=hP.charge*hP.cy}}if(hR.point){if(!hR.leaf){hR.point.x+=Math.random()-0.5;hR.point.y+=Math.random()-0.5}var hL=hM*hQ[hR.point.index];hR.charge+=hR.pointCharge=hL;hN+=hL*hR.point.x;hK+=hL*hR.point.y}hR.cx=hN/hR.charge;hR.cy=hK/hR.charge}var fF=20,cl=1;gX.layout.hierarchy=function(){var hK=dG,hJ=a4,hM=hj;function hL(hQ,hS,hO){var hV=hJ.call(e,hQ,hS);hQ.depth=hS;hO.push(hQ);if(hV&&(hP=hV.length)){var hT=-1,hP,hW=hQ.children=[],hX=0,hR=hS+1,hU;while(++hT<hP){hU=hL(hV[hT],hR,hO);hU.parent=hQ;hW.push(hU);hX+=hU.value}if(hK){hW.sort(hK)}if(hM){hQ.value=hX}}else{if(hM){hQ.value=+hM.call(e,hQ,hS)||0}}return hQ}function hN(hS,hT){var hR=hS.children,hO=0;if(hR&&(hU=hR.length)){var hQ=-1,hU,hP=hT+1;while(++hQ<hU){hO+=hN(hR[hQ],hP)}}else{if(hM){hO=+hM.call(e,hS,hT)||0}}if(hM){hS.value=hO}return hO}function e(hP){var hO=[];hL(hP,0,hO);return hO}e.sort=function(hO){if(!arguments.length){return hK}hK=hO;return e};e.children=function(hO){if(!arguments.length){return hJ}hJ=hO;return e};e.value=function(hO){if(!arguments.length){return hM}hM=hO;return e};e.revalue=function(hO){hN(hO,0);return hO};return e};function gc(hJ,e){gX.rebind(hJ,e,"sort","children","value");hJ.nodes=hJ;hJ.links=gf;return hJ}function a4(e){return e.children}function hj(e){return e.value}function dG(hJ,e){return e.value-hJ.value}function gf(e){return gX.merge(e.map(function(hJ){return(hJ.children||[]).map(function(hK){return{source:hJ,target:hK}})}))}gX.layout.partition=function(){var hK=gX.layout.hierarchy(),hL=[1,1];function e(hP,hT,hV,hU){var hN=hP.children;hP.x=hT;hP.y=hP.depth*hU;hP.dx=hV;hP.dy=hU;if(hN&&(hO=hN.length)){var hQ=-1,hO,hS,hR;hV=hP.value?hV/hP.value:0;while(++hQ<hO){e(hS=hN[hQ],hT,hR=hS.value*hV,hU);hT+=hR}}}function hM(hP){var hO=hP.children,hQ=0;if(hO&&(hR=hO.length)){var hN=-1,hR;while(++hN<hR){hQ=Math.max(hQ,hM(hO[hN]))}}return 1+hQ}function hJ(hP,hO){var hN=hK.call(this,hP,hO);e(hN[0],0,hL[0],hL[1]/hM(hN[0]));return hN}hJ.size=function(hN){if(!arguments.length){return hL}hL=hN;return hJ};return gc(hJ,hK)};gX.layout.pie=function(){var hM=Number,hL=W,hK=0,hJ=2*fZ;function e(hS){var hP=hS.map(function(hU,hT){return +hM.call(e,hU,hT)});var hN=+(typeof hK==="function"?hK.apply(this,arguments):hK);var hO=((typeof hJ==="function"?hJ.apply(this,arguments):hJ)-hN)/gX.sum(hP);var hQ=gX.range(hS.length);if(hL!=null){hQ.sort(hL===W?function(hU,hT){return hP[hT]-hP[hU]}:function(hU,hT){return hL(hS[hU],hS[hT])})}var hR=[];hQ.forEach(function(hT){var hU;hR[hT]={data:hS[hT],value:hU=hP[hT],startAngle:hN,endAngle:hN+=hU*hO}});return hR}e.value=function(hN){if(!arguments.length){return hM}hM=hN;return e};e.sort=function(hN){if(!arguments.length){return hL}hL=hN;return e};e.startAngle=function(hN){if(!arguments.length){return hK}hK=hN;return e};e.endAngle=function(hN){if(!arguments.length){return hJ}hJ=hN;return e};return e};var W={};gX.layout.stack=function(){var hL=f5,hK=bJ,hN=ft,hM=fu,hJ=an,hO=al;function e(hW,hY){var hX=hW.map(function(h1,h0){return hL.call(e,h1,h0)});var hZ=hX.map(function(h0){return h0.map(function(h1,h2){return[hJ.call(e,h1,h2),hO.call(e,h1,h2)]})});var hT=hK.call(e,hZ,hY);hX=gX.permute(hX,hT);hZ=gX.permute(hZ,hT);var hS=hN.call(e,hZ,hY);var hQ=hX.length,hR=hX[0].length,hV,hU,hP;for(hU=0;hU<hR;++hU){hM.call(e,hX[0][hU],hP=hS[hU],hZ[0][hU][1]);for(hV=1;hV<hQ;++hV){hM.call(e,hX[hV][hU],hP+=hZ[hV-1][hU][1],hZ[hV][hU][1])}}return hW}e.values=function(hP){if(!arguments.length){return hL}hL=hP;return e};e.order=function(hP){if(!arguments.length){return hK}hK=typeof hP==="function"?hP:a2.get(hP)||bJ;return e};e.offset=function(hP){if(!arguments.length){return hN}hN=typeof hP==="function"?hP:ai.get(hP)||ft;return e};e.x=function(hP){if(!arguments.length){return hJ}hJ=hP;return e};e.y=function(hP){if(!arguments.length){return hO}hO=hP;return e};e.out=function(hP){if(!arguments.length){return hM}hM=hP;return e};return e};function an(e){return e.x}function al(e){return e.y}function fu(hJ,e,hK){hJ.y0=e;hJ.y=hK}var a2=gX.map({"inside-out":function(hM){var hK=hM.length,hN,hL,hR=hM.map(bN),hO=hM.map(di),hP=gX.range(hK).sort(function(hU,hT){return hR[hU]-hR[hT]}),hQ=0,e=0,hS=[],hJ=[];for(hN=0;hN<hK;++hN){hL=hP[hN];if(hQ<e){hQ+=hO[hL];hS.push(hL)}else{e+=hO[hL];hJ.push(hL)}}return hJ.reverse().concat(hS)},reverse:function(e){return gX.range(e.length).reverse()},"default":bJ});var ai=gX.map({silhouette:function(hM){var hJ=hM.length,hK=hM[0].length,hO=[],hP=0,hN,hL,e,hQ=[];for(hL=0;hL<hK;++hL){for(hN=0,e=0;hN<hJ;hN++){e+=hM[hN][hL][1]}if(e>hP){hP=e}hO.push(e)}for(hL=0;hL<hK;++hL){hQ[hL]=(hP-hO[hL])/2}return hQ},wiggle:function(hO){var hJ=hO.length,hR=hO[0],hK=hR.length,hP,hN,hM,hU,hT,hQ,hV,e,hL,hS=[];hS[0]=e=hL=0;for(hN=1;hN<hK;++hN){for(hP=0,hU=0;hP<hJ;++hP){hU+=hO[hP][hN][1]}for(hP=0,hT=0,hV=hR[hN][0]-hR[hN-1][0];hP<hJ;++hP){for(hM=0,hQ=(hO[hP][hN][1]-hO[hP][hN-1][1])/(2*hV);hM<hP;++hM){hQ+=(hO[hM][hN][1]-hO[hM][hN-1][1])/hV}hT+=hQ*hO[hP][hN][1]}hS[hN]=e-=hU?hT/hU*hV:0;if(e<hL){hL=e}}for(hN=0;hN<hK;++hN){hS[hN]-=hL}return hS},expand:function(hN){var hP=hN.length,e=hN[0].length,hJ=1/hP,hL,hK,hO,hM=[];for(hK=0;hK<e;++hK){for(hL=0,hO=0;hL<hP;hL++){hO+=hN[hL][hK][1]}if(hO){for(hL=0;hL<hP;hL++){hN[hL][hK][1]/=hO}}else{for(hL=0;hL<hP;hL++){hN[hL][hK][1]=hJ}}}for(hK=0;hK<e;++hK){hM[hK]=0}return hM},zero:ft});function bJ(e){return gX.range(e.length)}function ft(hL){var hJ=-1,e=hL[0].length,hK=[];while(++hJ<e){hK[hJ]=0}return hK}function bN(hN){var hL=1,hK=0,hJ=hN[0][1],e,hM=hN.length;for(;hL<hM;++hL){if((e=hN[hL][1])>hJ){hK=hL;hJ=e}}return hK}function di(e){return e.reduce(fs,0)}function fs(e,hJ){return e+hJ[1]}gX.layout.histogram=function(){var hM=true,hJ=Number,e=bf,hK=g6;function hL(hQ,hR){var hW=[],hU=hQ.map(hJ,this),hS=e.call(this,hU,hR),hV=hK.call(this,hS,hU,hR),hX,hR=-1,hN=hU.length,hO=hV.length-1,hP=hM?1:1/hN,hT;while(++hR<hO){hX=hW[hR]=[];hX.dx=hV[hR+1]-(hX.x=hV[hR]);hX.y=0}if(hO>0){hR=-1;while(++hR<hN){hT=hU[hR];if(hT>=hS[0]&&hT<=hS[1]){hX=hW[gX.bisect(hV,hT,1,hO)-1];hX.y+=hP;hX.push(hQ[hR])}}}return hW}hL.value=function(hN){if(!arguments.length){return hJ}hJ=hN;return hL};hL.range=function(hN){if(!arguments.length){return e}e=T(hN);return hL};hL.bins=function(hN){if(!arguments.length){return hK}hK=typeof hN==="number"?function(hO){return g(hO,hN)}:T(hN);return hL};hL.frequency=function(hN){if(!arguments.length){return hM}hM=!!hN;return hL};return hL};function g6(hJ,e){return g(hJ,Math.ceil(Math.log(e.length)/Math.LN2+1))}function g(hL,hN){var hK=-1,hJ=+hL[0],e=(hL[1]-hJ)/hN,hM=[];while(++hK<=hN){hM[hK]=e*hK+hJ}return hM}function bf(e){return[gX.min(e),gX.max(e)]}gX.layout.tree=function(){var hK=gX.layout.hierarchy().sort(null).value(null),hM=dm,hL=[1,1],hJ=false;function e(hU,hS){var hO=hK.call(this,hU,hS),hW=hO[0];function hT(h4,h0){var h2=h4.children,h7=h4._tree;if(h2&&(h3=h2.length)){var h3,h9=h2[0],h8,h6=h9,h1,h5=-1;while(++h5<h3){h1=h2[h5];hT(h1,h8);h6=hN(h1,h8,h6);h8=h1}dq(h4);var ia=0.5*(h9._tree.prelim+h1._tree.prelim);if(h0){h7.prelim=h0._tree.prelim+hM(h4,h0);h7.mod=h7.prelim-ia}else{h7.prelim=ia}}else{if(h0){h7.prelim=h0._tree.prelim+hM(h4,h0)}}}function hV(h3,h0){h3.x=h3._tree.prelim+h0;var h2=h3.children;if(h2&&(h4=h2.length)){var h1=-1,h4;h0+=h3._tree.mod;while(++h1<h4){hV(h2[h1],h0)}}}function hN(h4,h0,h7){if(h0){var h3=h4,h2=h4,h6=h0,h5=h4.parent.children[0],h9=h3._tree.mod,h8=h2._tree.mod,ib=h6._tree.mod,ia=h5._tree.mod,h1;while(h6=az(h6),h3=hv(h3),h6&&h3){h5=hv(h5);h2=az(h2);h2._tree.ancestor=h4;h1=h6._tree.prelim+ib-h3._tree.prelim-h9+hM(h6,h3);if(h1>0){hx(fM(h6,h4,h7),h4,h1);h9+=h1;h8+=h1}ib+=h6._tree.mod;h9+=h3._tree.mod;ia+=h5._tree.mod;h8+=h2._tree.mod}if(h6&&!az(h2)){h2._tree.thread=h6;h2._tree.mod+=ib-h8}if(h3&&!hv(h5)){h5._tree.thread=h3;h5._tree.mod+=h9-ia;h7=h4}}return h7}hd(hW,function(h1,h0){h1._tree={ancestor:h1,prelim:0,mod:0,change:0,shift:0,number:h0?h0._tree.number+1:0}});hT(hW);hV(hW,-hW._tree.prelim);var hR=dS(hW,bz),hZ=dS(hW,cS),hY=dS(hW,F),hQ=hR.x-hM(hR,hZ)/2,hP=hZ.x+hM(hZ,hR)/2,hX=hY.depth||1;hd(hW,hJ?function(h0){h0.x*=hL[0];h0.y=h0.depth*hL[1];delete h0._tree}:function(h0){h0.x=(h0.x-hQ)/(hP-hQ)*hL[0];h0.y=h0.depth/hX*hL[1];delete h0._tree});return hO}e.separation=function(hN){if(!arguments.length){return hM}hM=hN;return e};e.size=function(hN){if(!arguments.length){return hJ?null:hL}hJ=(hL=hN)==null;return e};e.nodeSize=function(hN){if(!arguments.length){return hJ?hL:null}hJ=(hL=hN)!=null;return e};return gc(e,hK)};function dm(hJ,e){return hJ.parent==e.parent?1:2}function hv(hJ){var e=hJ.children;return e&&e.length?e[0]:hJ._tree.thread}function az(hJ){var e=hJ.children,hK;return e&&(hK=e.length)?e[hK-1]:hJ._tree.thread}function dS(hK,hL){var hJ=hK.children;if(hJ&&(hM=hJ.length)){var hN,hM,e=-1;while(++e<hM){if(hL(hN=dS(hJ[e],hL),hK)>0){hK=hN}}}return hK}function cS(hJ,e){return hJ.x-e.x}function bz(hJ,e){return e.x-hJ.x}function F(hJ,e){return hJ.depth-e.depth}function hd(hJ,hK){function e(hP,hO){var hN=hP.children;if(hN&&(hQ=hN.length)){var hR,hM=null,hL=-1,hQ;while(++hL<hQ){hR=hN[hL];e(hR,hM);hM=hR}}hK(hP,hO)}e(hJ,null)}function dq(hL){var e=0,hN=0,hK=hL.children,hJ=hK.length,hM;while(--hJ>=0){hM=hK[hJ]._tree;hM.prelim+=e;hM.mod+=e;e+=hM.shift+(hN+=hM.change)}}function hx(hJ,hK,e){hJ=hJ._tree;hK=hK._tree;var hL=e/(hK.number-hJ.number);hJ.change+=hL;hK.change-=hL;hK.shift+=e;hK.prelim+=e;hK.mod+=e}function fM(e,hK,hJ){return e._tree.ancestor.parent==hK.parent?e._tree.ancestor:hJ}gX.layout.pack=function(){var hJ=gX.layout.hierarchy().sort(en),hM=0,hL=[1,1],e;function hK(hU,hQ){var hP=hJ.call(this,hU,hQ),hO=hP[0],hN=hL[0],hR=hL[1],hS=e==null?Math.sqrt:typeof e==="function"?e:function(){return e};hO.x=hO.y=0;hd(hO,function(hV){hV.r=+hS(hV.value)});hd(hO,V);if(hM){var hT=hM*(e?1:Math.max(2*hO.r/hN,2*hO.r/hR))/2;hd(hO,function(hV){hV.r+=hT});hd(hO,V);hd(hO,function(hV){hV.r-=hT})}fb(hO,hN/2,hR/2,e?1:1/Math.max(2*hO.r/hN,2*hO.r/hR));return hP}hK.size=function(hN){if(!arguments.length){return hL}hL=hN;return hK};hK.radius=function(hN){if(!arguments.length){return e}e=hN==null||typeof hN==="function"?hN:+hN;return hK};hK.padding=function(hN){if(!arguments.length){return hM}hM=+hN;return hK};return gc(hK,hJ)};function en(hJ,e){return hJ.value-e.value}function bI(hJ,e){var hK=hJ._pack_next;hJ._pack_next=e;e._pack_prev=hJ;e._pack_next=hK;hK._pack_prev=e}function ba(hJ,e){hJ._pack_next=e;e._pack_prev=hJ}function ec(hK,e){var hL=e.x-hK.x,hJ=e.y-hK.y,hM=hK.r+e.r;return 0.999*hM*hM>hL*hL+hJ*hJ}function V(hT){if(!(hS=hT.children)||!(hR=hS.length)){return}var hS,hX=Infinity,h1=-Infinity,e=Infinity,hM=-Infinity,h0,hZ,hY,hW,hV,hU,hR;function hK(h2){hX=Math.min(h2.x-h2.r,hX);h1=Math.max(h2.x+h2.r,h1);e=Math.min(h2.y-h2.r,e);hM=Math.max(h2.y+h2.r,hM)}hS.forEach(aQ);h0=hS[0];h0.x=-h0.r;h0.y=0;hK(h0);if(hR>1){hZ=hS[1];hZ.x=hZ.r;hZ.y=0;hK(hZ);if(hR>2){hY=hS[2];a9(h0,hZ,hY);hK(hY);bI(h0,hY);h0._pack_prev=hY;bI(hY,hZ);hZ=h0._pack_next;for(hW=3;hW<hR;hW++){a9(h0,hZ,hY=hS[hW]);var hJ=0,hN=1,hL=1;for(hV=hZ._pack_next;hV!==hZ;hV=hV._pack_next,hN++){if(ec(hV,hY)){hJ=1;break}}if(hJ==1){for(hU=h0._pack_prev;hU!==hV._pack_prev;hU=hU._pack_prev,hL++){if(ec(hU,hY)){break}}}if(hJ){if(hN<hL||hN==hL&&hZ.r<h0.r){ba(h0,hZ=hV)}else{ba(h0=hU,hZ)}hW--}else{bI(h0,hY);hZ=hY;hK(hY)}}}}var hP=(hX+h1)/2,hO=(e+hM)/2,hQ=0;for(hW=0;hW<hR;hW++){hY=hS[hW];hY.x-=hP;hY.y-=hO;hQ=Math.max(hQ,hY.r+Math.sqrt(hY.x*hY.x+hY.y*hY.y))}hT.r=hQ;hS.forEach(eA)}function aQ(e){e._pack_next=e._pack_prev=e}function eA(e){delete e._pack_next;delete e._pack_prev}function fb(hM,e,hO,hJ){var hL=hM.children;hM.x=e+=hJ*hM.x;hM.y=hO+=hJ*hM.y;hM.r*=hJ;if(hL){var hK=-1,hN=hL.length;while(++hK<hN){fb(hL[hK],e,hO,hJ)}}}function a9(hM,hK,e){var hO=hM.r+e.r,hR=hK.x-hM.x,hP=hK.y-hM.y;if(hO&&(hR||hP)){var hQ=hK.r+e.r,hN=hR*hR+hP*hP;hQ*=hQ;hO*=hO;var hL=0.5+(hO-hQ)/(2*hN),hJ=Math.sqrt(Math.max(0,2*hQ*(hO+hN)-(hO-=hN)*hO-hQ*hQ))/(2*hN);e.x=hM.x+hL*hR+hJ*hP;e.y=hM.y+hL*hP-hJ*hR}else{e.x=hM.x+hO;e.y=hM.y}}gX.layout.cluster=function(){var hK=gX.layout.hierarchy().sort(null).value(null),hM=dm,hL=[1,1],hJ=false;function e(hS,hR){var hN=hK.call(this,hS,hR),hT=hN[0],hU,hV=0;hd(hT,function(hY){var hX=hY.children;if(hX&&hX.length){hY.x=bq(hX);hY.y=bp(hX)}else{hY.x=hU?hV+=hM(hY,hU):0;hY.y=0;hU=hY}});var hQ=ep(hT),hW=du(hT),hP=hQ.x-hM(hQ,hW)/2,hO=hW.x+hM(hW,hQ)/2;hd(hT,hJ?function(hX){hX.x=(hX.x-hT.x)*hL[0];hX.y=(hT.y-hX.y)*hL[1]}:function(hX){hX.x=(hX.x-hP)/(hO-hP)*hL[0];hX.y=(1-(hT.y?hX.y/hT.y:1))*hL[1]});return hN}e.separation=function(hN){if(!arguments.length){return hM}hM=hN;return e};e.size=function(hN){if(!arguments.length){return hJ?null:hL}hJ=(hL=hN)==null;return e};e.nodeSize=function(hN){if(!arguments.length){return hJ?hL:null}hJ=(hL=hN)!=null;return e};return gc(e,hK)};function bp(e){return 1+gX.max(e,function(hJ){return hJ.y})}function bq(e){return e.reduce(function(hJ,hK){return hJ+hK.x},0)/e.length}function ep(hJ){var e=hJ.children;return e&&e.length?ep(e[0]):hJ}function du(hJ){var e=hJ.children,hK;return e&&(hK=e.length)?du(e[hK-1]):hJ}gX.layout.treemap=function(){var hQ=gX.layout.hierarchy(),hU=Math.round,hW=[1,1],hR=null,e=eX,hS=false,hO,hN="squarify",hP=0.5*(1+Math.sqrt(5));function hJ(hZ,hX){var hY=-1,h2=hZ.length,h1,h0;while(++hY<h2){h0=(h1=hZ[hY]).value*(hX<0?0:hX);h1.area=isNaN(h0)||h0<=0?0:h0}}function hL(h1){var hY=h1.children;if(hY&&hY.length){var h4=e(h1),h6=[],h3=hY.slice(),hX,h2=Infinity,h0,h5=hN==="slice"?h4.dx:hN==="dice"?h4.dy:hN==="slice-dice"?h1.depth&1?h4.dy:h4.dx:Math.min(h4.dx,h4.dy),hZ;hJ(h3,h4.dx*h4.dy/h1.value);h6.area=0;while((hZ=h3.length)>0){h6.push(hX=h3[hZ-1]);h6.area+=hX.area;if(hN!=="squarify"||(h0=hK(h6,h5))<=h2){h3.pop();h2=h0}else{h6.area-=h6.pop().area;hM(h6,h5,h4,false);h5=Math.min(h4.dx,h4.dy);h6.length=h6.area=0;h2=Infinity}}if(h6.length){hM(h6,h5,h4,true);h6.length=h6.area=0}hY.forEach(hL)}}function hV(h0){var hX=h0.children;if(hX&&hX.length){var hZ=e(h0),hY=hX.slice(),h2,h1=[];hJ(hY,hZ.dx*hZ.dy/h0.value);h1.area=0;while(h2=hY.pop()){h1.push(h2);h1.area+=h2.area;if(h2.z!=null){hM(h1,h2.z?hZ.dx:hZ.dy,hZ,!hY.length);h1.length=h1.area=0}}hX.forEach(hV)}}function hK(h2,hY){var h0=h2.area,h1,h4=0,hX=Infinity,hZ=-1,h3=h2.length;while(++hZ<h3){if(!(h1=h2[hZ].area)){continue}if(h1<hX){hX=h1}if(h1>h4){h4=h1}}h0*=h0;hY*=hY;return h0?Math.max(hY*h4*hP/h0,h0/(hY*hX*hP)):Infinity}function hM(h6,h5,h1,h4){var hZ=-1,hY=h6.length,h2=h1.x,h0=h1.y,h3=h5?hU(h6.area/h5):0,hX;if(h5==h1.dx){if(h4||h3>h1.dy){h3=h1.dy}while(++hZ<hY){hX=h6[hZ];hX.x=h2;hX.y=h0;hX.dy=h3;h2+=hX.dx=Math.min(h1.x+h1.dx-h2,h3?hU(hX.area/h3):0)}hX.z=true;hX.dx+=h1.x+h1.dx-h2;h1.y+=h3;h1.dy-=h3}else{if(h4||h3>h1.dx){h3=h1.dx}while(++hZ<hY){hX=h6[hZ];hX.x=h2;hX.y=h0;hX.dx=h3;h0+=hX.dy=Math.min(h1.y+h1.dy-h0,h3?hU(hX.area/h3):0)}hX.z=false;hX.dy+=h1.y+h1.dy-h0;h1.x+=h3;h1.dx-=h3}}function hT(hZ){var hY=hO||hQ(hZ),hX=hY[0];hX.x=0;hX.y=0;hX.dx=hW[0];hX.dy=hW[1];if(hO){hQ.revalue(hX)}hJ([hX],hX.dx*hX.dy/hX.value);(hO?hV:hL)(hX);if(hS){hO=hY}return hY}hT.size=function(hX){if(!arguments.length){return hW}hW=hX;return hT};hT.padding=function(hX){if(!arguments.length){return hR}function h0(h1){var h2=hX.call(hT,h1,h1.depth);return h2==null?eX(h1):aX(h1,typeof h2==="number"?[h2,h2,h2,h2]:h2)}function hZ(h1){return aX(h1,hX)}var hY;e=(hR=hX)==null?eX:(hY=typeof hX)==="function"?h0:hY==="number"?(hX=[hX,hX,hX,hX],hZ):hZ;return hT};hT.round=function(hX){if(!arguments.length){return hU!=Number}hU=hX?Math.round:Number;return hT};hT.sticky=function(hX){if(!arguments.length){return hS}hS=hX;hO=null;return hT};hT.ratio=function(hX){if(!arguments.length){return hP}hP=hX;return hT};hT.mode=function(hX){if(!arguments.length){return hN}hN=hX+"";return hT};return gc(hT,hQ)};function eX(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function aX(hL,hM){var e=hL.x+hM[3],hN=hL.y+hM[0],hK=hL.dx-hM[1]-hM[3],hJ=hL.dy-hM[0]-hM[2];if(hK<0){e+=hK/2;hK=0}if(hJ<0){hN+=hJ/2;hJ=0}return{x:e,y:hN,dx:hK,dy:hJ}}gX.random={normal:function(hJ,e){var hK=arguments.length;if(hK<2){e=1}if(hK<1){hJ=0}return function(){var hL,hN,hM;do{hL=Math.random()*2-1;hN=Math.random()*2-1;hM=hL*hL+hN*hN}while(!hM||hM>1);return hJ+e*hL*Math.sqrt(-2*Math.log(hM)/hM)}},logNormal:function(){var e=gX.random.normal.apply(gX,arguments);return function(){return Math.exp(e())}},irwinHall:function(e){return function(){for(var hK=0,hJ=0;hJ<e;hJ++){hK+=Math.random()}return hK/e}}};gX.scale={};function eh(hJ){var hK=hJ[0],e=hJ[hJ.length-1];return hK<e?[hK,e]:[e,hK]}function aW(e){return e.rangeExtent?e.rangeExtent():eh(e.range())}function aE(hM,e,hN,hK){var hJ=hN(hM[0],hM[1]),hL=hK(e[0],e[1]);return function(hO){return hL(hJ(hO))}}function f3(hO,hM){var hN=0,hL=hO.length-1,hK=hO[hN],hJ=hO[hL],e;if(hJ<hK){e=hN,hN=hL,hL=e;e=hK,hK=hJ,hJ=e}hO[hN]=hM.floor(hK);hO[hL]=hM.ceil(hJ);return hO}function a3(e){return e?{floor:function(hJ){return Math.floor(hJ/e)*e},ceil:function(hJ){return Math.ceil(hJ/e)*e}}:eo}var eo={floor:f5,ceil:f5};function N(hO,hJ,hP,hM){var hL=[],hN=[],hK=0,e=Math.min(hO.length,hJ.length)-1;if(hO[e]<hO[0]){hO=hO.slice().reverse();hJ=hJ.slice().reverse()}while(++hK<=e){hL.push(hP(hO[hK-1],hO[hK]));hN.push(hM(hJ[hK-1],hJ[hK]))}return function(hQ){var hR=gX.bisect(hO,hQ,1,e)-1;return hN[hR](hL[hR](hQ))}}gX.scale.linear=function(){return ea([0,1],[0,1],fr,false)};function ea(hN,hL,hM,hP){var hK,hJ;function e(){var hQ=Math.min(hN.length,hL.length)>2?N:aE,hR=hP?ay:g5;hK=hQ(hN,hL,hR,hM);hJ=hQ(hL,hN,hR,fr);return hO}function hO(hQ){return hK(hQ)}hO.invert=function(hQ){return hJ(hQ)};hO.domain=function(hQ){if(!arguments.length){return hN}hN=hQ.map(Number);return e()};hO.range=function(hQ){if(!arguments.length){return hL}hL=hQ;return e()};hO.rangeRound=function(hQ){return hO.range(hQ).interpolate(fm)};hO.clamp=function(hQ){if(!arguments.length){return hP}hP=hQ;return e()};hO.interpolate=function(hQ){if(!arguments.length){return hM}hM=hQ;return e()};hO.ticks=function(hQ){return eN(hN,hQ)};hO.tickFormat=function(hQ,hR){return eY(hN,hQ,hR)};hO.nice=function(hQ){aM(hN,hQ);return e()};hO.copy=function(){return ea(hN,hL,hM,hP)};return e()}function fW(hJ,e){return gX.rebind(hJ,e,"range","rangeRound","interpolate","clamp")}function aM(hJ,e){return f3(hJ,a3(p(hJ,e)[2]))}function p(hN,e){if(e==null){e=10}var hK=eh(hN),hJ=hK[1]-hK[0],hM=Math.pow(10,Math.floor(Math.log(hJ/e)/Math.LN10)),hL=e/hJ*hM;if(hL<=0.15){hM*=10}else{if(hL<=0.35){hM*=5}else{if(hL<=0.75){hM*=2}}}hK[0]=Math.ceil(hK[0]/hM)*hM;hK[1]=Math.floor(hK[1]/hM)*hM+hM*0.5;hK[2]=hM;return hK}function eN(hJ,e){return gX.range.apply(gX,p(hJ,e))}function eY(hK,e,hL){var hJ=-Math.floor(Math.log(p(hK,e)[2])/Math.LN10+0.01);return gX.format(hL?hL.replace(cs,function(hV,hU,hT,hS,hR,hQ,hP,hO,hN,hM){return[hU,hT,hS,hR,hQ,hP,hO,hN||"."+(hJ-(hM==="%")*2),hM].join("")}):",."+hJ+"f")}gX.scale.log=function(){return gm(gX.scale.linear().domain([0,1]),10,true,[1,10])};function gm(hJ,hN,e,hM){function hK(hP){return(e?Math.log(hP<0?0:hP):-Math.log(hP>0?0:-hP))/Math.log(hN)}function hL(hP){return e?Math.pow(hN,hP):-Math.pow(hN,-hP)}function hO(hP){return hJ(hK(hP))}hO.invert=function(hP){return hL(hJ.invert(hP))};hO.domain=function(hP){if(!arguments.length){return hM}e=hP[0]>=0;hJ.domain((hM=hP.map(Number)).map(hK));return hO};hO.base=function(hP){if(!arguments.length){return hN}hN=+hP;hJ.domain(hM.map(hK));return hO};hO.nice=function(){var hP=f3(hM.map(hK),e?Math:gr);hJ.domain(hP);hM=hP.map(hL);return hO};hO.ticks=function(){var hU=eh(hM),hV=[],hS=hU[0],hQ=hU[1],hT=Math.floor(hK(hS)),hR=Math.ceil(hK(hQ)),hW=hN%1?2:hN;if(isFinite(hR-hT)){if(e){for(;hT<hR;hT++){for(var hP=1;hP<hW;hP++){hV.push(hL(hT)*hP)}}hV.push(hL(hT))}else{hV.push(hL(hT));for(;hT++<hR;){for(var hP=hW-1;hP>0;hP--){hV.push(hL(hT)*hP)}}}for(hT=0;hV[hT]<hS;hT++){}for(hR=hV.length;hV[hR-1]>hQ;hR--){}hV=hV.slice(hT,hR)}return hV};hO.tickFormat=function(hT,hS){if(!arguments.length){return dh}if(arguments.length<2){hS=dh}else{if(typeof hS!=="function"){hS=gX.format(hS)}}var hP=Math.max(0.1,hT/hO.ticks().length),hQ=e?(hR=1e-12,Math.ceil):(hR=-1e-12,Math.floor),hR;return function(hU){return hU/hL(hQ(hK(hU)+hR))<=hP?hS(hU):""}};hO.copy=function(){return gm(hJ.copy(),hN,e,hM)};return fW(hO,hJ)}var dh=gX.format(".0e"),gr={floor:function(e){return -Math.ceil(-e)},ceil:function(e){return -Math.floor(-e)}};gX.scale.pow=function(){return gb(gX.scale.linear(),1,[0,1])};function gb(e,hL,hK){var hJ=fI(hL),hM=fI(1/hL);function hN(hO){return e(hJ(hO))}hN.invert=function(hO){return hM(e.invert(hO))};hN.domain=function(hO){if(!arguments.length){return hK}e.domain((hK=hO.map(Number)).map(hJ));return hN};hN.ticks=function(hO){return eN(hK,hO)};hN.tickFormat=function(hO,hP){return eY(hK,hO,hP)};hN.nice=function(hO){return hN.domain(aM(hK,hO))};hN.exponent=function(hO){if(!arguments.length){return hL}hJ=fI(hL=hO);hM=fI(1/hL);e.domain(hK.map(hJ));return hN};hN.copy=function(){return gb(e.copy(),hL,hK)};return fW(hN,e)}function fI(hJ){return function(e){return e<0?-Math.pow(-e,hJ):Math.pow(e,hJ)}}gX.scale.sqrt=function(){return gX.scale.pow().exponent(0.5)};gX.scale.ordinal=function(){return ck([],{t:"range",a:[[]]})};function ck(hN,hK){var hM,hJ,hL;function hO(hP){return hJ[((hM.get(hP)||hM.set(hP,hN.push(hP)))-1)%hJ.length]}function e(hQ,hP){return gX.range(hN.length).map(function(hR){return hQ+hP*hR})}hO.domain=function(hP){if(!arguments.length){return hN}hN=[];hM=new aG();var hR=-1,hS=hP.length,hQ;while(++hR<hS){if(!hM.has(hQ=hP[hR])){hM.set(hQ,hN.push(hQ))}}return hO[hK.t].apply(hO,hK.a)};hO.range=function(hP){if(!arguments.length){return hJ}hJ=hP;hL=0;hK={t:"range",a:arguments};return hO};hO.rangePoints=function(hP,hS){if(arguments.length<2){hS=0}var hT=hP[0],hQ=hP[1],hR=(hQ-hT)/(Math.max(1,hN.length-1)+hS);hJ=e(hN.length<2?(hT+hQ)/2:hT+hR*hS/2,hR);hL=0;hK={t:"rangePoints",a:arguments};return hO};hO.rangeBands=function(hQ,hU,hP){if(arguments.length<2){hU=0}if(arguments.length<3){hP=hU}var hR=hQ[1]<hQ[0],hV=hQ[hR-0],hS=hQ[1-hR],hT=(hS-hV)/(hN.length-hU+2*hP);hJ=e(hV+hT*hP,hT);if(hR){hJ.reverse()}hL=hT*(1-hU);hK={t:"rangeBands",a:arguments};return hO};hO.rangeRoundBands=function(hQ,hV,hP){if(arguments.length<2){hV=0}if(arguments.length<3){hP=hV}var hS=hQ[1]<hQ[0],hW=hQ[hS-0],hT=hQ[1-hS],hU=Math.floor((hT-hW)/(hN.length-hV+2*hP)),hR=hT-hW-(hN.length-hV)*hU;hJ=e(hW+Math.round(hR/2),hU);if(hS){hJ.reverse()}hL=Math.round(hU*(1-hV));hK={t:"rangeRoundBands",a:arguments};return hO};hO.rangeBand=function(){return hL};hO.rangeExtent=function(){return eh(hK.a[0])};hO.copy=function(){return ck(hN,hK)};return hO.domain(hN)}gX.scale.category10=function(){return gX.scale.ordinal().range(ct)};gX.scale.category20=function(){return gX.scale.ordinal().range(b9)};gX.scale.category20b=function(){return gX.scale.ordinal().range(gP)};gX.scale.category20c=function(){return gX.scale.ordinal().range(gN)};var ct=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dj);var b9=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dj);var gP=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dj);var gN=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dj);gX.scale.quantile=function(){return C([],[])};function C(hK,hJ){var hL;function e(){var hN=0,hO=hJ.length;hL=[];while(++hN<hO){hL[hN-1]=gX.quantile(hK,hN/hO)}return hM}function hM(hN){if(!isNaN(hN=+hN)){return hJ[gX.bisect(hL,hN)]}}hM.domain=function(hN){if(!arguments.length){return hK}hK=hN.filter(function(hO){return !isNaN(hO)}).sort(gX.ascending);return e()};hM.range=function(hN){if(!arguments.length){return hJ}hJ=hN;return e()};hM.quantiles=function(){return hL};hM.invertExtent=function(hN){hN=hJ.indexOf(hN);return hN<0?[NaN,NaN]:[hN>0?hL[hN-1]:hK[0],hN<hL.length?hL[hN]:hK[hK.length-1]]};hM.copy=function(){return C(hK,hJ)};return e()}gX.scale.quantize=function(){return dt(0,1,[0,1])};function dt(hM,hK,hJ){var hN,hL;function hO(hP){return hJ[Math.max(0,Math.min(hL,Math.floor(hN*(hP-hM))))]}function e(){hN=hJ.length/(hK-hM);hL=hJ.length-1;return hO}hO.domain=function(hP){if(!arguments.length){return[hM,hK]}hM=+hP[0];hK=+hP[hP.length-1];return e()};hO.range=function(hP){if(!arguments.length){return hJ}hJ=hP;return e()};hO.invertExtent=function(hP){hP=hJ.indexOf(hP);hP=hP<0?NaN:hP/hN+hM;return[hP,hP+1/hN]};hO.copy=function(){return dt(hM,hK,hJ)};return e()}gX.scale.threshold=function(){return fS([0.5],[0,1])};function fS(hJ,e){function hK(hL){if(hL<=hL){return e[gX.bisect(hJ,hL)]}}hK.domain=function(hL){if(!arguments.length){return hJ}hJ=hL;return hK};hK.range=function(hL){if(!arguments.length){return e}e=hL;return hK};hK.invertExtent=function(hL){hL=e.indexOf(hL);return[hJ[hL-1],hJ[hL]]};hK.copy=function(){return fS(hJ,e)};return hK}gX.scale.identity=function(){return eD([0,1])};function eD(hJ){function e(hK){return +hK}e.invert=e;e.domain=e.range=function(hK){if(!arguments.length){return hJ}hJ=hK.map(e);return e};e.ticks=function(hK){return eN(hJ,hK)};e.tickFormat=function(hK,hL){return eY(hJ,hK,hL)};e.copy=function(){return eD(hJ)};return e}gX.svg.arc=function(){var hM=bt,hL=cJ,hK=f1,e=ao;function hJ(){var hQ=hM.apply(this,arguments),hP=hL.apply(this,arguments),hO=hK.apply(this,arguments)+hf,hN=e.apply(this,arguments)+hf,hW=(hN<hO&&(hW=hO,hO=hN,hN=hW),hN-hO),hT=hW<fZ?"0":"1",hS=Math.cos(hO),hV=Math.sin(hO),hR=Math.cos(hN),hU=Math.sin(hN);return hW>=hl?hQ?"M0,"+hP+"A"+hP+","+hP+" 0 1,1 0,"+-hP+"A"+hP+","+hP+" 0 1,1 0,"+hP+"M0,"+hQ+"A"+hQ+","+hQ+" 0 1,0 0,"+-hQ+"A"+hQ+","+hQ+" 0 1,0 0,"+hQ+"Z":"M0,"+hP+"A"+hP+","+hP+" 0 1,1 0,"+-hP+"A"+hP+","+hP+" 0 1,1 0,"+hP+"Z":hQ?"M"+hP*hS+","+hP*hV+"A"+hP+","+hP+" 0 "+hT+",1 "+hP*hR+","+hP*hU+"L"+hQ*hR+","+hQ*hU+"A"+hQ+","+hQ+" 0 "+hT+",0 "+hQ*hS+","+hQ*hV+"Z":"M"+hP*hS+","+hP*hV+"A"+hP+","+hP+" 0 "+hT+",1 "+hP*hR+","+hP*hU+"L0,0Z"}hJ.innerRadius=function(hN){if(!arguments.length){return hM}hM=T(hN);return hJ};hJ.outerRadius=function(hN){if(!arguments.length){return hL}hL=T(hN);return hJ};hJ.startAngle=function(hN){if(!arguments.length){return hK}hK=T(hN);return hJ};hJ.endAngle=function(hN){if(!arguments.length){return e}e=T(hN);return hJ};hJ.centroid=function(){var hO=(hM.apply(this,arguments)+hL.apply(this,arguments))/2,hN=(hK.apply(this,arguments)+e.apply(this,arguments))/2+hf;return[Math.cos(hN)*hO,Math.sin(hN)*hO]};return hJ};var hf=-fZ/2,hl=2*fZ-0.000001;function bt(e){return e.innerRadius}function cJ(e){return e.outerRadius}function f1(e){return e.startAngle}function ao(e){return e.endAngle}gX.svg.line.radial=function(){var e=eZ(Q);e.radius=e.x,delete e.x;e.angle=e.y,delete e.y;return e};function Q(hL){var e,hK=-1,hN=hL.length,hM,hJ;while(++hK<hN){e=hL[hK];hM=e[0];hJ=e[1]+hf;e[0]=hM*Math.cos(hJ);e[1]=hM*Math.sin(hJ)}return hL}function hD(hM){var hK=gA,hJ=gA,hS=0,hQ=gy,hL=aj,hN=hr,hT=hN.key,hP=hN,hO="L",hR=0.7;function e(hY){var h0=[],hU=[],h7=[],hZ=-1,hV=hY.length,h2,hX=T(hK),h6=T(hS),hW=hK===hJ?function(){return h4}:T(hJ),h5=hS===hQ?function(){return h3}:T(hQ),h4,h3;function h1(){h0.push("M",hN(hM(h7),hR),hO,hP(hM(hU.reverse()),hR),"Z")}while(++hZ<hV){if(hL.call(this,h2=hY[hZ],hZ)){hU.push([h4=+hX.call(this,h2,hZ),h3=+h6.call(this,h2,hZ)]);h7.push([+hW.call(this,h2,hZ),+h5.call(this,h2,hZ)])}else{if(hU.length){h1();hU=[];h7=[]}}}if(hU.length){h1()}return h0.length?h0.join(""):null}e.x=function(hU){if(!arguments.length){return hJ}hK=hJ=hU;return e};e.x0=function(hU){if(!arguments.length){return hK}hK=hU;return e};e.x1=function(hU){if(!arguments.length){return hJ}hJ=hU;return e};e.y=function(hU){if(!arguments.length){return hQ}hS=hQ=hU;return e};e.y0=function(hU){if(!arguments.length){return hS}hS=hU;return e};e.y1=function(hU){if(!arguments.length){return hQ}hQ=hU;return e};e.defined=function(hU){if(!arguments.length){return hL}hL=hU;return e};e.interpolate=function(hU){if(!arguments.length){return hT}if(typeof hU==="function"){hT=hN=hU}else{hT=(hN=b5.get(hU)||hr).key}hP=hN.reverse||hN;hO=hN.closed?"M":"L";return e};e.tension=function(hU){if(!arguments.length){return hR}hR=hU;return e};return e}bh.reverse=g8;g8.reverse=bh;gX.svg.area=function(){return hD(f5)};gX.svg.area.radial=function(){var e=hD(Q);e.radius=e.x,delete e.x;e.innerRadius=e.x0,delete e.x0;e.outerRadius=e.x1,delete e.x1;e.angle=e.y,delete e.y;e.startAngle=e.y0,delete e.y0;e.endAngle=e.y1,delete e.y1;return e};gX.svg.chord=function(){var e=hg,hP=hq,hO=I,hQ=f1,hM=ao;function hN(hV,hT){var hU=hR(this,e,hV,hT),hS=hR(this,hP,hV,hT);return"M"+hU.p0+hJ(hU.r,hU.p1,hU.a1-hU.a0)+(hK(hU,hS)?hL(hU.r,hU.p1,hU.r,hU.p0):hL(hU.r,hU.p1,hS.r,hS.p0)+hJ(hS.r,hS.p1,hS.a1-hS.a0)+hL(hS.r,hS.p1,hU.r,hU.p0))+"Z"}function hR(hV,hY,hZ,hW){var hU=hY.call(hV,hZ,hW),hX=hO.call(hV,hU,hW),hT=hQ.call(hV,hU,hW)+hf,hS=hM.call(hV,hU,hW)+hf;return{r:hX,a0:hT,a1:hS,p0:[hX*Math.cos(hT),hX*Math.sin(hT)],p1:[hX*Math.cos(hS),hX*Math.sin(hS)]}}function hK(hT,hS){return hT.a0==hS.a0&&hT.a1==hS.a1}function hJ(hT,hU,hS){return"A"+hT+","+hT+" 0 "+ +(hS>fZ)+",1 "+hU}function hL(hT,hV,hS,hU){return"Q 0,0 "+hU}hN.radius=function(hS){if(!arguments.length){return hO}hO=T(hS);return hN};hN.source=function(hS){if(!arguments.length){return e}e=T(hS);return hN};hN.target=function(hS){if(!arguments.length){return hP}hP=T(hS);return hN};hN.startAngle=function(hS){if(!arguments.length){return hQ}hQ=T(hS);return hN};hN.endAngle=function(hS){if(!arguments.length){return hM}hM=T(hS);return hN};return hN};function I(e){return e.radius}gX.svg.diagonal=function(){var hK=hg,hL=hq,e=l;function hJ(hQ,hN){var hR=hK.call(this,hQ,hN),hO=hL.call(this,hQ,hN),hM=(hR.y+hO.y)/2,hP=[hR,{x:hR.x,y:hM},{x:hO.x,y:hM},hO];hP=hP.map(e);return"M"+hP[0]+"C"+hP[1]+" "+hP[2]+" "+hP[3]}hJ.source=function(hM){if(!arguments.length){return hK}hK=T(hM);return hJ};hJ.target=function(hM){if(!arguments.length){return hL}hL=T(hM);return hJ};hJ.projection=function(hM){if(!arguments.length){return e}e=hM;return hJ};return hJ};function l(e){return[e.x,e.y]}gX.svg.diagonal.radial=function(){var hK=gX.svg.diagonal(),e=l,hJ=hK.projection;hK.projection=function(hL){return arguments.length?hJ(m(e=hL)):e};return hK};function m(e){return function(){var hL=e.apply(this,arguments),hK=hL[0],hJ=hL[1]+hf;return[hK*Math.cos(hJ),hK*Math.sin(hJ)]}}gX.svg.symbol=function(){var hJ=aT,e=eT;function hK(hM,hL){return(hn.get(hJ.call(this,hM,hL))||b7)(e.call(this,hM,hL))}hK.type=function(hL){if(!arguments.length){return hJ}hJ=T(hL);return hK};hK.size=function(hL){if(!arguments.length){return e}e=T(hL);return hK};return hK};function eT(){return 64}function aT(){return"circle"}function b7(e){var hJ=Math.sqrt(e/fZ);return"M0,"+hJ+"A"+hJ+","+hJ+" 0 1,1 0,"+-hJ+"A"+hJ+","+hJ+" 0 1,1 0,"+hJ+"Z"}var hn=gX.map({circle:b7,cross:function(e){var hJ=Math.sqrt(e/5)/2;return"M"+-3*hJ+","+-hJ+"H"+-hJ+"V"+-3*hJ+"H"+hJ+"V"+-hJ+"H"+3*hJ+"V"+hJ+"H"+hJ+"V"+3*hJ+"H"+-hJ+"V"+hJ+"H"+-3*hJ+"Z"},diamond:function(e){var hJ=Math.sqrt(e/(2*ce)),hK=hJ*ce;return"M0,"+-hJ+"L"+hK+",0 0,"+hJ+" "+-hK+",0Z"},square:function(e){var hJ=Math.sqrt(e)/2;return"M"+-hJ+","+-hJ+"L"+hJ+","+-hJ+" "+hJ+","+hJ+" "+-hJ+","+hJ+"Z"},"triangle-down":function(e){var hK=Math.sqrt(e/bZ),hJ=hK*bZ/2;return"M0,"+hJ+"L"+hK+","+-hJ+" "+-hK+","+-hJ+"Z"},"triangle-up":function(e){var hK=Math.sqrt(e/bZ),hJ=hK*bZ/2;return"M0,"+-hJ+"L"+hK+","+hJ+" "+-hK+","+hJ+"Z"}});gX.svg.symbolTypes=hn.keys();var bZ=Math.sqrt(3),ce=Math.tan(30*K);function gv(e,hJ){hC(e,ei);e.id=hJ;return e}var ei=[],gO=0,aq,dU;ei.call=dO.call;ei.empty=dO.empty;ei.node=dO.node;ei.size=dO.size;gX.transition=function(e){return arguments.length?aq?e.transition():e:gx.transition()};gX.transition.prototype=ei;ei.select=function(hO){var e=this.id,hL=[],hS,hJ,hM;hO=v(hO);for(var hP=-1,hN=this.length;++hP<hN;){hL.push(hS=[]);for(var hR=this[hP],hQ=-1,hK=hR.length;++hQ<hK;){if((hM=hR[hQ])&&(hJ=hO.call(hM,hM.__data__,hQ,hP))){if("__data__" in hM){hJ.__data__=hM.__data__}fq(hJ,hQ,e,hM.__transition__[e]);hS.push(hJ)}else{hS.push(null)}}}return gv(hL,e)};ei.selectAll=function(hQ){var hJ=this.id,hN=[],hW,e,hP,hK,hU;hQ=cT(hQ);for(var hS=-1,hO=this.length;++hS<hO;){for(var hV=this[hS],hT=-1,hM=hV.length;++hT<hM;){if(hP=hV[hT]){hU=hP.__transition__[hJ];e=hQ.call(hP,hP.__data__,hT,hS);hN.push(hW=[]);for(var hR=-1,hL=e.length;++hR<hL;){if(hK=e[hR]){fq(hK,hR,hJ,hU)}hW.push(hK)}}}}return gv(hN,hJ)};ei.filter=function(e){var hK=[],hQ,hP,hL;if(typeof e!=="function"){e=a5(e)}for(var hN=0,hM=this.length;hN<hM;hN++){hK.push(hQ=[]);for(var hP=this[hN],hO=0,hJ=hP.length;hO<hJ;hO++){if((hL=hP[hO])&&e.call(hL,hL.__data__,hO)){hQ.push(hL)}}}return gv(hK,this.id)};ei.tween=function(e,hJ){var hK=this.id;if(arguments.length<2){return this.node().__transition__[hK].tween.get(e)}return cA(this,hJ==null?function(hL){hL.__transition__[hK].tween.remove(e)}:function(hL){hL.__transition__[hK].tween.set(e,hJ)})};function hm(e,hJ,hL,hK){var hM=e.id;return cA(e,typeof hL==="function"?function(hP,hO,hN){hP.__transition__[hM].tween.set(hJ,hK(hL.call(hP,hP.__data__,hO,hN)))}:(hL=hK(hL),function(hN){hN.__transition__[hM].tween.set(hJ,hL)}))}ei.attr=function(e,hN){if(arguments.length<2){for(hN in e){this.attr(hN,e[hN])}return this}var hL=e=="transform"?d8:fr,hK=gX.ns.qualify(e);function hJ(){this.removeAttribute(hK)}function hP(){this.removeAttributeNS(hK.space,hK.local)}function hM(hQ){return hQ==null?hJ:(hQ+="",function(){var hR=this.getAttribute(hK),hS;return hR!==hQ&&(hS=hL(hR,hQ),function(hT){this.setAttribute(hK,hS(hT))})})}function hO(hQ){return hQ==null?hP:(hQ+="",function(){var hR=this.getAttributeNS(hK.space,hK.local),hS;return hR!==hQ&&(hS=hL(hR,hQ),function(hT){this.setAttributeNS(hK.space,hK.local,hS(hT))})})}return hm(this,"attr."+e,hN,hK.local?hO:hM)};ei.attrTween=function(e,hK){var hJ=gX.ns.qualify(e);function hL(hP,hN){var hO=hK.call(this,hP,hN,this.getAttribute(hJ));return hO&&function(hQ){this.setAttribute(hJ,hO(hQ))}}function hM(hP,hN){var hO=hK.call(this,hP,hN,this.getAttributeNS(hJ.space,hJ.local));return hO&&function(hQ){this.setAttributeNS(hJ.space,hJ.local,hO(hQ))}}return this.tween("attr."+e,hJ.local?hM:hL)};ei.style=function(hK,hM,hL){var hN=arguments.length;if(hN<3){if(typeof hK!=="string"){if(hN<2){hM=""}for(hL in hK){this.style(hL,hK[hL],hM)}return this}hL=""}function hJ(){this.style.removeProperty(hK)}function e(hO){return hO==null?hJ:(hO+="",function(){var hP=fn.getComputedStyle(this,null).getPropertyValue(hK),hQ;return hP!==hO&&(hQ=fr(hP,hO),function(hR){this.style.setProperty(hK,hQ(hR),hL)})})}return hm(this,"style."+hK,hM,e)};ei.styleTween=function(e,hK,hJ){if(arguments.length<3){hJ=""}function hL(hO,hM){var hN=hK.call(this,hO,hM,fn.getComputedStyle(this,null).getPropertyValue(e));return hN&&function(hP){this.style.setProperty(e,hN(hP),hJ)}}return this.tween("style."+e,hL)};ei.text=function(e){return hm(this,"text",e,hI)};function hI(e){if(e==null){e=""}return function(){this.textContent=e}}ei.remove=function(){return this.each("end.transition",function(){var e;if(this.__transition__.count<2&&(e=this.parentNode)){e.removeChild(this)}})};ei.ease=function(e){var hJ=this.id;if(arguments.length<1){return this.node().__transition__[hJ].ease}if(typeof e!=="function"){e=gX.ease.apply(gX,arguments)}return cA(this,function(hK){hK.__transition__[hJ].ease=e})};ei.delay=function(e){var hJ=this.id;return cA(this,typeof e==="function"?function(hM,hL,hK){hM.__transition__[hJ].delay=+e.call(hM,hM.__data__,hL,hK)}:(e=+e,function(hK){hK.__transition__[hJ].delay=e}))};ei.duration=function(e){var hJ=this.id;return cA(this,typeof e==="function"?function(hM,hL,hK){hM.__transition__[hJ].duration=Math.max(1,e.call(hM,hM.__data__,hL,hK))}:(e=Math.max(1,e),function(hK){hK.__transition__[hJ].duration=e}))};ei.each=function(hJ,hK){var hM=this.id;if(arguments.length<2){var e=dU,hL=aq;aq=hM;cA(this,function(hP,hO,hN){dU=hP.__transition__[hM];hJ.call(hP,hP.__data__,hO,hN)});dU=e;aq=hL}else{cA(this,function(hN){var hO=hN.__transition__[hM];(hO.event||(hO.event=gX.dispatch("start","end"))).on(hJ,hK)})}return this};ei.transition=function(){var hS=this.id,hR=++gO,hJ=[],hQ,hP,hL,hO;for(var hM=0,hK=this.length;hM<hK;hM++){hJ.push(hQ=[]);for(var hP=this[hM],hN=0,e=hP.length;hN<e;hN++){if(hL=hP[hN]){hO=Object.create(hL.__transition__[hS]);hO.delay+=hO.duration;fq(hL,hN,hR,hO)}hQ.push(hL)}}return gv(hJ,hR)};function fq(hL,hK,hO,e){var hJ=hL.__transition__||(hL.__transition__={active:0,count:0}),hN=hJ[hO];if(!hN){var hM=e.time;hN=hJ[hO]={tween:new aG(),time:hM,ease:e.ease,delay:e.delay,duration:e.duration};++hJ.count;gX.timer(function(hX){var hU=hL.__data__,hQ=hN.ease,hS=hN.delay,hR=hN.duration,hW=[];if(hS<=hX){return hP(hX)}hi(hP,hS,hM);function hP(hY){if(hJ.active>hO){return hV()}hJ.active=hO;hN.event&&hN.event.start.call(hL,hU,hK);hN.tween.forEach(function(hZ,h0){if(h0=h0.call(hL,hU,hK)){hW.push(h0)}});if(hT(hY)){return 1}hi(hT,0,hM)}function hT(hY){if(hJ.active!==hO){return hV()}var hZ=(hY-hS)/hR,h0=hQ(hZ),h1=hW.length;while(h1>0){hW[--h1].call(hL,h0)}if(hZ>=1){hN.event&&hN.event.end.call(hL,hU,hK);return hV()}}function hV(){if(--hJ.count){delete hJ[hO]}else{delete hL.__transition__}return 1}},0,hM)}}gX.svg.axis=function(){var hK=gX.scale.linear(),hM=hu,e=6,hN=6,hQ=3,hP=[10],hL=null,hO;function hJ(hR){hR.each(function(){var h8=gX.select(this);var ia=hL==null?hK.ticks?hK.ticks.apply(hK,hP):hK.domain():hL,h3=hO==null?hK.tickFormat?hK.tickFormat.apply(hK,hP):f5:hO,h6=h8.selectAll(".tick").data(ia,f5),h0=h6.enter().insert("g",".domain").attr("class","tick").style("opacity",0.000001),h2=gX.transition(h6.exit()).style("opacity",0.000001).remove(),hU=gX.transition(h6).style("opacity",1),hS;var hZ=aW(hK),h1=h8.selectAll(".domain").data([0]),ib=(h1.enter().append("path").attr("class","domain"),gX.transition(h1));var h4=hK.copy(),h5=this.__chart__||h4;this.__chart__=h4;h0.append("line");h0.append("text");var hT=h0.select("line"),h9=hU.select("line"),hY=h6.select("text").text(h3),hV=h0.select("text"),h7=hU.select("text");switch(hM){case"bottom":hS=fa;hT.attr("y2",e);hV.attr("y",Math.max(e,0)+hQ);h9.attr("x2",0).attr("y2",e);h7.attr("x",0).attr("y",Math.max(e,0)+hQ);hY.attr("dy",".71em").style("text-anchor","middle");ib.attr("d","M"+hZ[0]+","+hN+"V0H"+hZ[1]+"V"+hN);break;case"top":hS=fa;hT.attr("y2",-e);hV.attr("y",-(Math.max(e,0)+hQ));h9.attr("x2",0).attr("y2",-e);h7.attr("x",0).attr("y",-(Math.max(e,0)+hQ));hY.attr("dy","0em").style("text-anchor","middle");ib.attr("d","M"+hZ[0]+","+-hN+"V0H"+hZ[1]+"V"+-hN);break;case"left":hS=e9;hT.attr("x2",-e);hV.attr("x",-(Math.max(e,0)+hQ));h9.attr("x2",-e).attr("y2",0);h7.attr("x",-(Math.max(e,0)+hQ)).attr("y",0);hY.attr("dy",".32em").style("text-anchor","end");ib.attr("d","M"+-hN+","+hZ[0]+"H0V"+hZ[1]+"H"+-hN);break;case"right":hS=e9;hT.attr("x2",e);hV.attr("x",Math.max(e,0)+hQ);h9.attr("x2",e).attr("y2",0);h7.attr("x",Math.max(e,0)+hQ).attr("y",0);hY.attr("dy",".32em").style("text-anchor","start");ib.attr("d","M"+hN+","+hZ[0]+"H0V"+hZ[1]+"H"+hN);break}if(hK.rangeBand){var hX=h4.rangeBand()/2,hW=function(ic){return h4(ic)+hX};h0.call(hS,hW);hU.call(hS,hW)}else{h0.call(hS,h5);hU.call(hS,h4);h2.call(hS,h4)}})}hJ.scale=function(hR){if(!arguments.length){return hK}hK=hR;return hJ};hJ.orient=function(hR){if(!arguments.length){return hM}hM=hR in eO?hR+"":hu;return hJ};hJ.ticks=function(){if(!arguments.length){return hP}hP=arguments;return hJ};hJ.tickValues=function(hR){if(!arguments.length){return hL}hL=hR;return hJ};hJ.tickFormat=function(hR){if(!arguments.length){return hO}hO=hR;return hJ};hJ.tickSize=function(hR){var hS=arguments.length;if(!hS){return e}e=+hR;hN=+arguments[hS-1];return hJ};hJ.innerTickSize=function(hR){if(!arguments.length){return e}e=+hR;return hJ};hJ.outerTickSize=function(hR){if(!arguments.length){return hN}hN=+hR;return hJ};hJ.tickPadding=function(hR){if(!arguments.length){return hQ}hQ=+hR;return hJ};hJ.tickSubdivide=function(){return arguments.length&&hJ};return hJ};var hu="bottom",eO={top:1,right:1,bottom:1,left:1};function fa(hJ,e){hJ.attr("transform",function(hK){return"translate("+e(hK)+",0)"})}function e9(e,hJ){e.attr("transform",function(hK){return"translate(0,"+hJ(hK)+")"})}gX.svg.brush=function(){var hJ=gU(hQ,"brushstart","brush","brushend"),hT=null,hR=null,hK=[0,0],hP=[0,0],hS,hM,e=true,hO=true,hU=ar[0];function hQ(hX){hX.each(function(){var h3=gX.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",hV).on("touchstart.brush",hV);var h2=h3.selectAll(".background").data([0]);h2.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");h3.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h1=h3.selectAll(".resize").data(hU,f5);h1.exit().remove();h1.enter().append("g").attr("class",function(h4){return"resize "+h4}).style("cursor",function(h4){return eG[h4]}).append("rect").attr("x",function(h4){return/[ew]$/.test(h4)?-3:null}).attr("y",function(h4){return/^[ns]/.test(h4)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");h1.style("display",hQ.empty()?"none":null);var h0=gX.transition(h3),hY=gX.transition(h2),hZ;if(hT){hZ=aW(hT);hY.attr("x",hZ[0]).attr("width",hZ[1]-hZ[0]);hN(h0)}if(hR){hZ=aW(hR);hY.attr("y",hZ[0]).attr("height",hZ[1]-hZ[0]);hL(h0)}hW(h0)})}hQ.event=function(hX){hX.each(function(){var hY=hJ.of(this,arguments),hZ={x:hK,y:hP,i:hS,j:hM},h0=this.__chart__||hZ;this.__chart__=hZ;if(aq){gX.select(this).transition().each("start.brush",function(){hS=h0.i;hM=h0.j;hK=h0.x;hP=h0.y;hY({type:"brushstart"})}).tween("brush:brush",function(){var h1=ez(hK,hZ.x),h2=ez(hP,hZ.y);hS=hM=null;return function(h3){hK=hZ.x=h1(h3);hP=hZ.y=h2(h3);hY({type:"brush",mode:"resize"})}}).each("end.brush",function(){hS=hZ.i;hM=hZ.j;hY({type:"brush",mode:"resize"});hY({type:"brushend"})})}else{hY({type:"brushstart"});hY({type:"brush",mode:"resize"});hY({type:"brushend"})}})};function hW(hX){hX.selectAll(".resize").attr("transform",function(hY){return"translate("+hK[+/e$/.test(hY)]+","+hP[+/^s/.test(hY)]+")"})}function hN(hX){hX.select(".extent").attr("x",hK[0]);hX.selectAll(".extent,.n>rect,.s>rect").attr("width",hK[1]-hK[0])}function hL(hX){hX.select(".extent").attr("y",hP[0]);hX.selectAll(".extent,.e>rect,.w>rect").attr("height",hP[1]-hP[0])}function hV(){var ih=this,hY=gX.select(gX.event.target),h5=hJ.of(ih,arguments),ib=gX.select(ih),id=hY.datum(),h9=!/^(n|s)$/.test(id)&&hT,h7=!/^(e|w)$/.test(id)&&hR,h8=hY.classed("extent"),h0=bD(),ie,ig=gX.mouse(ih),hZ;var h3=gX.select(fn).on("keydown.brush",h6).on("keyup.brush",h2);if(gX.event.changedTouches){h3.on("touchmove.brush",h4).on("touchend.brush",hX)}else{h3.on("mousemove.brush",h4).on("mouseup.brush",hX)}ib.interrupt().selectAll("*").interrupt();if(h8){ig[0]=hK[0]-ig[0];ig[1]=hP[0]-ig[1]}else{if(id){var ic=+/w$/.test(id),ia=+/^n/.test(id);hZ=[hK[1-ic]-ig[0],hP[1-ia]-ig[1]];ig[0]=hK[ic];ig[1]=hP[ia]}else{if(gX.event.altKey){ie=ig.slice()}}}ib.style("pointer-events","none").selectAll(".resize").style("display",null);gX.select("body").style("cursor",hY.style("cursor"));h5({type:"brushstart"});h4();function h6(){if(gX.event.keyCode==32){if(!h8){ie=null;ig[0]-=hK[1];ig[1]-=hP[1];h8=2}t()}}function h2(){if(gX.event.keyCode==32&&h8==2){ig[0]+=hK[1];ig[1]+=hP[1];h8=0;t()}}function h4(){var ii=gX.mouse(ih),ij=false;if(hZ){ii[0]+=hZ[0];ii[1]+=hZ[1]}if(!h8){if(gX.event.altKey){if(!ie){ie=[(hK[0]+hK[1])/2,(hP[0]+hP[1])/2]}ig[0]=hK[+(ii[0]<ie[0])];ig[1]=hP[+(ii[1]<ie[1])]}else{ie=null}}if(h9&&h1(ii,hT,0)){hN(ib);ij=true}if(h7&&h1(ii,hR,1)){hL(ib);ij=true}if(ij){hW(ib);h5({type:"brush",mode:h8?"move":"resize"})}}function h1(ir,ik,im){var io=aW(ik),ij=io[0],ii=io[1],ip=ig[im],it=im?hP:hK,iu=it[1]-it[0],il,iq;if(h8){ij-=ip;ii-=iu+ip}il=(im?hO:e)?Math.max(ij,Math.min(ii,ir[im])):ir[im];if(h8){iq=(il+=ip)+iu}else{if(ie){ip=Math.max(ij,Math.min(ii,2*ie[im]-il))}if(ip<il){iq=il;il=ip}else{iq=ip}}if(it[0]!=il||it[1]!=iq){if(im){hM=null}else{hS=null}it[0]=il;it[1]=iq;return true}}function hX(){h4();ib.style("pointer-events","all").selectAll(".resize").style("display",hQ.empty()?"none":null);gX.select("body").style("cursor",null);h3.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);h0();h5({type:"brushend"})}}hQ.x=function(hX){if(!arguments.length){return hT}hT=hX;hU=ar[!hT<<1|!hR];return hQ};hQ.y=function(hX){if(!arguments.length){return hR}hR=hX;hU=ar[!hT<<1|!hR];return hQ};hQ.clamp=function(hX){if(!arguments.length){return hT&&hR?[e,hO]:hT?e:hR?hO:null}if(hT&&hR){e=!!hX[0],hO=!!hX[1]}else{if(hT){e=!!hX}else{if(hR){hO=!!hX}}}return hQ};hQ.extent=function(h2){var hZ,hX,h1,h0,hY;if(!arguments.length){if(hT){if(hS){hZ=hS[0],hX=hS[1]}else{hZ=hK[0],hX=hK[1];if(hT.invert){hZ=hT.invert(hZ),hX=hT.invert(hX)}if(hX<hZ){hY=hZ,hZ=hX,hX=hY}}}if(hR){if(hM){h1=hM[0],h0=hM[1]}else{h1=hP[0],h0=hP[1];if(hR.invert){h1=hR.invert(h1),h0=hR.invert(h0)}if(h0<h1){hY=h1,h1=h0,h0=hY}}}return hT&&hR?[[hZ,h1],[hX,h0]]:hT?[hZ,hX]:hR&&[h1,h0]}if(hT){hZ=h2[0],hX=h2[1];if(hR){hZ=hZ[0],hX=hX[0]}hS=[hZ,hX];if(hT.invert){hZ=hT(hZ),hX=hT(hX)}if(hX<hZ){hY=hZ,hZ=hX,hX=hY}if(hZ!=hK[0]||hX!=hK[1]){hK=[hZ,hX]}}if(hR){h1=h2[0],h0=h2[1];if(hT){h1=h1[1],h0=h0[1]}hM=[h1,h0];if(hR.invert){h1=hR(h1),h0=hR(h0)}if(h0<h1){hY=h1,h1=h0,h0=hY}if(h1!=hP[0]||h0!=hP[1]){hP=[h1,h0]}}return hQ};hQ.clear=function(){if(!hQ.empty()){hK=[0,0],hP=[0,0];hS=hM=null}return hQ};hQ.empty=function(){return !!hT&&hK[0]==hK[1]||!!hR&&hP[0]==hP[1]};return gX.rebind(hQ,hJ,"on")};var eG={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var ar=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var fv=gX.time={},g1=Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function cb(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}cb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){fP.setUTCDate.apply(this._,arguments)},setDay:function(){fP.setUTCDay.apply(this._,arguments)},setFullYear:function(){fP.setUTCFullYear.apply(this._,arguments)},setHours:function(){fP.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){fP.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){fP.setUTCMinutes.apply(this._,arguments)},setMonth:function(){fP.setUTCMonth.apply(this._,arguments)},setSeconds:function(){fP.setUTCSeconds.apply(this._,arguments)},setTime:function(){fP.setTime.apply(this._,arguments)}};var fP=Date.prototype;var S="%a %b %e %X %Y",eF="%m/%d/%Y",c2="%H:%M:%S";var cd=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],cK=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ch=["January","February","March","April","May","June","July","August","September","October","November","December"],aI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function cR(hN,e,hJ){function hQ(hR){var hT=hN(hR),hS=hL(hT,1);return hR-hT<hS-hR?hT:hS}function hP(hR){e(hR=hN(new g1(hR-1)),1);return hR}function hL(hS,hR){e(hS=new g1(+hS),hR);return hS}function hM(hT,hS,hR){var hU=hP(hT),hV=[];if(hR>1){while(hU<hS){if(!(hJ(hU)%hR)){hV.push(new Date(+hU))}e(hU,1)}}else{while(hU<hS){hV.push(new Date(+hU)),e(hU,1)}}return hV}function hK(hU,hT,hS){try{g1=cb;var hR=new cb();hR._=hU;return hM(hR,hT,hS)}finally{g1=Date}}hN.floor=hN;hN.round=hQ;hN.ceil=hP;hN.offset=hL;hN.range=hM;var hO=hN.utc=dI(hN);hO.floor=hO;hO.round=dI(hQ);hO.ceil=dI(hP);hO.offset=dI(hL);hO.range=hK;return hN}function dI(e){return function(hK,hJ){try{g1=cb;var hL=new cb();hL._=hK;return e(hL,hJ)._}finally{g1=Date}}}fv.year=cR(function(e){e=fv.day(e);e.setMonth(0,1);return e},function(e,hJ){e.setFullYear(e.getFullYear()+hJ)},function(e){return e.getFullYear()});fv.years=fv.year.range;fv.years.utc=fv.year.utc.range;fv.day=cR(function(hJ){var e=new g1(2000,0);e.setFullYear(hJ.getFullYear(),hJ.getMonth(),hJ.getDate());return e},function(e,hJ){e.setDate(e.getDate()+hJ)},function(e){return e.getDate()-1});fv.days=fv.day.range;fv.days.utc=fv.day.utc.range;fv.dayOfYear=function(e){var hJ=fv.year(e);return Math.floor((e-hJ-(e.getTimezoneOffset()-hJ.getTimezoneOffset())*60000)/86400000)};o.forEach(function(hJ,hK){hJ=hJ.toLowerCase();hK=7-hK;var e=fv[hJ]=cR(function(hL){(hL=fv.day(hL)).setDate(hL.getDate()-(hL.getDay()+hK)%7);return hL},function(hL,hM){hL.setDate(hL.getDate()+Math.floor(hM)*7)},function(hM){var hL=fv.year(hM).getDay();return Math.floor((fv.dayOfYear(hM)+(hL+hK)%7)/7)-(hL!==hK)});fv[hJ+"s"]=e.range;fv[hJ+"s"].utc=e.utc.range;fv[hJ+"OfYear"]=function(hM){var hL=fv.year(hM).getDay();return Math.floor((fv.dayOfYear(hM)+(hL+hK)%7)/7)}});fv.week=fv.sunday;fv.weeks=fv.sunday.range;fv.weeks.utc=fv.sunday.utc.range;fv.weekOfYear=fv.sundayOfYear;fv.format=hH;function hH(e){var hK=e.length;function hJ(hN){var hM=[],hO=-1,hL=0,hR,hQ,hP;while(++hO<hK){if(e.charCodeAt(hO)===37){hM.push(e.substring(hL,hO));if((hQ=aL[hR=e.charAt(++hO)])!=null){hR=e.charAt(++hO)}if(hP=gh[hR]){hR=hP(hN,hQ==null?hR==="e"?" ":"0":hQ)}hM.push(hR);hL=hO+1}}hM.push(e.substring(hL,hO));return hM.join("")}hJ.parse=function(hN){var hP={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},hO=dT(hP,e,hN,0);if(hO!=hN.length){return null}if("p" in hP){hP.H=hP.H%12+hP.p*12}var hL=hP.Z!=null&&g1!==cb,hM=new (hL?cb:g1)();if("j" in hP){hM.setFullYear(hP.y,0,hP.j)}else{if("w" in hP&&("W" in hP||"U" in hP)){hM.setFullYear(hP.y,0,1);hM.setFullYear(hP.y,0,"W" in hP?(hP.w+6)%7+hP.W*7-(hM.getDay()+5)%7:hP.w+hP.U*7-(hM.getDay()+6)%7)}else{hM.setFullYear(hP.y,hP.m,hP.d)}}hM.setHours(hP.H+Math.floor(hP.Z/100),hP.M+hP.Z%100,hP.S,hP.L);return hL?hM._:hM};hJ.toString=function(){return e};return hJ}function dT(hL,hQ,hO,hM){var hP,e,hR,hN=0,hJ=hQ.length,hK=hO.length;while(hN<hJ){if(hM>=hK){return -1}hP=hQ.charCodeAt(hN++);if(hP===37){hR=hQ.charAt(hN++);e=ho[hR in aL?hQ.charAt(hN++):hR];if(!e||(hM=e(hL,hO,hM))<0){return -1}}else{if(hP!=hO.charCodeAt(hM++)){return -1}}}return hM}function cC(e){return new RegExp("^(?:"+e.map(gX.requote).join("|")+")","i")}function gB(hK){var hJ=new aG(),e=-1,hL=hK.length;while(++e<hL){hJ.set(hK[e].toLowerCase(),e)}return hJ}function dl(hM,hN,hK){var e=hM<0?"-":"",hJ=(e?-hM:hM)+"",hL=hJ.length;return e+(hL<hK?new Array(hK-hL+1).join(hN)+hJ:hJ)}var hb=cC(cd),a7=gB(cd),fx=cC(cK),dZ=gB(cK),gM=cC(ch),fk=gB(ch),eK=cC(aI),eR=gB(aI),eW=/^%/;var aL={"-":"",_:" ","0":"0"};var gh={a:function(e){return cK[e.getDay()]},A:function(e){return cd[e.getDay()]},b:function(e){return aI[e.getMonth()]},B:function(e){return ch[e.getMonth()]},c:hH(S),d:function(hJ,e){return dl(hJ.getDate(),e,2)},e:function(hJ,e){return dl(hJ.getDate(),e,2)},H:function(hJ,e){return dl(hJ.getHours(),e,2)},I:function(hJ,e){return dl(hJ.getHours()%12||12,e,2)},j:function(hJ,e){return dl(1+fv.dayOfYear(hJ),e,3)},L:function(hJ,e){return dl(hJ.getMilliseconds(),e,3)},m:function(hJ,e){return dl(hJ.getMonth()+1,e,2)},M:function(hJ,e){return dl(hJ.getMinutes(),e,2)},p:function(e){return e.getHours()>=12?"PM":"AM"},S:function(hJ,e){return dl(hJ.getSeconds(),e,2)},U:function(hJ,e){return dl(fv.sundayOfYear(hJ),e,2)},w:function(e){return e.getDay()},W:function(hJ,e){return dl(fv.mondayOfYear(hJ),e,2)},x:hH(eF),X:hH(c2),y:function(hJ,e){return dl(hJ.getFullYear()%100,e,2)},Y:function(hJ,e){return dl(hJ.getFullYear()%10000,e,4)},Z:fK,"%":function(){return"%"}};var ho={a:gH,A:cw,b:aY,B:eL,c:ej,d:bT,e:bT,H:aO,I:aO,j:G,L:gC,m:gp,M:cO,p:g9,S:dN,U:bl,w:dH,W:dx,x:hE,X:gl,y:P,Y:bs,Z:a1,"%":fg};function gH(hJ,e,hK){fx.lastIndex=0;var hL=fx.exec(e.substring(hK));return hL?(hJ.w=dZ.get(hL[0].toLowerCase()),hK+hL[0].length):-1}function cw(hJ,e,hK){hb.lastIndex=0;var hL=hb.exec(e.substring(hK));return hL?(hJ.w=a7.get(hL[0].toLowerCase()),hK+hL[0].length):-1}function dH(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+1));return hL?(hJ.w=+hL[0],hK+hL[0].length):-1}function bl(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK));return hL?(hJ.U=+hL[0],hK+hL[0].length):-1}function dx(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK));return hL?(hJ.W=+hL[0],hK+hL[0].length):-1}function aY(hJ,e,hK){eK.lastIndex=0;var hL=eK.exec(e.substring(hK));return hL?(hJ.m=eR.get(hL[0].toLowerCase()),hK+hL[0].length):-1}function eL(hJ,e,hK){gM.lastIndex=0;var hL=gM.exec(e.substring(hK));return hL?(hJ.m=fk.get(hL[0].toLowerCase()),hK+hL[0].length):-1}function ej(hJ,e,hK){return dT(hJ,gh.c.toString(),e,hK)}function hE(hJ,e,hK){return dT(hJ,gh.x.toString(),e,hK)}function gl(hJ,e,hK){return dT(hJ,gh.X.toString(),e,hK)}function bs(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+4));return hL?(hJ.y=+hL[0],hK+hL[0].length):-1}function P(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.y=cU(+hL[0]),hK+hL[0].length):-1}function a1(hJ,e,hK){return/^[+-]\d{4}$/.test(e=e.substring(hK,hK+5))?(hJ.Z=+e,hK+5):-1}function cU(e){return e+(e>68?1900:2000)}function gp(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.m=hL[0]-1,hK+hL[0].length):-1}function bT(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.d=+hL[0],hK+hL[0].length):-1}function G(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+3));return hL?(hJ.j=+hL[0],hK+hL[0].length):-1}function aO(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.H=+hL[0],hK+hL[0].length):-1}function cO(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.M=+hL[0],hK+hL[0].length):-1}function dN(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+2));return hL?(hJ.S=+hL[0],hK+hL[0].length):-1}function gC(hJ,e,hK){fT.lastIndex=0;var hL=fT.exec(e.substring(hK,hK+3));return hL?(hJ.L=+hL[0],hK+hL[0].length):-1}var fT=/^\s*\d+/;function g9(hJ,e,hK){var hL=d.get(e.substring(hK,hK+=2).toLowerCase());return hL==null?-1:(hJ.p=hL,hK)}var d=gX.map({am:0,pm:1});function fK(hM){var hL=hM.getTimezoneOffset(),hK=hL>0?"-":"+",hJ=~~(Math.abs(hL)/60),e=Math.abs(hL)%60;return hK+dl(hJ,"0",2)+dl(e,"0",2)}function fg(hJ,e,hK){eW.lastIndex=0;var hL=eW.exec(e.substring(hK,hK+1));return hL?hK+hL[0].length:-1}hH.utc=c5;function c5(hJ){var e=hH(hJ);function hK(hL){try{g1=cb;var hM=new g1();hM._=hL;return e(hM)}finally{g1=Date}}hK.parse=function(hM){try{g1=cb;var hL=e.parse(hM);return hL&&hL._}finally{g1=Date}};hK.toString=e.toString;return hK}var dF=c5("%Y-%m-%dT%H:%M:%S.%LZ");hH.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?dk:dF;function dk(e){return e.toISOString()}dk.parse=function(hJ){var e=new Date(hJ);return isNaN(e)?null:e};dk.toString=dF.toString;fv.second=cR(function(e){return new g1(Math.floor(e/1000)*1000)},function(e,hJ){e.setTime(e.getTime()+Math.floor(hJ)*1000)},function(e){return e.getSeconds()});fv.seconds=fv.second.range;fv.seconds.utc=fv.second.utc.range;fv.minute=cR(function(e){return new g1(Math.floor(e/60000)*60000)},function(e,hJ){e.setTime(e.getTime()+Math.floor(hJ)*60000)},function(e){return e.getMinutes()});fv.minutes=fv.minute.range;fv.minutes.utc=fv.minute.utc.range;fv.hour=cR(function(e){var hJ=e.getTimezoneOffset()/60;return new g1((Math.floor(e/3600000-hJ)+hJ)*3600000)},function(e,hJ){e.setTime(e.getTime()+Math.floor(hJ)*3600000)},function(e){return e.getHours()});fv.hours=fv.hour.range;fv.hours.utc=fv.hour.utc.range;fv.month=cR(function(e){e=fv.day(e);e.setDate(1);return e},function(e,hJ){e.setMonth(e.getMonth()+hJ)},function(e){return e.getMonth()});fv.months=fv.month.range;fv.months.utc=fv.month.utc.range;function bi(e,hJ,hK){function hL(hN){return e(hN)}hL.invert=function(hN){return fO(e.invert(hN))};hL.domain=function(hN){if(!arguments.length){return e.domain().map(fO)}e.domain(hN);return hL};function hM(hP,hQ){var hO=hP[1]-hP[0],hR=hO/hQ,hN=gX.bisect(e0,hR);return hN==e0.length?[hJ.year,p(hP.map(function(hS){return hS/31536000000}),hQ)[2]]:!hN?[cr,p(hP,hQ)[2]]:hJ[hR/e0[hN-1]<e0[hN]/hR?hN-1:hN]}hL.nice=function(hO,hQ){var hR=hL.domain(),hP=eh(hR),hS=hO==null?hM(hP,10):typeof hO==="number"&&hM(hP,hO);if(hS){hO=hS[0],hQ=hS[1]}function hN(hT){return !isNaN(hT)&&!hO.range(hT,fO(+hT+1),hQ).length}return hL.domain(f3(hR,hQ>1?{floor:function(hT){while(hN(hT=hO.floor(hT))){hT=fO(hT-1)}return hT},ceil:function(hT){while(hN(hT=hO.ceil(hT))){hT=fO(+hT+1)}return hT}}:hO))};hL.ticks=function(hN,hP){var hO=eh(hL.domain()),hQ=hN==null?hM(hO,10):typeof hN==="number"?hM(hO,hN):!hN.range&&[{range:hN},hP];if(hQ){hN=hQ[0],hP=hQ[1]}return hN.range(hO[0],fO(+hO[1]+1),hP)};hL.tickFormat=function(){return hK};hL.copy=function(){return bi(e.copy(),hJ,hK)};return fW(hL,e)}function fO(e){return new Date(e)}function cN(e){return function(hJ){var hK=e.length-1,hL=e[hK];while(!hL[1](hJ)){hL=e[--hK]}return hL[0](hJ)}}var e0=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var cv=[[fv.second,1],[fv.second,5],[fv.second,15],[fv.second,30],[fv.minute,1],[fv.minute,5],[fv.minute,15],[fv.minute,30],[fv.hour,1],[fv.hour,3],[fv.hour,6],[fv.hour,12],[fv.day,1],[fv.day,2],[fv.week,1],[fv.month,1],[fv.month,3],[fv.year,1]];var fl=[[hH("%Y"),aj],[hH("%B"),function(e){return e.getMonth()}],[hH("%b %d"),function(e){return e.getDate()!=1}],[hH("%a %d"),function(e){return e.getDay()&&e.getDate()!=1}],[hH("%I %p"),function(e){return e.getHours()}],[hH("%I:%M"),function(e){return e.getMinutes()}],[hH(":%S"),function(e){return e.getSeconds()}],[hH(".%L"),function(e){return e.getMilliseconds()}]];var U=cN(fl);cv.year=fv.year;fv.scale=function(){return bi(gX.scale.linear(),cv,U)};var cr={range:function(hK,e,hJ){return gX.range(+hK,+e,hJ).map(fO)}};var ht=cv.map(function(e){return[e[0].utc,e[1]]});var b8=[[c5("%Y"),aj],[c5("%B"),function(e){return e.getUTCMonth()}],[c5("%b %d"),function(e){return e.getUTCDate()!=1}],[c5("%a %d"),function(e){return e.getUTCDay()&&e.getUTCDate()!=1}],[c5("%I %p"),function(e){return e.getUTCHours()}],[c5("%I:%M"),function(e){return e.getUTCMinutes()}],[c5(":%S"),function(e){return e.getUTCSeconds()}],[c5(".%L"),function(e){return e.getUTCMilliseconds()}]];var eQ=cN(b8);ht.year=fv.year.utc;fv.scale.utc=function(){return bi(gX.scale.linear(),ht,eQ)};gX.text=Z(function(e){return e.responseText});gX.json=function(e,hJ){return hw(e,"application/json",dB,hJ)};function dB(e){return JSON.parse(e.responseText)}gX.html=function(e,hJ){return hw(e,"text/html",hG,hJ)};function hG(hJ){var e=bF.createRange();e.selectNode(bF.body);return e.createContextualFragment(hJ.responseText)}gX.xml=Z(function(e){return e.responseXML});return gX}();(function(B){function g(){var P=[256,256],N=r,D=s,O=b,G=k,L=k,H=t,M=n,I=u,K=[],J=Infinity,c=d3.dispatch("word","end"),C=null,E={};E.start=function(){var S=m((P[0]>>5)*P[1]),U=null,W=K.length,R=-1,Q=[],V=K.map(function(Y,X){Y.text=N.call(this,Y,X);Y.font=D.call(this,Y,X);Y.style=G.call(this,Y,X);Y.weight=L.call(this,Y,X);Y.rotate=H.call(this,Y,X);Y.size=~~O.call(this,Y,X);Y.padding=M.call(this,Y,X);return Y}).sort(function(Y,X){return X.size-Y.size});if(C){clearInterval(C)}C=setInterval(T,0);T();return E;function T(){var Y=+new Date,X;while(+new Date-Y<J&&++R<W&&C){X=V[R];X.x=(P[0]*(Math.random()+0.5))>>1;X.y=(P[1]*(Math.random()+0.5))>>1;q(X,V,R);if(X.hasText&&F(S,X,U)){Q.push(X);c.word(X);if(U){i(U,X)}else{U=[{x:X.x+X.x0,y:X.y+X.y0},{x:X.x+X.x1,y:X.y+X.y1}]}X.x-=P[0]>>1;X.y-=P[1]>>1}}if(R>=W){E.stop();c.end(Q,U)}}};E.stop=function(){if(C){clearInterval(C);C=null}return E};E.timeInterval=function(Q){if(!arguments.length){return J}J=Q==null?Infinity:Q;return E};function F(U,an,T){var R=[{x:0,y:0},{x:P[0],y:P[1]}],al=an.x,ak=an.y,Q=Math.sqrt(P[0]*P[0]+P[1]*P[1]),ab=I(P),ac=Math.random()<0.5?1:-1,aa=-ac,ah,Z,X;while(ah=ab(aa+=ac)){Z=~~ah[0];X=~~ah[1];if(Math.min(Z,X)>Q){break}an.x=al+Z;an.y=ak+X;if(an.x+an.x0<0||an.y+an.y0<0||an.x+an.x1>P[0]||an.y+an.y1>P[1]){continue}if(!T||!j(an,U,P[0])){if(!T||f(an,T)){var af=an.sprite,Y=an.width>>5,ae=P[0]>>5,S=an.x-(Y<<4),ad=S&127,am=32-ad,aj=an.y1-an.y0,W=(an.y+an.y0)*ae+(S>>5),V;for(var ag=0;ag<aj;ag++){V=0;for(var ai=0;ai<=Y;ai++){U[W+ai]|=(V<<am)|(ai<Y?(V=af[ag*Y+ai])>>>ad:0)}W+=ae}delete an.sprite;return true}}}return false}E.words=function(Q){if(!arguments.length){return K}K=Q;return E};E.size=function(Q){if(!arguments.length){return P}P=[+Q[0],+Q[1]];return E};E.font=function(Q){if(!arguments.length){return D}D=d3.functor(Q);return E};E.fontStyle=function(Q){if(!arguments.length){return G}G=d3.functor(Q);return E};E.fontWeight=function(Q){if(!arguments.length){return L}L=d3.functor(Q);return E};E.rotate=function(Q){if(!arguments.length){return H}H=d3.functor(Q);return E};E.text=function(Q){if(!arguments.length){return N}N=d3.functor(Q);return E};E.spiral=function(Q){if(!arguments.length){return I}I=a[Q+""]||Q;return E};E.fontSize=function(Q){if(!arguments.length){return O}O=d3.functor(Q);return E};E.padding=function(Q){if(!arguments.length){return M}M=d3.functor(Q);return E};return d3.rebind(E,c,"on")}function r(c){return c.text}function s(){return"serif"}function k(){return"normal"}function b(c){return Math.sqrt(c.value)}function t(){return(~~(Math.random()*6)-3)*30}function n(){return 1}function q(X,Y,V){if(X.sprite){return}v.clearRect(0,0,(e<<5)/h,l/h);var H=0,G=0,J=0,N=Y.length;--V;while(++V<N){X=Y[V];v.save();v.font=X.style+" "+X.weight+" "+~~((X.size+1)/h)+"px "+X.font;var I=v.measureText(X.text+"m").width*h,U=X.size<<1;if(X.rotate){var Q=Math.sin(X.rotate*w),F=Math.cos(X.rotate*w),C=I*F,K=I*Q,W=U*F,E=U*Q;I=(Math.max(Math.abs(C+E),Math.abs(C-E))+31)>>5<<5;U=~~Math.max(Math.abs(K+W),Math.abs(K-W))}else{I=(I+31)>>5<<5}if(U>J){J=U}if(H+I>=(e<<5)){H=0;G+=J;J=0}if(G+U>=l){break}v.translate((H+(I>>1))/h,(G+(U>>1))/h);if(X.rotate){v.rotate(X.rotate*w)}v.fillText(X.text,0,0);if(X.padding){v.lineWidth=2*X.padding,v.strokeText(X.text,0,0)}v.restore();X.width=I;X.height=U;X.xoff=H;X.yoff=G;X.x1=I>>1;X.y1=U>>1;X.x0=-X.x1;X.y0=-X.y1;X.hasText=true;H+=I}var L=v.getImageData(0,0,(e<<5)/h,l/h).data,M=[];while(--V>=0){X=Y[V];if(!X.hasText){continue}var I=X.width,D=I>>5,U=X.y1-X.y0;for(var T=0;T<U*D;T++){M[T]=0}H=X.xoff;if(H==null){return}G=X.yoff;var c=0,S=-1;for(var R=0;R<U;R++){for(var T=0;T<I;T++){var P=D*R+(T>>5),O=L[((G+R)*(e<<5)+(H+T))<<2]?1<<(31-(T%32)):0;M[P]|=O;c|=O}if(c){S=R}else{X.y0++;U--;R--;G++}}X.y1=X.y0+S;X.sprite=M.slice(0,(X.y1-X.y0)*D)}}function j(N,G,K){K>>=5;var M=N.sprite,J=N.width>>5,c=N.x-(J<<4),I=c&127,F=32-I,E=N.y1-N.y0,H=(N.y+N.y0)*K+(c>>5),L;for(var C=0;C<E;C++){L=0;for(var D=0;D<=J;D++){if(((L<<F)|(D<J?(L=M[C*J+D])>>>I:0))&G[H+D]){return true}}H+=K}return false}function i(D,E){var C=D[0],c=D[1];if(E.x+E.x0<C.x){C.x=E.x+E.x0}if(E.y+E.y0<C.y){C.y=E.y+E.y0}if(E.x+E.x1>c.x){c.x=E.x+E.x1}if(E.y+E.y1>c.y){c.y=E.y+E.y1}}function f(C,c){return C.x+C.x1>c[0].x&&C.x+C.x0<c[1].x&&C.y+C.y1>c[0].y&&C.y+C.y0<c[1].y}function u(c){var C=c[0]/c[1];return function(D){return[C*(D*=0.1)*Math.cos(D),D*Math.sin(D)]}}function p(E){var C=4,D=C*E[0]/E[1],c=0,F=0;return function(H){var G=H<0?-1:1;switch((Math.sqrt(1+4*G*H)-G)&3){case 0:c+=D;break;case 1:F+=C;break;case 2:c-=D;break;default:F-=C;break}return[c,F]}}function m(D){var c=[],C=-1;while(++C<D){c[C]=0}return c}var w=Math.PI/180,e=1<<11>>5,l=1<<11,d,h=1;if(typeof document!=="undefined"){d=document.createElement("canvas");d.width=1;d.height=1;h=Math.sqrt(d.getContext("2d").getImageData(0,0,1,1).data.length>>2);d.width=(e<<5)/h;d.height=l/h}else{var o=require("canvas");d=new o(e<<5,l)}var v=d.getContext("2d"),a={archimedean:u,rectangular:p};v.fillStyle=v.strokeStyle="red";v.textAlign="center";B.cloud=g})(typeof exports==="undefined"?d3.layout||(d3.layout={}):exports);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(f){function b(h){var d=h||window.event,l=[].slice.call(arguments,1),j=0,k=0,i=0,h=f.event.fix(d);h.type="mousewheel";d.wheelDelta&&(j=d.wheelDelta/120);d.detail&&(j=-d.detail/3);i=j;d.axis!==void 0&&d.axis===d.HORIZONTAL_AXIS&&(i=0,k=-1*j);d.wheelDeltaY!==void 0&&(i=d.wheelDeltaY/120);d.wheelDeltaX!==void 0&&(k=-1*d.wheelDeltaX/120);l.unshift(h,j,k,i);return(f.event.dispatch||f.event.handle).apply(this,l)}var g=["DOMMouseScroll","mousewheel"];if(f.event.fixHooks){for(var a=g.length;a;){f.event.fixHooks[g[--a]]=f.event.mouseHooks}}f.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var c=g.length;c;){this.addEventListener(g[--c],b,false)}}else{this.onmousewheel=b}},teardown:function(){if(this.removeEventListener){for(var c=g.length;c;){this.removeEventListener(g[--c],b,false)}}else{this.onmousewheel=null}}};f.fn.extend({mousewheel:function(c){return c?this.bind("mousewheel",c):this.trigger("mousewheel")},unmousewheel:function(c){return this.unbind("mousewheel",c)}})})(jQuery);
/*! fancyBox v2.1.4 fancyapps.com | fancyapps.com/fancybox/#license */
(function(c,j,i,a){var d=i(c),g=i(j),k=i.fancybox=function(){k.open.apply(this,arguments)},u=navigator.userAgent.match(/msie/),o=null,D=j.createTouch!==a,B=function(b){return b&&b.hasOwnProperty&&b instanceof i},e=function(b){return b&&"string"===i.type(b)},v=function(b){return e(b)&&0<b.indexOf("%")},h=function(b,l){var f=parseInt(b,10)||0;l&&v(b)&&(f*=k.getViewport()[l]/100);return Math.ceil(f)},m=function(l,f){return h(l,f)+"px"};i.extend(k,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!D,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(u?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,f){if(b&&(i.isPlainObject(f)||(f={}),!1!==k.close(!0))){return i.isArray(b)||(b=B(b)?i(b).get():[b]),i.each(b,function(w,C){var q={},t,s,r,n,p;"object"===i.type(C)&&(C.nodeType&&(C=i(C)),B(C)?(q={href:C.data("fancybox-href")||C.attr("href"),title:C.data("fancybox-title")||C.attr("title"),isDom:!0,element:C},i.metadata&&i.extend(!0,q,C.metadata())):q=C);t=f.href||q.href||(e(C)?C:null);s=f.title!==a?f.title:q.title||"";n=(r=f.content||q.content)?"html":f.type||q.type;!n&&q.isDom&&(n=C.data("fancybox-type"),n||(n=(n=C.prop("class").match(/fancybox\.(\w+)/))?n[1]:null));e(t)&&(n||(k.isImage(t)?n="image":k.isSWF(t)?n="swf":"#"===t.charAt(0)?n="inline":e(C)&&(n="html",r=C)),"ajax"===n&&(p=t.split(/\s+/,2),t=p.shift(),p=p.shift()));r||("inline"===n?t?r=i(e(t)?t.replace(/.*(?=#[^\s]+$)/,""):t):q.isDom&&(r=C):"html"===n?r=t:!n&&(!t&&q.isDom)&&(n="inline",r=C));i.extend(q,{href:t,type:n,content:r,title:s,selector:p});b[w]=q}),k.opts=i.extend(!0,{},k.defaults,f),f.keys!==a&&(k.opts.keys=f.keys?i.extend({},k.defaults.keys,f.keys):!1),k.group=b,k._start(k.opts.index)}},cancel:function(){var b=k.coming;b&&!1!==k.trigger("onCancel")&&(k.hideLoading(),k.ajaxLoad&&k.ajaxLoad.abort(),k.ajaxLoad=null,k.imgPreload&&(k.imgPreload.onload=k.imgPreload.onerror=null),b.wrap&&b.wrap.stop(!0,!0).trigger("onReset").remove(),k.coming=null,k.current||k._afterZoomOut(b))},close:function(b){k.cancel();!1!==k.trigger("beforeClose")&&(k.unbindEvents(),k.isActive&&(!k.isOpen||!0===b?(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),k._afterZoomOut()):(k.isOpen=k.isOpened=!1,k.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),k.wrap.stop(!0,!0).removeClass("fancybox-opened"),k.transitions[k.current.closeMethod]())))},play:function(b){var l=function(){clearTimeout(k.player.timer)},f=function(){l();k.current&&k.player.isActive&&(k.player.timer=setTimeout(k.next,k.current.playSpeed))},n=function(){l();i("body").unbind(".player");k.player.isActive=!1;k.trigger("onPlayEnd")};if(!0===b||!k.player.isActive&&!1!==b){if(k.current&&(k.current.loop||k.current.index<k.group.length-1)){k.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":f,"onCancel.player beforeClose.player":n,"beforeLoad.player":l}),f(),k.trigger("onPlayStart")}}else{n()}},next:function(b){var f=k.current;f&&(e(b)||(b=f.direction.next),k.jumpto(f.index+1,b,"next"))},prev:function(b){var f=k.current;f&&(e(b)||(b=f.direction.prev),k.jumpto(f.index-1,b,"prev"))},jumpto:function(b,l,f){var n=k.current;n&&(b=h(b),k.direction=l||n.direction[b>=n.index?"next":"prev"],k.router=f||"jumpto",n.loop&&(0>b&&(b=n.group.length+b%n.group.length),b%=n.group.length),n.group[b]!==a&&(k.cancel(),k._start(b)))},reposition:function(b,n){var l=k.current,p=l?l.wrap:null,f;p&&(f=k._getPosition(n),b&&"scroll"===b.type?(delete f.position,p.stop(!0,!0).animate(f,200)):(p.css(f),l.pos=i.extend({},l.dim,f)))},update:function(b){var l=b&&b.type,f=!l||"orientationchange"===l;f&&(clearTimeout(o),o=null);k.isOpen&&!o&&(o=setTimeout(function(){var n=k.current;n&&!k.isClosing&&(k.wrap.removeClass("fancybox-tmp"),(f||"load"===l||"resize"===l&&n.autoResize)&&k._setDimension(),"scroll"===l&&n.canShrink||k.reposition(b),k.trigger("onUpdate"),o=null)},f&&!D?0:300))},toggle:function(b){k.isOpen&&(k.current.fitToView="boolean"===i.type(b)?b:!k.current.fitToView,D&&(k.wrap.removeAttr("style").addClass("fancybox-tmp"),k.trigger("onUpdate")),k.update())},hideLoading:function(){g.unbind(".loading");i("#fancybox-loading").remove()},showLoading:function(){var b,f;k.hideLoading();b=i('<div id="fancybox-loading"><div></div></div>').click(k.cancel).appendTo("body");g.bind("keydown.loading",function(l){if(27===(l.which||l.keyCode)){l.preventDefault(),k.cancel()}});k.defaults.fixed||(f=k.getViewport(),b.css({position:"absolute",top:0.5*f.h+f.y,left:0.5*f.w+f.x}))},getViewport:function(){var b=k.current&&k.current.locked||!1,f={x:d.scrollLeft(),y:d.scrollTop()};b?(f.w=b[0].clientWidth,f.h=b[0].clientHeight):(f.w=D&&c.innerWidth?c.innerWidth:d.width(),f.h=D&&c.innerHeight?c.innerHeight:d.height());return f},unbindEvents:function(){k.wrap&&B(k.wrap)&&k.wrap.unbind(".fb");g.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var b=k.current,f;b&&(d.bind("orientationchange.fb"+(D?"":" resize.fb")+(b.autoCenter&&!b.locked?" scroll.fb":""),k.update),(f=b.keys)&&g.bind("keydown.fb",function(n){var p=n.which||n.keyCode,l=n.target||n.srcElement;if(27===p&&k.coming){return !1}!n.ctrlKey&&(!n.altKey&&!n.shiftKey&&!n.metaKey&&(!l||!l.type&&!i(l).is("[contenteditable]")))&&i.each(f,function(r,q){if(1<b.group.length&&q[p]!==a){return k[r](q[p]),n.preventDefault(),!1}if(-1<i.inArray(p,q)){return k[r](),n.preventDefault(),!1}})}),i.fn.mousewheel&&b.mouseWheel&&k.wrap.bind("mousewheel.fb",function(r,s,l,q){for(var p=i(r.target||null),n=!1;p.length&&!n&&!p.is(".fancybox-skin")&&!p.is(".fancybox-wrap");){n=p[0]&&!(p[0].style.overflow&&"hidden"===p[0].style.overflow)&&(p[0].clientWidth&&p[0].scrollWidth>p[0].clientWidth||p[0].clientHeight&&p[0].scrollHeight>p[0].clientHeight),p=i(p).parent()}if(0!==s&&!n&&1<k.group.length&&!b.canShrink){if(0<q||0<l){k.prev(0<q?"down":"left")}else{if(0>q||0>l){k.next(0>q?"up":"right")}}r.preventDefault()}}))},trigger:function(b,l){var f,n=l||k.coming||k.current;if(n){i.isFunction(n[b])&&(f=n[b].apply(n,Array.prototype.slice.call(arguments,1)));if(!1===f){return !1}n.helpers&&i.each(n.helpers,function(q,p){p&&(k.helpers[q]&&i.isFunction(k.helpers[q][b]))&&(p=i.extend(!0,{},k.helpers[q].defaults,p),k.helpers[q][b](p,n))});i.event.trigger(b+".fb")}},isImage:function(b){return e(b)&&b.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(b){return e(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(b){var l={},f,n;b=h(b);f=k.group[b]||null;if(!f){return !1}l=i.extend(!0,{},k.opts,f);f=l.margin;n=l.padding;"number"===i.type(f)&&(l.margin=[f,f,f,f]);"number"===i.type(n)&&(l.padding=[n,n,n,n]);l.modal&&i.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});l.autoSize&&(l.autoWidth=l.autoHeight=!0);"auto"===l.width&&(l.autoWidth=!0);"auto"===l.height&&(l.autoHeight=!0);l.group=k.group;l.index=b;k.coming=l;if(!1===k.trigger("beforeLoad")){k.coming=null}else{n=l.type;f=l.href;if(!n){return k.coming=null,k.current&&k.router&&"jumpto"!==k.router?(k.current.index=b,k[k.router](k.direction)):!1}k.isActive=!0;if("image"===n||"swf"===n){l.autoHeight=l.autoWidth=!1,l.scrolling="visible"}"image"===n&&(l.aspectRatio=!0);"iframe"===n&&D&&(l.scrolling="scroll");l.wrap=i(l.tpl.wrap).addClass("fancybox-"+(D?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body");i.extend(l,{skin:i(".fancybox-skin",l.wrap),outer:i(".fancybox-outer",l.wrap),inner:i(".fancybox-inner",l.wrap)});i.each(["Top","Right","Bottom","Left"],function(q,p){l.skin.css("padding"+p,m(l.padding[q]))});k.trigger("onReady");if("inline"===n||"html"===n){if(!l.content||!l.content.length){return k._error("content")}}else{if(!f){return k._error("href")}}"image"===n?k._loadImage():"ajax"===n?k._loadAjax():"iframe"===n?k._loadIframe():k._afterLoad()}},_error:function(b){i.extend(k.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:b,content:k.coming.tpl.error});k._afterLoad()},_loadImage:function(){var b=k.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;k.coming.width=this.width;k.coming.height=this.height;k._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;k._error("image")};b.src=k.coming.href;!0!==b.complete&&k.showLoading()},_loadAjax:function(){var b=k.coming;k.showLoading();k.ajaxLoad=i.ajax(i.extend({},b.ajax,{url:b.href,error:function(f,l){k.coming&&"abort"!==l?k._error("ajax",f):k.hideLoading()},success:function(l,f){"success"===f&&(b.content=l,k._afterLoad())}}))},_loadIframe:function(){var b=k.coming,f=i(b.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",D?"auto":b.iframe.scrolling).attr("src",b.href);i(b.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(l){}});b.iframe.preload&&(k.showLoading(),f.one("load",function(){i(this).data("ready",1);D||i(this).bind("load.fb",k.update);i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();k._afterLoad()}));b.content=f.appendTo(b.inner);b.iframe.preload||k._afterLoad()},_preloadImages:function(){var b=k.group,q=k.current,p=b.length,r=q.preload?Math.min(q.preload,p-1):0,n,l;for(l=1;l<=r;l+=1){n=b[(q.index+l)%p],"image"===n.type&&n.href&&((new Image).src=n.href)}},_afterLoad:function(){var b=k.coming,q=k.current,p,r,f,n,l;k.hideLoading();if(b&&!1!==k.isActive){if(!1===k.trigger("afterLoad",b,q)){b.wrap.stop(!0).trigger("onReset").remove(),k.coming=null}else{q&&(k.trigger("beforeChange",q),q.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());k.unbindEvents();p=b.content;r=b.type;f=b.scrolling;i.extend(k,{wrap:b.wrap,skin:b.skin,outer:b.outer,inner:b.inner,current:b,previous:q});n=b.href;switch(r){case"inline":case"ajax":case"html":b.selector?p=i("<div>").html(p).find(b.selector):B(p)&&(p.data("fancybox-placeholder")||p.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(p).hide()),p=p.show().detach(),b.wrap.bind("onReset",function(){i(this).find(p).length&&p.hide().replaceAll(p.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":p=b.tpl.image.replace("{href}",n);break;case"swf":p='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',l="",i.each(b.swf,function(t,s){p+='<param name="'+t+'" value="'+s+'"></param>';l+=" "+t+'="'+s+'"'}),p+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+l+"></embed></object>"}(!B(p)||!p.parent().is(b.inner))&&b.inner.append(p);k.trigger("beforeShow");b.inner.css("overflow","yes"===f?"scroll":"no"===f?"hidden":f);k._setDimension();k.reposition();k.isOpen=!1;k.coming=null;k.bindEvents();if(k.isOpened){if(q.prevMethod){k.transitions[q.prevMethod]()}}else{i(".fancybox-wrap").not(b.wrap).stop(!0).trigger("onReset").remove()}k.transitions[k.isOpened?b.nextMethod:b.openMethod]();k._preloadImages()}}},_setDimension:function(){var ae=k.getViewport(),ac=0,ab=!1,ad=!1,ab=k.wrap,X=k.skin,aa=k.inner,Z=k.current,ad=Z.width,Y=Z.height,W=Z.minWidth,K=Z.minHeight,V=Z.maxWidth,J=Z.maxHeight,O=Z.scrolling,S=Z.scrollOutside?Z.scrollbarWidth:0,f=Z.margin,U=h(f[1]+f[3]),Q=h(f[0]+f[2]),b,T,M,N,R,I,P,L,F;ab.add(X).add(aa).width("auto").height("auto").removeClass("fancybox-tmp");f=h(X.outerWidth(!0)-X.width());b=h(X.outerHeight(!0)-X.height());T=U+f;M=Q+b;N=v(ad)?(ae.w-T)*h(ad)/100:ad;R=v(Y)?(ae.h-M)*h(Y)/100:Y;if("iframe"===Z.type){if(F=Z.content,Z.autoHeight&&1===F.data("ready")){try{F[0].contentWindow.document.location&&(aa.width(N).height(9999),I=F.contents().find("body"),S&&I.css("overflow-x","hidden"),R=I.height())}catch(l){}}}else{if(Z.autoWidth||Z.autoHeight){aa.addClass("fancybox-tmp"),Z.autoWidth||aa.width(N),Z.autoHeight||aa.height(R),Z.autoWidth&&(N=aa.width()),Z.autoHeight&&(R=aa.height()),aa.removeClass("fancybox-tmp")}}ad=h(N);Y=h(R);L=N/R;W=h(v(W)?h(W,"w")-T:W);V=h(v(V)?h(V,"w")-T:V);K=h(v(K)?h(K,"h")-M:K);J=h(v(J)?h(J,"h")-M:J);I=V;P=J;Z.fitToView&&(V=Math.min(ae.w-T,V),J=Math.min(ae.h-M,J));T=ae.w-U;Q=ae.h-Q;Z.aspectRatio?(ad>V&&(ad=V,Y=h(ad/L)),Y>J&&(Y=J,ad=h(Y*L)),ad<W&&(ad=W,Y=h(ad/L)),Y<K&&(Y=K,ad=h(Y*L))):(ad=Math.max(W,Math.min(ad,V)),Z.autoHeight&&"iframe"!==Z.type&&(aa.width(ad),Y=aa.height()),Y=Math.max(K,Math.min(Y,J)));if(Z.fitToView){if(aa.width(ad).height(Y),ab.width(ad+f),ae=ab.width(),U=ab.height(),Z.aspectRatio){for(;(ae>T||U>Q)&&(ad>W&&Y>K)&&!(19<ac++);){Y=Math.max(K,Math.min(J,Y-10)),ad=h(Y*L),ad<W&&(ad=W,Y=h(ad/L)),ad>V&&(ad=V,Y=h(ad/L)),aa.width(ad).height(Y),ab.width(ad+f),ae=ab.width(),U=ab.height()}}else{ad=Math.max(W,Math.min(ad,ad-(ae-T))),Y=Math.max(K,Math.min(Y,Y-(U-Q)))}}S&&("auto"===O&&Y<R&&ad+f+S<T)&&(ad+=S);aa.width(ad).height(Y);ab.width(ad+f);ae=ab.width();U=ab.height();ab=(ae>T||U>Q)&&ad>W&&Y>K;ad=Z.aspectRatio?ad<I&&Y<P&&ad<N&&Y<R:(ad<I||Y<P)&&(ad<N||Y<R);i.extend(Z,{dim:{width:m(ae),height:m(U)},origWidth:N,origHeight:R,canShrink:ab,canExpand:ad,wPadding:f,hPadding:b,wrapSpace:U-X.outerHeight(!0),skinSpace:X.height()-Y});!F&&(Z.autoHeight&&Y>K&&Y<J&&!ad)&&aa.height("auto")},_getPosition:function(b){var q=k.current,p=k.getViewport(),r=q.margin,n=k.wrap.width()+r[1]+r[3],l=k.wrap.height()+r[0]+r[2],r={position:"absolute",top:r[0],left:r[3]};q.autoCenter&&q.fixed&&!b&&l<=p.h&&n<=p.w?r.position="fixed":q.locked||(r.top+=p.y,r.left+=p.x);r.top=m(Math.max(r.top,r.top+(p.h-l)*q.topRatio));r.left=m(Math.max(r.left,r.left+(p.w-n)*q.leftRatio));return r},_afterZoomIn:function(){var b=k.current;b&&(k.isOpen=k.isOpened=!0,k.wrap.css("overflow","visible").addClass("fancybox-opened"),k.update(),(b.closeClick||b.nextClick&&1<k.group.length)&&k.inner.css("cursor","pointer").bind("click.fb",function(f){!i(f.target).is("a")&&!i(f.target).parent().is("a")&&(f.preventDefault(),k[b.closeClick?"close":"next"]())}),b.closeBtn&&i(b.tpl.closeBtn).appendTo(k.skin).bind("click.fb",function(f){f.preventDefault();k.close()}),b.arrows&&1<k.group.length&&((b.loop||0<b.index)&&i(b.tpl.prev).appendTo(k.outer).bind("click.fb",k.prev),(b.loop||b.index<k.group.length-1)&&i(b.tpl.next).appendTo(k.outer).bind("click.fb",k.next)),k.trigger("afterShow"),!b.loop&&b.index===b.group.length-1?k.play(!1):k.opts.autoPlay&&!k.player.isActive&&(k.opts.autoPlay=!1,k.play()))},_afterZoomOut:function(b){b=b||k.current;i(".fancybox-wrap").trigger("onReset").remove();i.extend(k,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});k.trigger("afterClose",b)}});k.transitions={getOrigPosition:function(){var w=k.current,s=w.element,r=w.orig,t={},q=50,p=50,n=w.hPadding,l=w.wPadding,b=k.getViewport();!r&&(w.isDom&&s.is(":visible"))&&(r=s.find("img:first"),r.length||(r=s));B(r)?(t=r.offset(),r.is("img")&&(q=r.outerWidth(),p=r.outerHeight())):(t.top=b.y+(b.h-p)*w.topRatio,t.left=b.x+(b.w-q)*w.leftRatio);if("fixed"===k.wrap.css("position")||w.locked){t.top-=b.y,t.left-=b.x}return t={top:m(t.top-n*w.topRatio),left:m(t.left-l*w.leftRatio),width:m(q+l),height:m(p+n)}},step:function(b,r){var q,s,p=r.prop;s=k.current;var n=s.wrapSpace,l=s.skinSpace;if("width"===p||"height"===p){q=r.end===r.start?1:(b-r.start)/(r.end-r.start),k.isClosing&&(q=1-q),s="width"===p?s.wPadding:s.hPadding,s=b-s,k.skin[p](h("width"===p?s:s-n*q)),k.inner[p](h("width"===p?s:s-n*q-l*q))}},zoomIn:function(){var b=k.current,n=b.pos,l=b.openEffect,p="elastic"===l,f=i.extend({opacity:1},n);delete f.position;p?(n=this.getOrigPosition(),b.openOpacity&&(n.opacity=0.1)):"fade"===l&&(n.opacity=0.1);k.wrap.css(n).animate(f,{duration:"none"===l?0:b.openSpeed,easing:b.openEasing,step:p?this.step:null,complete:k._afterZoomIn})},zoomOut:function(){var b=k.current,l=b.closeEffect,f="elastic"===l,n={opacity:0.1};f&&(n=this.getOrigPosition(),b.closeOpacity&&(n.opacity=0.1));k.wrap.animate(n,{duration:"none"===l?0:b.closeSpeed,easing:b.closeEasing,step:f?this.step:null,complete:k._afterZoomOut})},changeIn:function(){var b=k.current,q=b.nextEffect,p=b.pos,r={opacity:1},n=k.direction,l;p.opacity=0.1;"elastic"===q&&(l="down"===n||"up"===n?"top":"left","down"===n||"right"===n?(p[l]=m(h(p[l])-200),r[l]="+=200px"):(p[l]=m(h(p[l])+200),r[l]="-=200px"));"none"===q?k._afterZoomIn():k.wrap.css(p).animate(r,{duration:b.nextSpeed,easing:b.nextEasing,complete:k._afterZoomIn})},changeOut:function(){var b=k.previous,l=b.prevEffect,f={opacity:0.1},n=k.direction;"elastic"===l&&(f["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px");b.wrap.animate(f,{duration:"none"===l?0:b.prevSpeed,easing:b.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}};k.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!D,fixed:!0},overlay:null,fixed:!1,create:function(b){b=i.extend({},this.defaults,b);this.overlay&&this.close();this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body");this.fixed=!1;b.fixed&&k.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(b){var f=this;b=i.extend({},this.defaults,b);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(b);this.fixed||(d.bind("resize.overlay",i.proxy(this.update,this)),this.update());b.closeClick&&this.overlay.bind("click.overlay",function(l){i(l.target).hasClass("fancybox-overlay")&&(k.isActive?k.close():f.close())});this.overlay.css(b.css).show()},close:function(){i(".fancybox-overlay").remove();d.unbind("resize.overlay");this.overlay=null;!1!==this.margin&&(i("body").css("margin-right",this.margin),this.margin=!1);this.el&&this.el.removeClass("fancybox-lock")},update:function(){var l="100%",f;this.overlay.width(l).height("100%");u?(f=Math.max(j.documentElement.offsetWidth,j.body.offsetWidth),g.width()>f&&(l=g.width())):g.width()>d.width()&&(l=g.width());this.overlay.width(l).height(g.height())},onReady:function(l,f){i(".fancybox-overlay").stop(!0,!0);this.overlay||(this.margin=g.height()>d.height()||"scroll"===i("body").css("overflow-y")?i("body").css("margin-right"):!1,this.el=j.all&&!j.querySelector?i("html"):i("body"),this.create(l));l.locked&&this.fixed&&(f.locked=this.overlay.append(f.wrap),f.fixed=!1);!0===l.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(l,f){f.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&i("body").css("margin-right",h(this.margin)+f.scrollbarWidth));this.open(l)},onUpdate:function(){this.fixed||this.update()},afterClose:function(b){this.overlay&&!k.isActive&&this.overlay.fadeOut(b.speedOut,i.proxy(this.close,this))}};k.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(b){var l=k.current,f=l.title,n=b.type;i.isFunction(f)&&(f=f.call(l.element,l));if(e(f)&&""!==i.trim(f)){l=i('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+f+"</div>");switch(n){case"inside":n=k.skin;break;case"outside":n=k.wrap;break;case"over":n=k.inner;break;default:n=k.skin,l.appendTo("body"),u&&l.width(l.width()),l.wrapInner('<span class="child"></span>'),k.current.margin[2]+=Math.abs(h(l.css("margin-bottom")))}l["top"===b.position?"prependTo":"appendTo"](n)}}};i.fn.fancybox=function(b){var n,l=i(this),p=this.selector||"",f=function(w){var t=i(this).blur(),s=n,r,q;!w.ctrlKey&&(!w.altKey&&!w.shiftKey&&!w.metaKey)&&!t.is(".fancybox-wrap")&&(r=b.groupAttr||"data-fancybox-group",q=t.attr(r),q||(r="rel",q=t.get(0)[r]),q&&(""!==q&&"nofollow"!==q)&&(t=p.length?i(p):l,t=t.filter("["+r+'="'+q+'"]'),s=t.index(this)),b.index=s,!1!==k.open(t,b)&&w.preventDefault())};b=b||{};n=b.index||0;!p||!1===b.live?l.unbind("click.fb-start").bind("click.fb-start",f):g.undelegate(p,"click.fb-start").delegate(p+":not('.fancybox-item, .fancybox-nav')","click.fb-start",f);this.filter("[data-fancybox-start=1]").trigger("click");return this};g.ready(function(){i.scrollbarWidth===a&&(i.scrollbarWidth=function(){var p=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),n=p.children(),n=n.innerWidth()-n.height(99).innerWidth();p.remove();return n});if(i.support.fixedPosition===a){var b=i.support,l=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),f=20===l[0].offsetTop||15===l[0].offsetTop;l.remove();b.fixedPosition=f}i.extend(k.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})})(window,document,jQuery);
/*!
 * Buttons helper for fancyBox
 * version: 1.0.5 (Mon, 15 Oct 2012)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             buttons: {
 *                 position : 'top'
 *             }
 *         }
 *     });
 *
 */
(function(b){var a=b.fancybox;a.helpers.buttons={defaults:{skipSingle:false,position:"top",tpl:'<div id="fancybox-buttons"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle" title="Toggle size" href="javascript:;"></a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>'},list:null,buttons:null,beforeLoad:function(c,d){if(c.skipSingle&&d.group.length<2){d.helpers.buttons=false;d.closeBtn=true;return}d.margin[c.position==="bottom"?2:0]+=30},onPlayStart:function(){if(this.buttons){this.buttons.play.attr("title","Pause slideshow").addClass("btnPlayOn")}},onPlayEnd:function(){if(this.buttons){this.buttons.play.attr("title","Start slideshow").removeClass("btnPlayOn")}},afterShow:function(d,e){var c=this.buttons;if(!c){this.list=b(d.tpl).addClass(d.position).appendTo("body");c={prev:this.list.find(".btnPrev").click(a.prev),next:this.list.find(".btnNext").click(a.next),play:this.list.find(".btnPlay").click(a.play),toggle:this.list.find(".btnToggle").click(a.toggle)}}if(e.index>0||e.loop){c.prev.removeClass("btnDisabled")}else{c.prev.addClass("btnDisabled")}if(e.loop||e.index<e.group.length-1){c.next.removeClass("btnDisabled");c.play.removeClass("btnDisabled")}else{c.next.addClass("btnDisabled");c.play.addClass("btnDisabled")}this.buttons=c;this.onUpdate(d,e)},onUpdate:function(d,e){var c;if(!this.buttons){return}c=this.buttons.toggle.removeClass("btnDisabled btnToggleOn");if(e.canShrink){c.addClass("btnToggleOn")}else{if(!e.canExpand){c.addClass("btnDisabled")}}},beforeClose:function(){if(this.list){this.list.remove()}this.list=null;this.buttons=null}}}(jQuery));
/*!
 * Media helper for fancyBox
 * version: 1.0.5 (Tue, 23 Oct 2012)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: true
 *         }
 *     });
 *
 * Set custom URL parameters:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             media: {
 *                 youtube : {
 *                     params : {
 *                         autoplay : 0
 *                     }
 *                 }
 *             }
 *         }
 *     });
 *
 * Or:
 *     $(".fancybox").fancybox({,
 *	       helpers : {
 *             media: true
 *         },
 *         youtube : {
 *             autoplay: 0
 *         }
 *     });
 *
 *  Supports:
 *
 *      Youtube
 *          http://www.youtube.com/watch?v=opj24KnzrWo
 *          http://www.youtube.com/embed/opj24KnzrWo
 *          http://youtu.be/opj24KnzrWo
 *      Vimeo
 *          http://vimeo.com/40648169
 *          http://vimeo.com/channels/staffpicks/38843628
 *          http://vimeo.com/groups/surrealism/videos/36516384
 *          http://player.vimeo.com/video/45074303
 *      Metacafe
 *          http://www.metacafe.com/watch/7635964/dr_seuss_the_lorax_movie_trailer/
 *          http://www.metacafe.com/watch/7635964/
 *      Dailymotion
 *          http://www.dailymotion.com/video/xoytqh_dr-seuss-the-lorax-premiere_people
 *      Twitvid
 *          http://twitvid.com/QY7MD
 *      Twitpic
 *          http://twitpic.com/7p93st
 *      Instagram
 *          http://instagr.am/p/IejkuUGxQn/
 *          http://instagram.com/p/IejkuUGxQn/
 *      Google maps
 *          http://maps.google.com/maps?q=Eiffel+Tower,+Avenue+Gustave+Eiffel,+Paris,+France&t=h&z=17
 *          http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16
 *          http://maps.google.com/?ll=48.859463,2.292626&spn=0.000965,0.002642&t=m&z=19&layer=c&cbll=48.859524,2.292532&panoid=YJ0lq28OOy3VT2IqIuVY0g&cbp=12,151.58,,0,-15.56
 */
(function(b){var a=b.fancybox,c=function(d,e,f){f=f||"";if(b.type(f)==="object"){f=b.param(f,true)}b.each(e,function(g,h){d=d.replace("$"+g,h||"")});if(f.length){d+=(d.indexOf("?")>0?"&":"?")+f}return d};a.helpers.media={defaults:{youtube:{matcher:/(youtube\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*)).*/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"opaque",enablejsapi:1},type:"iframe",url:"//www.youtube.com/embed/$3"},vimeo:{matcher:/(?:vimeo(?:pro)?.com)\/(?:[^\d]+)?(\d+)(?:.*)/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},type:"iframe",url:"//player.vimeo.com/video/$1"},metacafe:{matcher:/metacafe.com\/(?:watch|fplayer)\/([\w\-]{1,10})/,params:{autoPlay:"yes"},type:"swf",url:function(e,f,d){d.swf.flashVars="playerVars="+b.param(f,true);return"//www.metacafe.com/fplayer/"+e[1]+"/.swf"}},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"swf",url:"//www.dailymotion.com/swf/video/$1"},twitvid:{matcher:/twitvid\.com\/([a-zA-Z0-9_\-\?\=]+)/i,params:{autoplay:0},type:"iframe",url:"//www.twitvid.com/embed.php?guid=$1"},twitpic:{matcher:/twitpic\.com\/(?!(?:place|photos|events)\/)([a-zA-Z0-9\?\=\-]+)/i,type:"image",url:"//twitpic.com/show/full/$1/"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/"},google_maps:{matcher:/maps\.google\.([a-z]{2,3}(\.[a-z]{2})?)\/(\?ll=|maps\?)(.*)/i,type:"iframe",url:function(d){return"//maps.google."+d[1]+"/"+d[3]+""+d[4]+"&output="+(d[4].indexOf("layer=c")>0?"svembed":"embed")}}},beforeLoad:function(g,j){var d=j.href||"",e=false,i,f,h,k;for(i in g){f=g[i];h=d.match(f.matcher);if(h){e=f.type;k=b.extend(true,{},f.params,j[i]||(b.isPlainObject(g[i])?g[i].params:null));d=b.type(f.url)==="function"?f.url.call(this,h,k,j):c(f.url,h,k);break}}if(e){j.href=d;j.type=e;j.autoHeight=false}}}}(jQuery));
/*!
 * Thumbnail helper for fancyBox
 * version: 1.0.7 (Mon, 01 Oct 2012)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             thumbs: {
 *                 width  : 50,
 *                 height : 50
 *             }
 *         }
 *     });
 *
 */
(function(b){var a=b.fancybox;a.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(d){var c;if(d.element){c=b(d.element).find("img").attr("src")}if(!c&&d.type==="image"&&d.href){c=d.href}return c}},wrap:null,list:null,width:0,init:function(f,i){var e=this,g,c=f.width,h=f.height,d=f.source;g="";for(var j=0;j<i.group.length;j++){g+='<li><a style="width:'+c+"px;height:"+h+'px;" href="javascript:jQuery.fancybox.jumpto('+j+');"></a></li>'}this.wrap=b('<div id="fancybox-thumbs"></div>').addClass(f.position).appendTo("body");this.list=b("<ul>"+g+"</ul>").appendTo(this.wrap);b.each(i.group,function(l){var k=d(i.group[l]);if(!k){return}b("<img />").load(function(){var q=this.width,m=this.height,p,n,o;if(!e.list||!q||!m){return}p=q/c;n=m/h;o=e.list.children().eq(l).find("a");if(p>=1&&n>=1){if(p>n){q=Math.floor(q/n);m=h}else{q=c;m=Math.floor(m/p)}}b(this).css({width:q,height:m,top:Math.floor(h/2-m/2),left:Math.floor(c/2-q/2)});o.width(c).height(h);b(this).hide().appendTo(o).fadeIn(300)}).attr("src",k)});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(i.group.length+1)).css("left",Math.floor(b(window).width()*0.5-(i.index*this.width+this.width*0.5)))},beforeLoad:function(c,d){if(d.group.length<2){d.helpers.thumbs=false;return}d.margin[c.position==="top"?0:2]+=((c.height)+15)},afterShow:function(c,d){if(this.list){this.onUpdate(c,d)}else{this.init(c,d)}this.list.children().removeClass("active").eq(d.index).addClass("active")},onUpdate:function(c,d){if(this.list){this.list.stop(true).animate({left:Math.floor(b(window).width()*0.5-(d.index*this.width+this.width*0.5))},150)}},beforeClose:function(){if(this.wrap){this.wrap.remove()}this.wrap=null;this.list=null;this.width=0}}}(jQuery));$.fn.selectRange=function(b,a){return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(b,a)}else{if(this.createTextRange){var c=this.createTextRange();c.collapse(true);c.moveEnd("character",a);c.moveStart("character",b);c.select()}}})};RegExp.escape=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};$.fn.spin=function(c,b){var a={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8},ads_facets:{lines:11,length:5,width:2,radius:2,corners:1,rotate:0,color:"#000",speed:1.2,trail:60,shadow:false,hwaccel:false,className:"spinner",zIndex:2000000000,top:"auto",left:"auto"}};if(Spinner){return this.each(function(){var e=$(this),d=e.data();if(d.spinner){d.spinner.stop();delete d.spinner}if(c!==false){if(typeof c==="string"){if(c in a){c=a[c]}else{c={}}if(b){c.color=b}}d.spinner=new Spinner($.extend({color:e.css("color")},c)).spin(this)}})}else{throw"Spinner class not available."}};function isInt(a){return a%1==0}if(!Object.keys){Object.keys=(function(){var c=Object.prototype.hasOwnProperty,d=!({toString:null}).propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=b.length;return function(g){if(typeof g!=="object"&&typeof g!=="function"||g===null){throw new TypeError("Object.keys called on non-object")}var e=[];for(var h in g){if(c.call(g,h)){e.push(h)}}if(d){for(var f=0;f<a;f++){if(c.call(g,b[f])){e.push(b[f])}}}return e}})()}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(a){return this.slice(0,a.length)==a}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(a){return this.slice(-a.length)==a}}var Misc=new Object();Misc.wrapText=function(i,c,g){var b=$("#"+i);var h=b.val().length;var a=b[0].selectionStart;var f=b[0].selectionEnd;if(a==f){a=b.val().length;f=b.val().length}var e=b.val().substring(a,f);var d=c+e+g;b.val(b.val().substring(0,a)+d+b.val().substring(f,h));endrepl=a+d.length-g.length;b.selectRange(endrepl,endrepl)};Misc.listOfAlternates=["trending","useful","instructive"];Misc.wrapContentWithFunction=function(b,d,f){if(f==null){f=[]}var e=$("#"+b);var a=e.val();if(a.length==0){e.val(d+"(YOUR QUERY HERE)");e.focus();return null}for(var c=0;c<f.length;c++){var g=f[c];if(a.startsWith(g+"(")&&a.endsWith(")")){e.val(d+a.slice(-(a.length-g.length)));e.focus();return null}}e.val(d+"("+a+")");e.focus();return null};!function(I,D,w){var j=["webkit","Moz","ms","O"],b={},k;function G(c,a){var e=D.createElement(c||"div"),d;for(d in a){e[d]=a[d]}return e}function J(c){for(var d=1,a=arguments.length;d<a;d++){c.appendChild(arguments[d])}return c}var C=function(){var a=G("style",{type:"text/css"});J(D.getElementsByTagName("head")[0],a);return a.sheet||a.styleSheet}();function v(K,m,h,d){var n=["opacity",m,~~(K*100),h,d].join("-"),L=0.01+h/d*100,f=Math.max(1-(1-K)/m*(100-L),K),c=k.substring(0,k.indexOf("Animation")).toLowerCase(),r=c&&"-"+c+"-"||"";if(!b[n]){C.insertRule("@"+r+"keyframes "+n+"{0%{opacity:"+f+"}"+L+"%{opacity:"+K+"}"+(L+0.01)+"%{opacity:1}"+(L+m)%100+"%{opacity:"+K+"}100%{opacity:"+f+"}}",C.cssRules.length);b[n]=1}return n}function g(d,h){var f=d.style,i,c;if(f[h]!==w){return h}h=h.charAt(0).toUpperCase()+h.slice(1);for(c=0;c<j.length;c++){i=j[c]+h;if(f[i]!==w){return i}}}function H(c,d){for(var a in d){c.style[g(c,a)||a]=d[a]}return c}function F(a){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var c in f){if(a[c]===w){a[c]=f[c]}}}return a}function E(a){var c={x:a.offsetLeft,y:a.offsetTop};while(a=a.offsetParent){c.x+=a.offsetLeft,c.y+=a.offsetTop}return c}var B={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};function q(a){if(!this.spin){return new q(a)}this.opts=F(a||{},q.defaults,B)}q.defaults={};F(q.prototype,{spin:function(R){this.stop();var O=this,L=O.opts,n=O.el=H(G(0,{className:L.className}),{position:L.position,width:0,zIndex:L.zIndex}),a=L.radius+L.length+L.width,S,N;if(R){R.insertBefore(n,R.firstChild||null);N=E(R);S=E(n);H(n,{left:(L.left=="auto"?N.x-S.x+(R.offsetWidth>>1):parseInt(L.left,10)+a)+"px",top:(L.top=="auto"?N.y-S.y+(R.offsetHeight>>1):parseInt(L.top,10)+a)+"px"})}n.setAttribute("aria-role","progressbar");O.lines(n,O.opts);if(!k){var K=0,d=L.fps,P=d/L.speed,M=(1-L.opacity)/(P*L.trail/100),u=P/L.lines;(function Q(){K++;for(var c=L.lines;c;c--){var e=Math.max(1-(K+c*u)%P*M,L.opacity);O.opacity(n,L.lines-c,e,L)}O.timeout=O.el&&setTimeout(Q,~~(1000/d))})()}return O},stop:function(){var a=this.el;if(a){clearTimeout(this.timeout);if(a.parentNode){a.parentNode.removeChild(a)}this.el=w}return this},lines:function(c,f){var a=0,h;function d(e,i){return H(G(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*a+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(;a<f.lines;a++){h=H(G(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:k&&v(f.opacity,f.trail,a,f.lines)+" "+1/f.speed+"s linear infinite"});if(f.shadow){J(h,H(d("#000","0 0 4px #000"),{top:2+"px"}))}J(c,J(h,d(f.color,"0 0 1px rgba(0,0,0,.1)")))}return c},opacity:function(c,d,a){if(d<c.childNodes.length){c.childNodes[d].style.opacity=a}}});(function(){function a(d,f){return G("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',f)}var c=H(G("group"),{behavior:"url(#default#VML)"});if(!g(c,"transform")&&c.adj){C.addRule(".spin-vml","behavior:url(#default#VML)");q.prototype.lines=function(L,u){var m=u.length+u.width,d=2*m;function s(){return H(a("group",{coordsize:d+" "+d,coordorigin:-m+" "+-m}),{width:d,height:d})}var M=-(u.width+u.length)*2+"px",K=H(s(),{position:"absolute",top:M,left:M}),t;function h(l,i,f){J(K,J(H(s(),{rotation:360/u.lines*l+"deg",left:~~i}),J(H(a("roundrect",{arcsize:u.corners}),{width:m,height:u.width,left:u.radius,top:-u.width>>1,filter:f}),a("fill",{color:u.color,opacity:u.opacity}),a("stroke",{opacity:0}))))}if(u.shadow){for(t=1;t<=u.lines;t++){h(t,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(t=1;t<=u.lines;t++){h(t)}return J(L,K)};q.prototype.opacity=function(f,l,d,m){var h=f.firstChild;m=m.shadow&&m.lines||0;if(h&&l+m<h.childNodes.length){h=h.childNodes[l+m];h=h&&h.firstChild;h=h&&h.firstChild;if(h){h.opacity=d}}}}else{k=g(c,"animation")}})();if(typeof define=="function"&&define.amd){define(function(){return q})}else{I.Spinner=q}}(window,document);ResultListManager=new Object();ResultListManager.export_to_ads_classic=function(){$("#search_results_form > input.ajaxHiddenField").remove();$("#search_results_form").append('<input type="hidden" name="sort" class="ajaxHiddenField" value="NONE"/>');if($("#search_results_form").find('input[name="bibcode"]:checked').length>0){$('#search_results_form > input[name="current_search_parameters"]').attr("disabled","disabled");$("#search_results_form").attr("action",GlobalVariables.ADS_CLASSIC_EXPORT_BASE_URL).attr("target","_blank").submit()}else{$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$.ajax({type:"POST",cache:false,url:GlobalVariables.ADSABS2_GET_BIBCODES_ONLY_FROM_QUERY,data:$("#search_results_form").serializeArray(),success:function(a){$.fancybox.hideLoading();$('#search_results_form > input[name="current_search_parameters"]').attr("disabled","disabled");$("#search_results_form").append('<input type="hidden" name="bibcode" class="ajaxHiddenField" value="'+a+'"/>');$("#search_results_form").append('<input type="hidden" name="nr_to_return" class="ajaxHiddenField" value="'+GlobalVariables.ADS_CLASSIC_EXPORT_NR_TO_RETURN+'"/>');$("#search_results_form").removeAttr("target").attr("action",GlobalVariables.ADS_CLASSIC_EXPORT_BASE_URL).submit()}})}};ResultListManager.export_records_in_other_format=function(a){$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form > input.ajaxHiddenField").remove();$("#search_results_form").append('<input type="hidden" name="export_format" class="ajaxHiddenField"  value="'+a+'"/>');if($("#search_results_form").find('input[name="bibcode"]:checked').length>0){$('#search_results_form > input[name="current_search_parameters"]').attr("disabled","disabled")}$.ajax({type:"POST",cache:false,url:GlobalVariables.ADSABS2_EXPORT_TO_OTHER_FORTMATS_BASE_URL,data:$("#search_results_form").serializeArray(),success:function(b){$.fancybox.hideLoading();$.fancybox("<pre>"+b+"</pre>")}})};ResultListManager.visualize=function(a){$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form > input.ajaxHiddenField").remove();$.ajax({type:"POST",cache:false,url:a,data:$("#search_results_form").serializeArray(),success:function(b){$.fancybox.hideLoading();$.fancybox(b)}})};ResultListManager.citation_helper=function(){$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form > input.ajaxHiddenField").remove();if($("#search_results_form").find('input[name="bibcode"]:checked').length>0){checked_bibcodes=new Array();var a=$("#search_results_form").find('input[name="bibcode"]:checked');a.each(function(){checked_bibcodes.push($(this).attr("value"))});var b=checked_bibcodes.join("\n")}else{bibcodes=new Array();var a=$("#search_results_form").find('input[name="bibcode"]');a.each(function(){bibcodes.push($(this).attr("value"))});var b=bibcodes.join("\n")}$('#search_results_form > input[name="current_search_parameters"]').attr("disabled","disabled");$("#search_results_form").append('<input type="hidden" name="bibcodes" class="ajaxHiddenField"  value="'+b+'"/>');$("#search_results_form").append('<input type="hidden" name="return_nr" class="ajaxHiddenField"  value="10"/>');$.ajax({type:"POST",cache:false,url:GlobalVariables.ADSABS2_CITATION_HELPER_BASE_URL,data:$("#search_results_form").serializeArray(),success:function(c){$.fancybox.hideLoading();$.fancybox(c)}})};ResultListManager.metrics=function(){$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form > input.ajaxHiddenField").remove();if($("#search_results_form").find('input[name="bibcode"]:checked').length>0){checked_bibcodes=new Array();var a=$("#search_results_form").find('input[name="bibcode"]:checked');a.each(function(){checked_bibcodes.push($(this).attr("value"))});var b=checked_bibcodes.join("\n");var c="NA";$("#search_results_form").append('<input type="hidden" name="bibcodes" class="ajaxHiddenField" value="'+b+'"/>')}else{$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled")}$.ajax({type:"POST",cache:false,url:GlobalVariables.ADSABS2_METRICS_BASE_URL,data:$("#search_results_form").serializeArray(),success:function(d){$.fancybox.hideLoading();$.fancybox(d)}})};ResultListManager.single_metrics=function(){$.fancybox.showLoading();$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form > input.ajaxHiddenField").remove();if($("#search_results_form").find('input[name="bibcode"]:checked').length>0){checked_bibcodes=new Array();var a=$("#search_results_form").find('input[name="bibcode"]:checked');a.each(function(){checked_bibcodes.push($(this).attr("value"))});var b=checked_bibcodes.join("\n");var c="NA"}else{bibcodes=new Array();var a=$("#search_results_form").find('input[name="bibcode"]');a.each(function(){bibcodes.push($(this).attr("value"))});var b=bibcodes.join("\n")}$('#search_results_form > input[name="current_search_parameters"]').removeAttr("disabled");$("#search_results_form").append('<input type="hidden" name="bibcodes" class="ajaxHiddenField" value="'+b+'"/>');$.ajax({type:"POST",cache:false,url:GlobalVariables.ADSABS2_METRICS_BASE_URL,data:$("#search_results_form").serializeArray(),success:function(d){$.fancybox.hideLoading();$.fancybox(d)}})};var TooltipManager=new Object();TooltipManager.enable_tooltip=function(a){$(a).tooltip({html:true,container:"body",delay:{show:1600,hide:100}}).on("show hide",function(b){b.stopPropagation()})};$(document).ready(function(){TooltipManager.enable_tooltip("[data-rel=bootstrap_tooltip]")});var FeedbackManager=new Object();FeedbackManager.append_feedback_button=function(){if($(window).width()>=1000&&$(window).height()>=700){if($("#feedback_widget").hasClass("hidden_elem")){$("#feedback_widget").removeClass("hidden_elem")}}else{if(!$("#feedback_widget").hasClass("hidden_elem")){$("#feedback_widget").addClass("hidden_elem")}}};$(document).ready(function(){FeedbackManager.append_feedback_button();$(window).resize(function(){FeedbackManager.append_feedback_button()});$("#button_feedback_widget").fancybox()});function AstroMath(){}function Projection(a,b){this.PROJECTION=Projection.PROJ_TAN,this.ROT=this.tr_oR(a,b)}function Coo(b,c,a){this.lon=b,this.lat=c,this.prec=a,this.frame=null,this.computeDirCos()}function Tokenizer(a,b){this.string=Strings.trim(a,b),this.sep=b,this.pos=0}function Strings(){}function Numbers(){}function relMouseCoords(C){if(C.offsetX){return{x:C.offsetX,y:C.offsetY}}if(!Utils.cssScale){var p=window.getComputedStyle(document.body,null),k=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("-moz-transform")||p.getPropertyValue("-ms-transform")||p.getPropertyValue("-o-transform")||p.getPropertyValue("transform"),f=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,D=k.match(f);Utils.cssScale=D?parseFloat(D[1]):1}var b=C;b.target;var w=b.target||b.srcElement,g=w.currentStyle||window.getComputedStyle(w,null),m=parseInt(g.borderLeftWidth,10),j=parseInt(g.borderTopWidth,10),v=w.getBoundingClientRect(),B=b.clientX-m-v.left,q=b.clientY-j-v.top;return{x:parseInt(B/Utils.cssScale),y:parseInt(q/Utils.cssScale)}}var cds=cds||{},A=A||{};"object"!=typeof JSON&&(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,o,s,r,a,n=gap,h=e[t];switch(h&&"object"==typeof h&&"function"==typeof h.toJSON&&(h=h.toJSON(t)),"function"==typeof rep&&(h=rep.call(e,t,h)),typeof h){case"string":return quote(h);case"number":return isFinite(h)?h+"":"null";case"boolean":case"null":return h+"";case"object":if(!h){return"null"}if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(h)){for(r=h.length,i=0;r>i;i+=1){a[i]=str(i,h)||"null"}return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+n+"]":"["+a.join(",")+"]",gap=n,s}if(rep&&"object"==typeof rep){for(r=rep.length,i=0;r>i;i+=1){"string"==typeof rep[i]&&(o=rep[i],s=str(o,h),s&&a.push(quote(o)+(gap?": ":":")+s))}}else{for(o in h){Object.prototype.hasOwnProperty.call(h,o)&&(s=str(o,h),s&&a.push(quote(o)+(gap?": ":":")+s))}}return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+n+"}":"{"+a.join(",")+"}",gap=n,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var o;if(gap="",indent="","number"==typeof i){for(o=0;i>o;o+=1){indent+=" "}}else{"string"==typeof i&&(indent=i)}if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length)){throw Error("JSON.stringify")}return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,o,s=t[e];if(s&&"object"==typeof s){for(i in s){Object.prototype.hasOwnProperty.call(s,i)&&(o=walk(s,i),void 0!==o?s[i]=o:delete s[i])}}return reviver.call(t,e,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})}(),Logger={},Logger.log=function(b,d){try{var a="http://alasky.u-strasbg.fr/cgi/AladinLiteLogger/log.py",f="";d&&(f=JSON.stringify(d)),$.ajax({url:a,data:{action:b,params:f,pageUrl:window.location.href,referer:document.referrer?document.referrer:""},method:"GET",dataType:"json"})}catch(c){window.console&&console.log("Exception: "+c)}},function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(d){function h(p){var w,i=p||window.event,t=[].slice.call(arguments,1),k=0,o=0,m=0,q=0,v=0;return p=d.event.fix(i),p.type="mousewheel",i.wheelDelta&&(k=i.wheelDelta),i.detail&&(k=-1*i.detail),m=k,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(m=0,o=-1*k),i.deltaY&&(m=-1*i.deltaY,k=m),i.deltaX&&(o=i.deltaX,k=-1*o),void 0!==i.wheelDeltaY&&(m=i.wheelDeltaY),void 0!==i.wheelDeltaX&&(o=-1*i.wheelDeltaX),q=Math.abs(k),(!c||c>q)&&(c=q),v=Math.max(Math.abs(m),Math.abs(o)),(!j||j>v)&&(j=v),w=k>0?"floor":"ceil",k=Math[w](k/c),o=Math[w](o/j),m=Math[w](m/j),t.unshift(p,k,o,m),(d.event.dispatch||d.event.handle).apply(this,t)}var c,j,f=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],g="onwheel" in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(d.event.fixHooks){for(var b=f.length;b;){d.event.fixHooks[f[--b]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=g.length;a;){this.addEventListener(g[--a],h,!1)}}else{this.onmousewheel=h}},teardown:function(){if(this.removeEventListener){for(var a=g.length;a;){this.removeEventListener(g[--a],h,!1)}}else{this.onmousewheel=null}}},d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1000/60)}}();var Stats=function(){function U(b,f,a){var g,c,d;for(c=0;30>c;c++){for(g=0;73>g;g++){d=4*(g+74*c),b[d]=b[d+4],b[d+1]=b[d+5],b[d+2]=b[d+6]}}for(c=0;30>c;c++){d=4*(73+74*c),f>c?(b[d]=D[a].bg.r,b[d+1]=D[a].bg.g,b[d+2]=D[a].bg.b):(b[d]=D[a].fg.r,b[d+1]=D[a].fg.g,b[d+2]=D[a].fg.b)}}var ai,ae,aa,V,X,am,ab,af,ad,ak,N,aj,Z,ah,L=0,ag=2,ac=0,G=(new Date).getTime(),W=G,K=G,J=0,k=1000,F=0,al=0,j=1000,B=0,H=0,q=1000,Y=0,D={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mb:{bg:{r:48,g:16,b:26},fg:{r:255,g:0,b:128}}};ai=document.createElement("div"),ai.style.cursor="pointer",ai.style.width="80px",ai.style.opacity="0.9",ai.style.zIndex="10001",ai.addEventListener("click",function(){switch(L++,L==ag&&(L=0),ae.style.display="none",ab.style.display="none",N.style.display="none",L){case 0:ae.style.display="block";break;case 1:ab.style.display="block";break;case 2:N.style.display="block"}},!1),ae=document.createElement("div"),ae.style.backgroundColor="rgb("+Math.floor(D.fps.bg.r/2)+","+Math.floor(D.fps.bg.g/2)+","+Math.floor(D.fps.bg.b/2)+")",ae.style.padding="2px 0px 3px 0px",ai.appendChild(ae),aa=document.createElement("div"),aa.style.fontFamily="Helvetica, Arial, sans-serif",aa.style.textAlign="left",aa.style.fontSize="9px",aa.style.color="rgb("+D.fps.fg.r+","+D.fps.fg.g+","+D.fps.fg.b+")",aa.style.margin="0px 0px 1px 3px",aa.innerHTML='<span style="font-weight:bold">FPS</span>',ae.appendChild(aa),V=document.createElement("canvas"),V.width=74,V.height=30,V.style.display="block",V.style.marginLeft="3px",ae.appendChild(V),X=V.getContext("2d"),X.fillStyle="rgb("+D.fps.bg.r+","+D.fps.bg.g+","+D.fps.bg.b+")",X.fillRect(0,0,V.width,V.height),am=X.getImageData(0,0,V.width,V.height),ab=document.createElement("div"),ab.style.backgroundColor="rgb("+Math.floor(D.ms.bg.r/2)+","+Math.floor(D.ms.bg.g/2)+","+Math.floor(D.ms.bg.b/2)+")",ab.style.padding="2px 0px 3px 0px",ab.style.display="none",ai.appendChild(ab),af=document.createElement("div"),af.style.fontFamily="Helvetica, Arial, sans-serif",af.style.textAlign="left",af.style.fontSize="9px",af.style.color="rgb("+D.ms.fg.r+","+D.ms.fg.g+","+D.ms.fg.b+")",af.style.margin="0px 0px 1px 3px",af.innerHTML='<span style="font-weight:bold">MS</span>',ab.appendChild(af),V=document.createElement("canvas"),V.width=74,V.height=30,V.style.display="block",V.style.marginLeft="3px",ab.appendChild(V),ad=V.getContext("2d"),ad.fillStyle="rgb("+D.ms.bg.r+","+D.ms.bg.g+","+D.ms.bg.b+")",ad.fillRect(0,0,V.width,V.height),ak=ad.getImageData(0,0,V.width,V.height);try{performance&&performance.memory&&performance.memory.totalJSHeapSize&&(ag=3)}catch(Q){}return N=document.createElement("div"),N.style.backgroundColor="rgb("+Math.floor(D.mb.bg.r/2)+","+Math.floor(D.mb.bg.g/2)+","+Math.floor(D.mb.bg.b/2)+")",N.style.padding="2px 0px 3px 0px",N.style.display="none",ai.appendChild(N),aj=document.createElement("div"),aj.style.fontFamily="Helvetica, Arial, sans-serif",aj.style.textAlign="left",aj.style.fontSize="9px",aj.style.color="rgb("+D.mb.fg.r+","+D.mb.fg.g+","+D.mb.fg.b+")",aj.style.margin="0px 0px 1px 3px",aj.innerHTML='<span style="font-weight:bold">MB</span>',N.appendChild(aj),V=document.createElement("canvas"),V.width=74,V.height=30,V.style.display="block",V.style.marginLeft="3px",N.appendChild(V),Z=V.getContext("2d"),Z.fillStyle="#301010",Z.fillRect(0,0,V.width,V.height),ah=Z.getImageData(0,0,V.width,V.height),{domElement:ai,update:function(){ac++,G=(new Date).getTime(),al=G-W,j=Math.min(j,al),B=Math.max(B,al),U(ak.data,Math.min(30,30-30*(al/200)),"ms"),af.innerHTML='<span style="font-weight:bold">'+al+" MS</span> ("+j+"-"+B+")",ad.putImageData(ak,0,0),W=G,G>K+1000&&(J=Math.round(1000*ac/(G-K)),k=Math.min(k,J),F=Math.max(F,J),U(am.data,Math.min(30,30-30*(J/100)),"fps"),aa.innerHTML='<span style="font-weight:bold">'+J+" FPS</span> ("+k+"-"+F+")",X.putImageData(am,0,0),3==ag&&(H=9.54e-7*performance.memory.usedJSHeapSize,q=Math.min(q,H),Y=Math.max(Y,H),U(ah.data,Math.min(30,30-H/2),"mb"),aj.innerHTML='<span style="font-weight:bold">'+Math.round(H)+" MB</span> ("+Math.round(q)+"-"+Math.round(Y)+")",Z.putImageData(ah,0,0)),K=G,ac=0)}}};Constants={},Constants.PI=Math.PI,Constants.C_PR=Math.PI/180,Constants.VLEV=2,Constants.EPS=1e-7,Constants.c=0.105,Constants.LN10=Math.log(10),Constants.PIOVER2=Math.PI/2,Constants.TWOPI=2*Math.PI,Constants.TWOTHIRD=2/3,Constants.ARCSECOND_RADIAN=0.00000484813681109536,SpatialVector=function(){function a(c,d,b){this.x=c,this.y=d,this.z=b,this.ra_=0,this.dec_=0,this.okRaDec_=!1}return a.prototype.setXYZ=function(c,d,b){this.x=c,this.y=d,this.z=b,this.okRaDec_=!1},a.prototype.length=function(){return Math.sqrt(this.lengthSquared())},a.prototype.lengthSquared=function(){return this.x*this.x+this.y*this.y+this.z*this.z},a.prototype.normalized=function(){var b=this.length();this.x/=b,this.y/=b,this.z/=b},a.prototype.set=function(b,c){this.ra_=b,this.dec_=c,this.okRaDec_=!0,this.updateXYZ()},a.prototype.angle=function(c){var f=this.y*c.z-this.z*c.y,b=this.z*c.x-this.x*c.z,g=this.x*c.y-this.y*c.x,d=Math.sqrt(f*f+b*b+g*g);return Math.abs(Math.atan2(d,dot(c)))},a.prototype.get=function(){return[x,y,z]},a.prototype.toString=function(){return"SpatialVector["+this.x+", "+this.y+", "+this.z+"]"},a.prototype.cross=function(b){return new a(this.y*b.z-b.y*this.z,this.z*b.x-b.z*this.x,this.x*b.y-b.x()*this.y)},a.prototype.equal=function(b){return this.x==b.x&&this.y==b.y&&this.z==b.z()?!0:!1},a.prototype.mult=function(b){return new a(b*this.x,b*this.y,b*this.z)},a.prototype.dot=function(b){return this.x*b.x+this.y*b.y+this.z*b.z},a.prototype.add=function(b){return new a(this.x+b.x,this.y+b.y,this.z+b.z)},a.prototype.sub=function(b){return new a(this.x-b.x,this.y-b.y,this.z-b.z)},a.prototype.dec=function(){return this.okRaDec_||(this.normalized(),this.updateRaDec()),this.dec_},a.prototype.ra=function(){return this.okRaDec_||(this.normalized(),this.updateRaDec()),this.ra_},a.prototype.updateXYZ=function(){var b=Math.cos(this.dec_*Constants.C_PR);this.x=Math.cos(this.ra_*Constants.C_PR)*b,this.y=Math.sin(this.ra_*Constants.C_PR)*b,this.z=Math.sin(this.dec_*Constants.C_PR)},a.prototype.updateRaDec=function(){this.dec_=Math.asin(this.z)/Constants.C_PR;var b=Math.cos(this.dec_*Constants.C_PR);this.ra_=b>Constants.EPS||-Constants.EPS>b?this.y>Constants.EPS||this.y<-Constants.EPS?0>this.y?360-Math.acos(this.x/b)/Constants.C_PR:Math.acos(this.x/b)/Constants.C_PR:0>this.x?180:0:0,this.okRaDec_=!0},a.prototype.toRaRadians=function(){var b=0;return(0!=this.x||0!=this.y)&&(b=Math.atan2(this.y,this.x)),0>b&&(b+=2*Math.PI),b},a.prototype.toDeRadians=function(){var b=z/this.length(),c=Math.acos(b);return Math.PI/2-c},a}(),AngularPosition=function(){return AngularPosition=function(a,b){this.theta=a,this.phi=b},AngularPosition.prototype.toString=function(){return"theta: "+this.theta+", phi: "+this.phi},AngularPosition}(),LongRangeSetBuilder=function(){function a(){this.items=[]}return a.prototype.appendRange=function(c,d){for(var b=c;d>=b;b++){b in this.items||this.items.push(b)}},a}(),HealpixIndex=function(){function a(b){this.nside=b}return a.NS_MAX=8192,a.ORDER_MAX=13,a.NSIDELIST=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192],a.JRLL=[2,2,2,2,3,3,3,3,4,4,4,4],a.JPLL=[1,3,5,7,0,2,4,6,1,3,5,7],a.XOFFSET=[-1,-1,0,1,1,1,0,-1],a.YOFFSET=[0,1,1,1,0,-1,-1,-1],a.FACEARRAY=[[8,9,10,11,-1,-1,-1,-1,10,11,8,9],[5,6,7,4,8,9,10,11,9,10,11,8],[-1,-1,-1,-1,5,6,7,4,-1,-1,-1,-1],[4,5,6,7,11,8,9,10,11,8,9,10],[0,1,2,3,4,5,6,7,8,9,10,11],[1,2,3,0,0,1,2,3,5,6,7,4],[-1,-1,-1,-1,7,4,5,6,-1,-1,-1,-1],[3,0,1,2,3,0,1,2,4,5,6,7],[2,3,0,1,-1,-1,-1,-1,0,1,2,3]],a.SWAPARRAY=[[0,0,0,0,0,0,0,0,3,3,3,3],[0,0,0,0,0,0,0,0,6,6,6,6],[0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,5,5,5,5],[0,0,0,0,0,0,0,0,0,0,0,0],[5,5,5,5,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0],[6,6,6,6,0,0,0,0,0,0,0,0],[3,3,3,3,0,0,0,0,0,0,0,0]],a.Z0=Constants.TWOTHIRD,a.prototype.init=function(){var c=256;this.ctab=Array(c),this.utab=Array(c);for(var b=0;256>b;++b){this.ctab[b]=1&b|(2&b)<<7|(4&b)>>1|(8&b)<<6|(16&b)>>2|(32&b)<<5|(64&b)>>3|(128&b)<<4,this.utab[b]=1&b|(2&b)<<1|(4&b)<<2|(8&b)<<3|(16&b)<<4|(32&b)<<5|(64&b)<<6|(128&b)<<7}this.nl2=2*this.nside,this.nl3=3*this.nside,this.nl4=4*this.nside,this.npface=this.nside*this.nside,this.ncap=2*this.nside*(this.nside-1),this.npix=12*this.npface,this.fact2=4/this.npix,this.fact1=(this.nside<<1)*this.fact2,this.order=a.nside2order(this.nside)},a.calculateNSide=function(m){for(var j=0,d=m*m,v=180/Constants.PI,b=51840000*Constants.PI*v*v,q=Utils.castToInt(b/d),f=q/12,k=Math.sqrt(f),g=a.NS_MAX,p=0,t=0;a.NSIDELIST.length>t;t++){if(g>=Math.abs(k-a.NSIDELIST[t])&&(g=Math.abs(k-a.NSIDELIST[t]),j=a.NSIDELIST[t],p=t),k>j&&a.NS_MAX>k&&(j=a.NSIDELIST[p+1]),k>a.NS_MAX){return console.log("nside cannot be bigger than "+a.NS_MAX),a.NS_MAX}}return j},a.nside2order=function(b){return(b&b-1)>0?-1:Utils.castToInt(a.log2(b))},a.log2=function(b){return Math.log(b)/Math.log(2)},a.prototype.ang2pix_nest=function(J,F){var B,q,t,M,C,G,E,L,k,K,w,I,j;if(F>=Constants.TWOPI&&(F-=Constants.TWOPI),0>F&&(F+=Constants.TWOPI),J>Constants.PI||0>J){throw {name:"Illegal argument",message:"theta must be between 0 and "+Constants.PI}}if(F>Constants.TWOPI||0>F){throw {name:"Illegal argument",message:"phi must be between 0 and "+Constants.TWOPI}}if(q=Math.cos(J),t=Math.abs(q),M=F/Constants.PIOVER2,a.Z0>=t){var H=this.nside*(0.5+M),D=0.75*this.nside*q,L=H-D,k=H+D;G=L>>this.order,E=k>>this.order,w=G==E?4==G?4:G+4:E>G?G:E+8,I=Utils.castToInt(k&this.nside-1),j=Utils.castToInt(this.nside-(L&this.nside-1)-1)}else{K=Utils.castToInt(M),K>=4&&(K=3),C=M-K;var b=this.nside*Math.sqrt(3*(1-t));L=Utils.castToInt(C*b),k=Utils.castToInt((1-C)*b),L=Math.min(a.NS_MAX-1,L),k=Math.min(a.NS_MAX-1,k),q>=0?(w=K,I=Utils.castToInt(this.nside-k-1),j=Utils.castToInt(this.nside-L-1)):(w=K+8,I=L,j=k)}return B=this.xyf2nest(I,j,w)},a.prototype.xyf2nest=function(c,d,b){return(b<<2*this.order)+(this.utab[255&c]|this.utab[255&c>>8]<<16|this.utab[255&c>>16]<<32|this.utab[255&c>>24]<<48|this.utab[255&d]<<1|this.utab[255&d>>8]<<17|this.utab[255&d>>16]<<33|this.utab[255&d>>24]<<49)},a.prototype.nest2xyf=function(c){var d={};d.face_num=c>>2*this.order;var b=c&this.npface-1,f=(93823560581120&b)>>16|(6148820866244280000&b)>>31|21845&b|(1431633920&b)>>15;return d.ix=this.ctab[255&f]|this.ctab[255&f>>8]<<4|this.ctab[255&f>>16]<<16|this.ctab[255&f>>24]<<20,b>>=1,f=(93823560581120&b)>>16|(6148820866244280000&b)>>31|21845&b|(1431633920&b)>>15,d.iy=this.ctab[255&f]|this.ctab[255&f>>8]<<4|this.ctab[255&f>>16]<<16|this.ctab[255&f>>24]<<20,d},a.prototype.pix2ang_nest=function(p){if(0>p||p>this.npix-1){throw {name:"Illegal argument",message:"ipix out of range"}}var k,f,B,b=this.nest2xyf(p),v=b.ix,g=b.iy,m=b.face_num,j=(a.JRLL[m]<<this.order)-v-g-1;this.nside>j?(k=j,f=1-k*k*this.fact2,B=0):j>this.nl3?(k=this.nl4-j,f=k*k*this.fact2-1,B=0):(k=this.nside,f=(this.nl2-j)*this.fact1,B=1&j-this.nside);var t=Math.acos(f),w=(a.JPLL[m]*k+v-g+1+B)/2;w>this.nl4&&(w-=this.nl4),1>w&&(w+=this.nl4);var q=(w-0.5*(B+1))*(Constants.PIOVER2/k);return{theta:t,phi:q}},a.nside2Npix=function(c){if(0>this.NSIDELIST.indexOf(c)){throw {name:"Illegal argument",message:"nside should be >0, power of 2, <"+a.NS_MAX}}var b=12*c*c;return b},a.prototype.xyf2ring=function(j,c,k){var f,g,b,l=a.JRLL[k]*this.nside-j-c-1;this.nside>l?(f=l,b=2*f*(f-1),g=0):l>3*this.nside?(f=this.nl4-l,b=this.npix-2*(f+1)*f,g=0):(f=this.nside,b=this.ncap+(l-this.nside)*this.nl4,g=1&l-this.nside);var d=(a.JPLL[k]*f+j-c+1+g)/2;return d>this.nl4?d-=this.nl4:1>d&&(d+=this.nl4),b+d-1},a.prototype.nest2ring=function(c){var d=this.nest2xyf(c),b=this.xyf2ring(d.ix,d.iy,d.face_num);return b},a.prototype.corners_nest=function(c,d){var b=this.nest2ring(c);return this.corners_ring(b,d)},a.prototype.pix2ang_ring=function(p){var k,g,c,q,b,m,d,j,f;if(0>p||p>this.npix-1){throw {name:"Illegal argument",message:"ipix out of range"}}return m=p+1,this.ncap>=m?(j=m/2,f=Utils.castToInt(j),c=Utils.castToInt(Math.sqrt(j-Math.sqrt(f)))+1,q=m-2*c*(c-1),k=Math.acos(1-c*c*this.fact2),g=(q-0.5)*Constants.PI/(2*c)):this.npix-this.ncap>p?(b=p-this.ncap,c=b/this.nl4+this.nside,q=b%this.nl4+1,d=(1&c+this.nside)>0?1:0.5,k=Math.acos((this.nl2-c)*this.fact1),g=(q-d)*Constants.PI/this.nl2):(b=this.npix-p,c=Utils.castToInt(0.5*(1+Math.sqrt(2*b-1))),q=4*c+1-(b-2*c*(c-1)),k=Math.acos(-1+Math.pow(c,2)*this.fact2),g=(q-0.5)*Constants.PI/(2*c)),[k,g]},a.prototype.ring=function(c){var g,b,h=0,d=c+1,f=0;return this.ncap>=d?(b=d/2,f=Utils.castToInt(b),h=Utils.castToInt(Math.sqrt(b-Math.sqrt(f)))+1):this.nl2*(5*this.nside+1)>=d?(g=Utils.castToInt(d-this.ncap-1),h=Utils.castToInt(g/this.nl4+this.nside)):(g=this.npix-d+1,b=g/2,f=Utils.castToInt(b),h=Utils.castToInt(Math.sqrt(b-Math.sqrt(f)))+1,h=this.nl4-h),h},a.prototype.integration_limits_in_costh=function(c){var f,b,g,d;return d=1*this.nside,this.nside>=c?(b=1-Math.pow(c,2)/3/this.npface,g=1-Math.pow(c-1,2)/3/this.npface,f=c==this.nside?2*(this.nside-1)/3/d:1-Math.pow(c+1,2)/3/this.npface):this.nl3>c?(b=2*(2*this.nside-c)/3/d,g=2*(2*this.nside-c+1)/3/d,f=2*(2*this.nside-c-1)/3/d):(g=c==this.nl3?2*(-this.nside+1)/3/d:-1+Math.pow(4*this.nside-c+1,2)/3/this.npface,f=-1+Math.pow(this.nl4-c-1,2)/3/this.npface,b=-1+Math.pow(this.nl4-c,2)/3/this.npface),[g,b,f]},a.prototype.pixel_boundaries=function(K,E,w,k){var L,b,H,m,B,q,G,J,F=1*this.nside;if(Math.abs(k)>=1-1/3/this.npface){return G=w*Constants.PIOVER2,J=(w+1)*Constants.PIOVER2,[G,J]}if(1.5*k>=1){L=Math.sqrt(3*(1-k)),b=1/F/L,H=E,m=H-1,B=K-E,q=B+1,G=Constants.PIOVER2*(Math.max(m*b,1-q*b)+w),J=Constants.PIOVER2*(Math.min(1-B*b,H*b)+w)}else{if(1.5*k>-1){var j=0.5*(1-1.5*k),D=j+1,I=this.nside+K%2;H=E-(I-K)/2,m=H-1,B=(I+K)/2-E,q=B+1,G=Constants.PIOVER2*(Math.max(D-q/F,-j+m/F)+w),J=Constants.PIOVER2*(Math.min(D-B/F,-j+H/F)+w)}else{L=Math.sqrt(3*(1+k)),b=1/F/L;var C=2*this.nside;H=K-C+E,m=H-1,B=C-E,q=B+1,G=Constants.PIOVER2*(Math.max(1-(C-m)*b,(C-q)*b)+w),J=Constants.PIOVER2*(Math.min(1-(C-H)*b,(C-B)*b)+w)}}return[G,J]},a.vector=function(c,f){var b=1*Math.sin(c)*Math.cos(f),g=1*Math.sin(c)*Math.sin(f),d=1*Math.cos(c);return new SpatialVector(b,g,d)},a.prototype.corners_ring=function(P,L){var H=2*L+2,D=Array(H),F=this.pix2ang_ring(P),T=Math.cos(F[0]),I=F[0],M=F[1],K=Utils.castToInt(M/Constants.PIOVER2),R=this.ring(P),B=Math.min(R,Math.min(this.nside,this.nl4-R)),Q=0,G=Constants.PIOVER2/B;Q=R>=this.nside&&this.nl3>=R?Utils.castToInt(M/G+R%2/2)+1:Utils.castToInt(M/G)+1,Q-=K*B;var O=H/2,t=this.integration_limits_in_costh(R),N=Math.acos(t[0]),J=Math.acos(t[2]),j=this.pixel_boundaries(R,Q,K,t[0]);if(D[0]=Q>B/2?a.vector(N,j[1]):a.vector(N,j[0]),j=this.pixel_boundaries(R,Q,K,t[2]),D[O]=Q>B/2?a.vector(J,j[1]):a.vector(J,j[0]),1==L){var E=Math.acos(t[1]);j=this.pixel_boundaries(R,Q,K,t[1]),D[1]=a.vector(E,j[0]),D[3]=a.vector(E,j[1])}else{for(var q=t[2]-t[0],k=q/(L+1),b=1;L>=b;b++){T=t[0]+k*b,I=Math.acos(T),j=this.pixel_boundaries(R,Q,K,T),D[b]=a.vector(I,j[0]),D[H-b]=a.vector(I,j[1])}}return D},a.vec2Ang=function(c){var d=c.z/c.length(),b=Math.acos(d),f=0;return(0!=c.x||0!=c.y)&&(f=Math.atan2(c.y,c.x)),0>f&&(f+=2*Math.PI),[b,f]},a.prototype.queryDisc=function(ag,ac,Y,Q){if(0>ac||ac>Constants.PI){throw {name:"Illegal argument",message:"angular radius is in RADIAN and should be in [0,pi]"}}var V,ak,Z,ad,ab,ai,L,ah,X,af,K,ae,aa,F,U,J,H,k,D,aj=new LongRangeSetBuilder,j=null,ab=ac;if(Q&&(ab+=Constants.PI/this.nl4),j=a.vec2Ang(ag),ai=j[0],L=j[1],K=this.fact2,ae=this.fact1,ad=Math.cos(ai),D=1/Math.sqrt((1-ad)*(1+ad)),F=ai-ab,U=ai+ab,ah=Math.cos(ab),H=Math.cos(F),V=this.ringAbove(H)+1,J=Math.cos(U),ak=this.ringAbove(J),V>ak&&0==ak&&(ak=V),0>=F){for(var t=1;V>t;++t){this.inRing(t,0,Math.PI,aj)}}for(Z=V;ak>=Z;++Z){k=this.nside>Z?1-Z*Z*K:this.nl3>=Z?(this.nl2-Z)*ae:-1+(this.nl4-Z)*(this.nl4-Z)*K,X=(ah-k*ad)*D,af=1-k*k-X*X,aa=Math.atan2(Math.sqrt(af),X),isNaN(aa)&&(aa=ab),this.inRing(Z,L,aa,aj)}if(U>=Math.PI){for(var t=ak+1;this.nl4>t;++t){this.inRing(t,0,Math.PI,aj,!1)}}var G;if(Y){for(var q=aj.items,W=[],B=0;q.length>B;B++){var N=this.ring2nest(q[B]);W.indexOf(N)>=0||W.push(N)}G=W}else{G=aj.items}return G},a.prototype.inRing=function(q,L,H,D,w){var B,O,E,I,G=!1,N=!1,k=1e-12,M=0,C=0,K=0,j=0,J=(L-H)%Constants.TWOPI-k,F=L+H+k,b=(L+H)%Constants.TWOPI+k;if(k>Math.abs(H-Constants.PI)&&(G=!0),q>=this.nside&&this.nl3>=q?(C=q-this.nside+1,E=this.ncap+this.nl4*(C-1),I=E+this.nl4-1,B=C%2,O=this.nl4):(this.nside>q?(C=q,E=2*C*(C-1),I=E+4*C-1):(C=4*this.nside-q,E=this.npix-2*C*(C+1),I=E+4*C-1),O=4*C,B=1),G){return D.appendRange(E,I),void 0}if(M=B/2,w){K=Math.round(O*J/Constants.TWOPI-M),j=Math.round(O*F/Constants.TWOPI-M),K%=O,j>O&&(j%=O)}else{if(K=Math.ceil(O*J/Constants.TWOPI-M),j=Utils.castToInt(O*b/Constants.TWOPI-M),K>j&&1==q&&(j=Utils.castToInt(O*F/Constants.TWOPI-M)),K==j+1&&(K=j),1==K-j&&Constants.PI>H*O){return console.log("the interval is too small and avay from center"),void 0}K=Math.min(K,O-1),j=Math.max(j,0)}if(K>j&&(N=!0),N){K+=E,j+=E,D.appendRange(E,j),D.appendRange(K,I)}else{if(0>K){return K=Math.abs(K),D.appendRange(E,E+j),D.appendRange(I-K+1,I),void 0}K+=E,j+=E,D.appendRange(K,j)}},a.prototype.ringAbove=function(c){var d=Math.abs(c);if(d>Constants.TWOTHIRD){var b=Utils.castToInt(this.nside*Math.sqrt(3*(1-d)));return c>0?b:4*this.nside-b-1}return Utils.castToInt(this.nside*(2-1.5*c))},a.prototype.ring2nest=function(b){var c=this.ring2xyf(b);return this.xyf2nest(c.ix,c.iy,c.face_num)},a.prototype.ring2xyf=function(w){var q,j,F,b,D={};if(this.ncap>w){q=Utils.castToInt(0.5*(1+Math.sqrt(1+2*w))),j=w+1-2*q*(q-1),F=0,b=q,D.face_num=0;var k=j-1;k>=2*q&&(D.face_num=2,k-=2*q),k>=q&&++D.face_num}else{if(this.npix-this.ncap>w){var t=w-this.ncap;this.order>=0?(q=(t>>this.order+2)+this.nside,j=(t&this.nl4-1)+1):(q=t/this.nl4+this.nside,j=t%this.nl4+1),F=1&q+this.nside,b=this.nside;var m,C,E=q-this.nside+1,B=this.nl2+2-E;this.order>=0?(m=j-Utils.castToInt(E/2)+this.nside-1>>this.order,C=j-Utils.castToInt(B/2)+this.nside-1>>this.order):(m=(j-Utils.castToInt(E/2)+this.nside-1)/this.nside,C=(j-Utils.castToInt(B/2)+this.nside-1)/this.nside),D.face_num=C==m?4==C?4:Utils.castToInt(C)+4:m>C?Utils.castToInt(C):Utils.castToInt(m)+8}else{var t=this.npix-w;q=Utils.castToInt(0.5*(1+Math.sqrt(2*t-1))),j=4*q+1-(t-2*q*(q-1)),F=0,b=q,q=2*this.nl2-q,D.face_num=8;var k=j-1;k>=2*b&&(D.face_num=10,k-=2*b),k>=b&&++D.face_num}}var g=q-a.JRLL[D.face_num]*this.nside+1,v=2*j-a.JPLL[D.face_num]*b-F-1;return v>=this.nl2&&(v-=8*this.nside),D.ix=v-g>>1,D.iy=-(v+g)>>1,D},a}(),Utils=function(){},Utils.radecToPolar=function(a,b){return{theta:Math.PI/2-b/180*Math.PI,phi:a/180*Math.PI}},Utils.polarToRadec=function(a,b){return{ra:180*b/Math.PI,dec:180*(Math.PI/2-a)/Math.PI}},Utils.castToInt=function(a){return a>0?Math.floor(a):Math.ceil(a)},AstroMath.D2R=Math.PI/180,AstroMath.R2D=180/Math.PI,AstroMath.sign=function(a){return a>0?1:0>a?-1:0},AstroMath.cosd=function(a){if(0==a%90){var b=Math.abs(Math.floor(a/90+0.5))%4;switch(b){case 0:return 1;case 1:return 0;case 2:return -1;case 3:return 0}}return Math.cos(a*AstroMath.D2R)},AstroMath.sind=function(a){if(0===a%90){var b=Math.abs(Math.floor(a/90-0.5))%4;switch(b){case 0:return 1;case 1:return 0;case 2:return -1;case 3:return 0}}return Math.sin(a*AstroMath.D2R)},AstroMath.tand=function(a){var b;return b=a%360,0==b||180==Math.abs(b)?0:45==b||225==b?1:-135==b||-315==b?-1:Math.tan(a*AstroMath.D2R)},AstroMath.asind=function(a){return Math.asin(a)*AstroMath.R2D},AstroMath.acosd=function(a){return Math.acos(a)*AstroMath.R2D},AstroMath.atand=function(a){return Math.atan(a)*AstroMath.R2D},AstroMath.atan2=function(b,c){if(0==b){return c>0?0:0>c?Math.PI:0/0}var a=AstroMath.sign(b);if(0==c){return Math.PI/2*a}var d=Math.atan(Math.abs(b/c));return c>0?d*a:0>c?(Math.PI-d)*a:void 0},AstroMath.atan2d=function(a,b){return AstroMath.atan2(a,b)*AstroMath.R2D},AstroMath.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2},AstroMath.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2},AstroMath.tanh=function(a){return(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))},AstroMath.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))},AstroMath.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))},AstroMath.atanh=function(a){return 0.5*Math.log((1+a)/(1-a))},AstroMath.sinc=function(b){var c,a=Math.abs(b);return 0.001>=a?(a*=a,c=1-a*(1-a/20)/6):c=Math.sin(a)/a,c},AstroMath.asinc=function(b){var c,a=Math.abs(b);return 0.001>=a?(a*=a,c=1+a*(6+0.45*a)/6):c=Math.asin(a)/a,c},AstroMath.hypot=function(a,b){return Math.sqrt(a*a+b*b)},AstroMath.eulerMatrix=function(p,k,g){var c=Array(3);c[0]=Array(3),c[1]=Array(3),c[2]=Array(3);var q=AstroMath.cosd(p),b=AstroMath.sind(p),m=AstroMath.cosd(k),d=AstroMath.sind(k),j=AstroMath.cosd(g),f=AstroMath.sind(g);return c[0][0]=j*m*q-f*b,c[0][1]=-f*m*q-j*b,c[0][2]=-d*q,c[1][0]=j*m*b+f*q,c[1][1]=-f*m*b+j*q,c[1][2]=-d*b,c[2][0]=-d*j,c[2][1]=-d*q,c[2][2]=m,c},AstroMath.displayMatrix=function(b){for(var f=b.length,a=0,g=0;f>g;g++){b[g].length>a&&(a=b[g].length)}for(var c="<table>\n",g=0;f>g;g++){c+="<tr>";for(var d=0;f>d;d++){c+="<td>",b[g].length>g&&(c+=""+b[g][d]),c+="</td>"}c+="</td>\n"}return c+="</table>\n"},Projection.PROJ_TAN=1,Projection.PROJ_TAN2=2,Projection.PROJ_STG=2,Projection.PROJ_SIN=3,Projection.PROJ_SIN2=4,Projection.PROJ_ZEA=4,Projection.PROJ_ARC=5,Projection.PROJ_SCHMIDT=5,Projection.PROJ_AITOFF=6,Projection.PROJ_AIT=6,Projection.PROJ_GLS=7,Projection.PROJ_MERCATOR=8,Projection.PROJ_MER=8,Projection.PROJ_LAM=9,Projection.PROJ_LAMBERT=9,Projection.PROJ_TSC=10,Projection.PROJ_QSC=11,Projection.PROJ_LIST=["Mercator",Projection.PROJ_MERCATOR,"Gnomonic",Projection.PROJ_TAN,"Stereographic",Projection.PROJ_TAN2,"Orthographic",Projection.PROJ_SIN,"Zenithal",Projection.PROJ_ZEA,"Schmidt",Projection.PROJ_SCHMIDT,"Aitoff",Projection.PROJ_AITOFF,"Lambert",Projection.PROJ_LAMBERT],Projection.PROJ_NAME=["-","Gnomonic","Stereographic","Orthographic","Equal-area","Schmidt plates","Aitoff","Global sin","Mercator","Lambert"],Projection.prototype={setCenter:function(a,b){this.ROT=this.tr_oR(a,b)},setProjection:function(a){this.PROJECTION=a},project:function(b,d){var a=this.tr_ou(b,d),f=this.tr_uu(a,this.ROT),c=this.tr_up(this.PROJECTION,f);return null==c?null:{X:-c[0],Y:-c[1]}},unproject:function(b,d){b=-b,d=-d;var a=this.tr_pu(this.PROJECTION,b,d),f=this.tr_uu1(a,this.ROT),c=this.tr_uo(f);return{ra:c[0],dec:c[1]}},tr_up:function(p,k){var g,c,q,b,m,d=k[0],j=k[1],f=k[2];if(g=AstroMath.hypot(d,j),0==g&&0==f){return null}switch(p){default:q=null;break;case Projection.PROJ_AITOFF:c=Math.sqrt(g*(g+d)/2),b=Math.sqrt(2*g*(g-d)),c=Math.sqrt((1+c)/2),b/=c,m=f/c,0>j&&(b=-b),q=[b,m];break;case Projection.PROJ_GLS:m=Math.asin(f),b=0!=g?Math.atan2(j,d)*g:0,q=[b,m];break;case Projection.PROJ_MERCATOR:0!=g?(b=Math.atan2(j,d),m=AstroMath.atanh(f),q=[b,m]):q=null;break;case Projection.PROJ_TAN:d>0?(b=j/d,m=f/d,q=[b,m]):q=null;break;case Projection.PROJ_TAN2:c=(1+d)/2,c>0?(b=j/c,m=f/c,q=[b,m]):q=null;break;case Projection.PROJ_ARC:-1>=d?(b=Math.PI,m=0):(g=AstroMath.hypot(j,f),c=d>0?AstroMath.asinc(g):Math.acos(d)/g,b=j*c,m=f*c),q=[b,m];break;case Projection.PROJ_SIN:d>=0?(b=j,m=f,q=[b,m]):q=null;break;case Projection.PROJ_SIN2:c=Math.sqrt((1+d)/2),0!=c?(b=j/c,m=f/c):(b=2,m=0),q=[b,m];break;case Projection.PROJ_LAMBERT:m=f,b=0,0!=g&&(b=Math.atan2(j,d)),q=[b,m]}return q},tr_pu:function(d,h,c){var j,f,g,b,k;switch(d){default:return null;case Projection.PROJ_AITOFF:if(j=h*h/8+c*c/2,j>1){return null}g=1-j,f=Math.sqrt(1-j/2),b=h*f/2,k=c*f,j=AstroMath.hypot(g,b),0!=j&&(f=g,g=(f*f-b*b)/j,b=2*f*b/j);break;case Projection.PROJ_GLS:if(k=Math.sin(c),j=1-k*k,0>j){return null}j=Math.sqrt(j),f=0!=j?h/j:0,g=j*Math.cos(f),b=j*Math.sin(f);break;case Projection.PROJ_MERCATOR:k=AstroMath.tanh(c),j=1/AstroMath.cosh(c),g=j*Math.cos(h),b=j*Math.sin(h);break;case Projection.PROJ_LAMBERT:if(k=c,j=1-k*k,0>j){return null}j=Math.sqrt(j),g=j*Math.cos(h),b=j*Math.sin(h);break;case Projection.PROJ_TAN:g=1/Math.sqrt(1+h*h+c*c),b=h*g,k=c*g;break;case Projection.PROJ_TAN2:j=(h*h+c*c)/4,f=1+j,g=(1-j)/f,b=h/f,k=c/f;break;case Projection.PROJ_ARC:if(j=AstroMath.hypot(h,c),j>Math.PI){return null}f=AstroMath.sinc(j),g=Math.cos(j),b=f*h,k=f*c;break;case Projection.PROJ_SIN:if(f=1-h*h-c*c,0>f){return null}g=Math.sqrt(f),b=h,k=c;break;case Projection.PROJ_SIN2:if(j=(h*h+c*c)/4,j>1){return null}f=Math.sqrt(1-j),g=1-2*j,b=f*h,k=f*c}return[g,b,k]},tr_oR:function(b,c){var a=Array(3);return a[0]=Array(3),a[1]=Array(3),a[2]=Array(3),a[2][2]=AstroMath.cosd(c),a[0][2]=AstroMath.sind(c),a[1][1]=AstroMath.cosd(b),a[1][0]=-AstroMath.sind(b),a[1][2]=0,a[0][0]=a[2][2]*a[1][1],a[0][1]=-a[2][2]*a[1][0],a[2][0]=-a[0][2]*a[1][1],a[2][1]=a[0][2]*a[1][0],a},tr_ou:function(b,c){var a=Array(3),d=AstroMath.cosd(c);return a[0]=d*AstroMath.cosd(b),a[1]=d*AstroMath.sind(b),a[2]=AstroMath.sind(c),a},tr_uu:function(b,f){var a=Array(3),g=b[0],c=b[1],d=b[2];return a[0]=f[0][0]*g+f[0][1]*c+f[0][2]*d,a[1]=f[1][0]*g+f[1][1]*c+f[1][2]*d,a[2]=f[2][0]*g+f[2][1]*c+f[2][2]*d,a},tr_uu1:function(b,f){var a=Array(3),g=b[0],c=b[1],d=b[2];return a[0]=f[0][0]*g+f[1][0]*c+f[2][0]*d,a[1]=f[0][1]*g+f[1][1]*c+f[2][1]*d,a[2]=f[0][2]*g+f[1][2]*c+f[2][2]*d,a},tr_uo:function(d){var h,c,j=d[0],f=d[1],g=d[2],b=j*j+f*f;if(0==b){if(0==g){return null}h=0,c=g>0?90:-90}else{c=AstroMath.atand(g/Math.sqrt(b)),h=AstroMath.atan2d(f,j),0>h&&(h+=360)}return[h,c]}},Coo.factor=[3600,60,1],Coo.prototype={setFrame:function(a){this.frame=a},computeDirCos:function(){var a=AstroMath.cosd(this.lat);this.x=a*AstroMath.cosd(this.lon),this.y=a*AstroMath.sind(this.lon),this.z=AstroMath.sind(this.lat)},computeLonLat:function(){var a=this.x*this.x+this.y*this.y;this.lon=0,0==a?0==this.z?(this.lon=0/0,this.lat=0/0):this.lat=this.z>0?90:-90:(this.lon=AstroMath.atan2d(this.y,this.x),this.lat=AstroMath.atan2d(this.z,Math.sqrt(a)),0>this.lon&&(this.lon+=360))},distance:function(a){return 0==a.x&&0==a.y&&0==a.z?0/0:0==this.x&&0==this.y&&0==this.z?0/0:2*AstroMath.asind(0.5*Math.sqrt(this.dist2(a)))},dist2:function(b){var c=b.x-this.x,a=c*c;return c=b.y-this.y,a+=c*c,c=b.z-this.z,a+=c*c},convertTo:function(a){this.frame.equals(a)||(this.frame.toICRS(this.coo),a.fromICRS(this.coo),this.frame=a,this.lon=this.lat=0/0)},rotate:function(b){var c,a,d;b!=Umatrix3&&(c=b[0][0]*this.x+b[0][1]*this.y+b[0][2]*this.z,a=b[1][0]*this.x+b[1][1]*this.y+b[1][2]*this.z,d=b[2][0]*this.x+b[2][1]*this.y+b[2][2]*this.z,this.x=c,this.y=a,this.z=d,this.lon=this.lat=0/0)},rotate_1:function(b){var c,a,d;b!=Umatrix3&&(c=b[0][0]*this.x+b[1][0]*this.y+b[2][0]*this.z,a=b[0][1]*this.x+b[1][1]*this.y+b[2][1]*this.z,d=b[0][2]*this.x+b[1][2]*this.y+b[2][2]*this.z,this.x=c,this.y=a,this.z=d,this.lon=this.lat=0/0)},equals:function(a){return this.x==a.x&&this.y==a.y&&this.z==a.z},parse:function(b){var c=b.indexOf("+");if(0>c&&(c=b.indexOf("-")),0>c){return this.lon=0/0,this.lat=0/0,this.prec=0,void 0}var a=b.substring(0,c),d=b.substring(c);this.lon=this.parseLon(a),this.lat=this.parseLat(d)},parseLon:function(d){var d=Strings.trim(d," ");if(0>d.indexOf(" ")){var h=d.indexOf(".");return this.prec=0>h?0:d.length-h-1,parseFloat(d)}for(var c=new Tokenizer(d," "),j=0,f=0,g=0;c.hasMore();){var b=c.nextToken(),k=b.indexOf(".");switch(f+=parseFloat(b)*Coo.factor[j],j){case 0:g=0>k?1:2;break;case 1:g=0>k?3:4;break;case 2:g=0>k?5:4+b.length-k;default:}j++}return this.prec=g,15*f/3600},parseLat:function(l){var l=Strings.trim(l," "),j="+"==l.charAt(0)?1:-1;if(l=l.substring(1),0>l.indexOf(" ")){var f=l.indexOf(".");return this.prec=0>f?0:l.length-f-1,parseFloat(l)*j}for(var c=new Tokenizer(l," "),m=0,b=0,k=0;c.hasMore();){var d=c.nextToken(),g=d.indexOf(".");switch(b+=parseFloat(d)*Coo.factor[m],m){case 0:k=0>g?1:2;break;case 1:k=0>g?3:4;break;case 2:k=0>g?5:4+d.length-g;default:}m++}return this.prec=k,b*j/3600},format:function(b){isNaN(this.lon)&&this.computeLonLat();var c="",a="";if(b.indexOf("d")>=0){c=Numbers.format(this.lon,this.prec),a=Numbers.format(this.lat,this.prec)}else{var d=this.lon/15,c=Numbers.toSexagesimal(d,this.prec,!1),a=Numbers.toSexagesimal(this.lat,this.prec,!0)}return b.indexOf("/")>=0?c+" "+a:b.indexOf("2")>=0?[c,a]:c+a}},Tokenizer.prototype={hasMore:function(){return this.pos<this.string.length},nextToken:function(){for(var a=this.pos;this.string.length>a&&this.string.charAt(a)==this.sep;){a++}for(var b=a;this.string.length>b&&this.string.charAt(b)!=this.sep;){b++}return this.pos=b,this.string.substring(a,b)}},Strings.trim=function(b,c){for(var a=0,d=b.length-1;b.length>a&&b.charAt(a)==c;){a++}if(a==b.length){return""}for(;d>a&&b.charAt(d)==c;){d--}return b.substring(a,d+1)},Numbers.pow10=[1,10,100,1000,10000,100000,1000000,10000000,100000000,1000000000,10000000000,100000000000,1000000000000,10000000000000,100000000000000],Numbers.rndval=[0.5,0.05,0.005,0.0005,0.00005,0.000005,5e-7,5e-8,5e-9,5e-10,5e-11,5e-12,5e-13,5e-14,5e-14],Numbers.format=function(b,f){if(0>=f){return""+Math.round(b)}var a=""+b,g=a.indexOf("."),c=g>=0?a.length-g-1:0;if(f>=c){0>g&&(a+=".");for(var d=0;f-c>d;d++){a+="0"}return a}return a=""+(b+Numbers.rndval[f]),a.substr(0,g+f+1)},Numbers.toSexagesimal=function(l,j,f){var c=0>l?"-":f?"+":"",m=Math.abs(l);switch(j){case 1:var b=Math.round(m);return c+(""+b);case 2:return c+Numbers.format(m,1);case 3:var b=Math.floor(m),k=Math.round(60*(m-b));return c+b+" "+k;case 4:var b=Math.floor(m),k=60*(m-b);return c+b+" "+Numbers.format(k,1);case 5:var b=Math.floor(m),k=60*(m-b),d=Math.floor(k),g=Math.round(60*(k-d));return c+b+" "+d+" "+g;case 6:case 7:case 8:var b=Math.floor(m);10>b&&(b="0"+b);var k=60*(m-b),d=Math.floor(k);10>d&&(d="0"+d);var g=60*(k-d);return c+b+" "+d+" "+Numbers.format(g,j-5);default:return c+Numbers.format(m,1)}},CooConversion=function(){var a={};return a.GALACTIC_TO_J2000=[-0.0548755604024359,0.4941094279435681,-0.867666148981161,-0.8734370902479237,-0.4448296299195045,-0.1980763734646737,-0.4838350155267381,0.7469822444763707,0.4559837762325372],a.J2000_TO_GALACTIC=[-0.0548755604024359,-0.873437090247923,-0.4838350155267381,0.4941094279435681,-0.4448296299195045,0.7469822444763707,-0.867666148981161,-0.1980763734646737,0.4559837762325372],a.Transform=function(d,h){d[0]=d[0]*Math.PI/180,d[1]=d[1]*Math.PI/180;var c=[Math.cos(d[0])*Math.cos(d[1]),Math.sin(d[0])*Math.cos(d[1]),Math.sin(d[1])],j=[c[0]*h[0]+c[1]*h[1]+c[2]*h[2],c[0]*h[3]+c[1]*h[4]+c[2]*h[5],c[0]*h[6]+c[1]*h[7]+c[2]*h[8]],f=Math.sqrt(j[0]*j[0]+j[1]*j[1]+j[2]*j[2]),g=[0,0];g[1]=Math.asin(j[2]/f);var b=j[0]/f/Math.cos(g[1]),k=j[1]/f/Math.cos(g[1]);return g[0]=Math.atan2(k,b),0>g[0]&&(g[0]=g[0]+2*Math.PI),g[0]=180*g[0]/Math.PI,g[1]=180*g[1]/Math.PI,g},a.GalacticToJ2000=function(b){return a.Transform(b,a.GALACTIC_TO_J2000)},a.J2000ToGalactic=function(b){return a.Transform(b,a.J2000_TO_GALACTIC)},a}(),Sesame=function(){return Sesame={},Sesame.cache={},Sesame.resolve=function(b,c,a){var d="http://cds.u-strasbg.fr/cgi-bin/nph-sesame.jsonp?";$.ajax({url:d,data:{object:b},method:"GET",dataType:"jsonp",success:function(e){e.Target&&e.Target.Resolver&&e.Target.Resolver?c(e):a(e)},error:a})},Sesame}(),HealpixCache=function(){var a={};return a.staticCache={corners:{nside8:[]}},a.dynamicCache={},a.lastNside=8,a.hpxIdxCache=null,a.init=function(){var c=new HealpixIndex(8);c.init();for(var b=HealpixIndex.nside2Npix(8),d=0;b>d;d++){a.staticCache.corners.nside8[d]=c.corners_nest(d,1)}a.hpxIdxCache=c},a.corners_nest=function(c,b){return 8==b?a.staticCache.corners.nside8[c]:(b!=a.lastNside&&(a.hpxIdxCache=new HealpixIndex(b),a.hpxIdxCache.init(),a.lastNside=b),a.hpxIdxCache.corners_nest(c,1))},a}(),Utils=Utils||{},Utils.cssScale=void 0,HTMLCanvasElement.prototype.relMouseCoords=relMouseCoords,Function.prototype.bind||(Function.prototype.bind=function(b){if("function"!=typeof this){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var f=[].slice,a=f.call(arguments,1),g=this,c=function(){},d=function(){return g.apply(this instanceof c?this:b||{},a.concat(f.call(arguments)))};return d.prototype=this.prototype,d}),$=$||jQuery,$.urlParam=function(a,b){return void 0===b&&(b=location.search),decodeURIComponent((RegExp("[?|&]"+a+"=([^&;]+?)(&|#|;|$)").exec(b)||[,""])[1].replace(/\+/g,"%20"))||null},Utils.isNumber=function(a){return !isNaN(parseFloat(a))&&isFinite(a)},Utils.debounce=function(b,c){var a=null;return function(){var e=this,d=arguments;clearTimeout(a),a=setTimeout(function(){b.apply(e,d)},c)}},Utils.LRUCache=function(a){this._keys=[],this._items={},this._expires={},this._size=0,this._maxsize=a||1024},Utils.LRUCache.prototype={set:function(d,h){var c=this._keys,j=this._items,f=this._expires,g=this._size,b=this._maxsize;g>=b&&(c.sort(function(a,i){return f[a]>f[i]?-1:f[a]<f[i]?1:0}),g--,delete f[c[g]],delete j[c[g]]),c[g]=d,j[d]=h,f[d]=Date.now(),g++,this._keys=c,this._items=j,this._expires=f,this._size=g},get:function(a){var b=this._items[a];return b&&(this._expires[a]=Date.now()),b},keys:function(){return this._keys}},Color={},Color.curIdx=0,Color.colors=["#ff0000","#0000ff","#99cc00","#ffff00","#000066","#00ffff","#9900cc","#0099cc","#cc9900","#cc0099","#00cc99","#663333","#ffcc9a","#ff9acc","#ccff33","#660000","#ffcc33","#ff00ff","#00ff00","#ffffff"],Color.getNextColor=function(){var a=Color.colors[Color.curIdx%Color.colors.length];return Color.curIdx++,a},AladinUtils=function(){return{xyToView:function(b,f,a,g,c,d){return{vx:AladinUtils.myRound(c/2*(1+d*b)-(c-a)/2),vy:AladinUtils.myRound(c/2*(1+d*f)-(c-g)/2)}},viewToXy:function(b,f,a,g,c,d){return{x:((2*b+(c-a))/c-1)/d,y:((2*f+(c-g))/c-1)/d}},myRound:function(a){return 0>a?-1*(0|-a):0|a},isHpxPixVisible:function(b,c,a){for(var d=0;b.length>d;d++){if(b[d].vx>=-20&&c+20>b[d].vx&&b[d].vy>=-20&&a+20>b[d].vy){return !0}}return !1},ipixToIpix:function(b,c,a){},getZoomFactorForAngle:function(d,h){var c={ra:0,dec:0},j={ra:d,dec:0},f=new Projection(d/2,0);f.setProjection(h);var g=f.project(c.ra,c.dec),b=f.project(j.ra,j.dec),k=1/(g.X-b.Y);return k}}}(),ProjectionEnum={SIN:Projection.PROJ_SIN,AITOFF:Projection.PROJ_AITOFF},CooFrameEnum=function(){return{J2000:"J2000",GAL:"Galactic"}}(),CooFrameEnum.fromString=function(a,b){return a?(a=a.toLowerCase().replace(/^\s+|\s+$/g,""),0==a.indexOf("j2000")||0==a.indexOf("icrs")?CooFrameEnum.J2000:0==a.indexOf("g")?CooFrameEnum.GAL:b?b:null):b?b:null},Downloader=function(){var b=4,c=!1,a=700,d=function(e){this.view=e,this.nbDownloads=0,this.dlQueue=[],this.urlsInQueue={}};return d.prototype.requestDownload=function(g,h,f){h in this.urlsInQueue||(this.dlQueue.push({img:g,url:h,cors:f}),this.urlsInQueue[h]=1,this.tryDownload())},d.prototype.tryDownload=function(){for(;this.dlQueue.length>0&&b>this.nbDownloads;){this.startDownloadNext()}},d.prototype.startDownloadNext=function(){var f=this.dlQueue.shift();if(f){this.nbDownloads++;var g=this;f.img.onload=function(){g.completeDownload(this,!0)},f.img.onerror=function(){g.completeDownload(this,!1)},f.cors?f.img.crossOrigin="anonymous":void 0!==f.img.crossOrigin&&delete f.img.crossOrigin,f.img.src=f.url}},d.prototype.completeDownload=function(e,g){if(delete this.urlsInQueue[e.src],e.onerror=null,e.onload=null,this.nbDownloads--,g){if(c){var f=(new Date).getTime();e.fadingStart=f,e.fadingEnd=f+a}this.view.requestRedraw()}else{e.dlError=!0}this.tryDownload()},d}(),Footprint=function(){return Footprint=function(a){this.polygons=a,this.overlay=null,this.isShowing=!0,this.isSelected=!1},Footprint.prototype.setOverlay=function(a){this.overlay=a},Footprint.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.overlay&&this.overlay.reportChange())},Footprint.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.overlay&&this.overlay.reportChange())},Footprint.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.overlay&&this.overlay.reportChange())},Footprint.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.overlay&&this.overlay.reportChange())},Footprint}(),Popup=function(){return Popup=function(a){this.domEl=$('<div class="aladin-popup-container"><div class="aladin-popup"><a class="aladin-closeBtn">&times;</a><div class="aladin-popupTitle"></div><div class="aladin-popupText"></div></div><div class="aladin-popup-arrow"></div></div>'),this.domEl.appendTo(a);var b=this;this.domEl.find(".aladin-closeBtn").click(function(){b.hide()})},Popup.prototype.hide=function(){this.domEl.hide()},Popup.prototype.show=function(){this.domEl.show()},Popup.prototype.setTitle=function(a){this.domEl.find(".aladin-popupTitle").html(a)},Popup.prototype.setText=function(a){this.domEl.find(".aladin-popupText").html(a),this.w=this.domEl.outerWidth(),this.h=this.domEl.outerHeight()},Popup.prototype.setSource=function(a){this.source&&(this.source.popup=null),a.popup=this,this.source=a,this.setPosition(a.x,a.y)},Popup.prototype.setPosition=function(b,c){var a=b-this.w/2,d=c-this.h+this.source.catalog.sourceSize/2;this.domEl[0].style.left=a+"px",this.domEl[0].style.top=d+"px"},Popup}(),Overlay=function(){return Overlay=function(a){a=a||{},this.name=a.name||"overlay",this.color=a.color||Color.getNextColor(),this.overlays=[]},Overlay.parseSTCS=function(l){for(var j,f=[],c=l.match(/\S+/g),m=0,b=c.length;b>m;){var k=c[m].toLowerCase();if("polygon"==k&&(j=[],m++,frame=c[m].toLowerCase(),"icrs"==frame||"j2000"==frame)){for(;b>m+2;){var d=parseFloat(c[m+1]);if(isNaN(d)){break}var g=parseFloat(c[m+2]);j.push([d,g]),m+=2}j.push(j[0]),f.push(j)}m++}return f},Overlay.prototype.addFootprints=function(b){this.overlays=this.overlays.concat(b);for(var c=0,a=b.length;a>c;c++){b[c].setOverlay(this)}this.view.requestRedraw()},Overlay.prototype.getFootprint=function(a){return this.footprints.length>a?this.footprints[a]:null},Overlay.prototype.setView=function(a){this.view=a},Overlay.prototype.removeAll=function(){this.overlays=[]},Overlay.prototype.draw=function(l,j,f,c,m,b,k){l.strokeStyle=this.color,l.lineWidth=2,l.beginPath(),xyviews=[];for(var d=0,g=this.overlays.length;g>d;d++){xyviews.push(this.drawFootprint(this.overlays[d],l,j,f,c,m,b,k))}l.stroke(),l.strokeStyle=Overlay.increase_brightness(this.color,80),l.beginPath();for(var d=0,g=this.overlays.length;g>d;d++){this.overlays[d].isSelected&&this.drawFootprintSelected(l,xyviews[d])}l.stroke()},Overlay.increase_brightness=function(b,d){b=b.replace(/^\s*#|\s*$/g,""),3==b.length&&(b=b.replace(/(.)/g,"$1$1"));var a=parseInt(b.substr(0,2),16),f=parseInt(b.substr(2,2),16),c=parseInt(b.substr(4,2),16);return"#"+(0|256+a+(256-a)*d/100).toString(16).substr(1)+(0|256+f+(256-f)*d/100).toString(16).substr(1)+(0|256+c+(256-c)*d/100).toString(16).substr(1)},Overlay.prototype.drawFootprint=function(I,C,q,j,J,b,F,k){if(!I.isShowing){return null}for(var w=[],m=!1,E=I.polygons,H=0,D=E.length;D>H;H++){var g;if(j!=CooFrameEnum.J2000){var B=CooConversion.J2000ToGalactic([E[H][0],E[H][1]]);g=q.project(B[0],B[1])}else{g=q.project(E[H][0],E[H][1])}if(!g){return null}var G=AladinUtils.xyToView(g.X,g.Y,J,b,F,k);w.push(G),!m&&J>G.vx&&G.vx>=0&&b>=G.vy&&G.vy>=0&&(m=!0)}if(m){C.moveTo(w[0].vx,w[0].vy);for(var H=1,D=w.length;D>H;H++){C.lineTo(w[H].vx,w[H].vy)}}return w},Overlay.prototype.drawFootprintSelected=function(b,d){if(d){var a=d;b.moveTo(a[0].vx,a[0].vy);for(var f=1,c=a.length;c>f;f++){b.lineTo(a[f].vx,a[f].vy)}}},Overlay.prototype.reportChange=function(){this.view.requestRedraw()},Overlay}(),cds.Source=function(){return cds.Source=function(b,c,a,d){this.ra=b,this.dec=c,this.data=a,this.catalog=null,this.marker=d&&d.marker||!1,this.marker&&(this.popupTitle=d&&d.popupTitle?d.popupTitle:"",this.popupDesc=d&&d.popupDesc?d.popupDesc:""),this.isShowing=!0,this.isSelected=!1},cds.Source.prototype.setCatalog=function(a){this.catalog=a},cds.Source.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.select=function(){this.isSelected||(this.isSelected=!0,this.catalog&&this.catalog.reportChange())},cds.Source.prototype.deselect=function(){this.isSelected&&(this.isSelected=!1,this.catalog&&this.catalog.reportChange())},cds.Source}(),ProgressiveCat=function(){function a(d,g){var c=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],h=[],f=0;return d.keyRa=d.keyDec=null,$(g).find("FIELD").each(function(){for(var k={},j=0;c.length>j;j++){var i=c[j];$(this).attr(i)&&(k[i]=$(this).attr(i))}k.ID||(k.ID="col_"+f),d.keyRa||!k.ucd||0!=k.ucd.indexOf("pos.eq.ra")&&0!=k.ucd.indexOf("POS_EQ_RA")||(d.keyRa=k.name?k.name:k.ID),d.keyDec||!k.ucd||0!=k.ucd.indexOf("pos.eq.dec")&&0!=k.ucd.indexOf("POS_EQ_DEC")||(d.keyDec=k.name?k.name:k.ID),h.push(k),f++}),h}function b(D,q,m){if(!D.keyRa||!D.keyDec){return[]}lines=q.split("\n");for(var g=[],E=0;m.length>E;E++){m[E].name?g.push(m[E].name):g.push(m[E].ID)}for(var f=[],B=new Coo,j=2;lines.length>j;j++){var p={},k=lines[j].split("	");if(!(k.length<g.length)){for(var w=0;g.length>w;w++){p[g[w]]=k[w]}var C,v;Utils.isNumber(p[D.keyRa])&&Utils.isNumber(p[D.keyDec])?(C=parseFloat(p[D.keyRa]),v=parseFloat(p[D.keyDec])):(B.parse(p[D.keyRa]+" "+p[D.keyDec]),C=B.lon,v=B.lat),f.push(new cds.Source(C,v,p))}}return f}return ProgressiveCat=function(d,g,c,h){h=h||{},this.type="progressivecat",this.rootUrl=d,this.frame=CooFrameEnum.fromString(g)||CooFrameEnum.J2000,this.maxOrder=c,this.isShowing=!0,this.name=h.name||"progressive-cat",this.color=h.color||Color.getNextColor(),this.sourceSize=h.sourceSize||10,this.sourcesCache=new Utils.LRUCache(100),this.cacheCanvas=document.createElement("canvas"),this.cacheCanvas.width=this.sourceSize,this.cacheCanvas.height=this.sourceSize;var f=this.cacheCanvas.getContext("2d");f.beginPath(),f.strokeStyle=this.color,f.lineWidth=2,f.moveTo(0,0),f.lineTo(0,this.sourceSize),f.lineTo(this.sourceSize,this.sourceSize),f.lineTo(this.sourceSize,0),f.lineTo(0,0),f.stroke()},ProgressiveCat.prototype={init:function(c){this.view=c,this.level3Sources||this.loadLevel2Sources()},loadLevel2Sources:function(){var c=this;$.ajax({url:c.rootUrl+"/Norder2/Allsky.xml",method:"GET",success:function(d){c.fields=a(c,d),c.level2Sources=b(c,$(d).find("CSV").text(),c.fields),c.loadLevel3Sources()},error:function(d){console.log("Something went wrong: "+d)}})},loadLevel3Sources:function(){var c=this;$.ajax({url:c.rootUrl+"/Norder3/Allsky.xml",method:"GET",success:function(d){c.level3Sources=b(c,$(d).find("CSV").text(),c.fields),c.view.requestRedraw()},error:function(d){console.log("Something went wrong: "+d)}})},draw:function(v,p,k,f,w,d,u){if(this.isShowing&&this.level3Sources&&(this.drawSources(this.level2Sources,v,p,k,f,w,d,u),this.drawSources(this.level3Sources,v,p,k,f,w,d,u),this.tilesInView)){for(var g,m,j,q=0;this.tilesInView.length>q;q++){j=this.tilesInView[q],m=j[0]+"-"+j[1],g=this.sourcesCache.get(m),g&&this.drawSources(g,v,p,k,f,w,d,u)}}},drawSources:function(q,m,j,d,u,c,p,f){for(var k=0,g=q.length;g>k;k++){this.drawSource(q[k],m,j,d,u,c,p,f)}},getSources:function(){var d=[];if(this.level2Sources&&(d=d.concat(this.level2Sources)),this.level3Sources&&(d=d.concat(this.level3Sources)),this.tilesInView){for(var g,c,h,f=0;this.tilesInView.length>f;f++){h=this.tilesInView[f],c=h[0]+"-"+h[1],g=this.sourcesCache.get(c),g&&(d=d.concat(g))}}return d},drawSource:function(B,p,k,f,C,d,v,g){if(B.isShowing){var m,j=this.sourceSize;if(f!=CooFrameEnum.J2000){var q=CooConversion.J2000ToGalactic([B.ra,B.dec]);m=k.project(q[0],q[1])}else{m=k.project(B.ra,B.dec)}if(m){var w=AladinUtils.xyToView(m.X,m.Y,C,d,v,g);if(w){if(w.vx>C+j||0-j>w.vx||w.vy>d+j||0-j>w.vy){return B.x=B.y=void 0,void 0}B.x=w.vx,B.y=w.vy,p.drawImage(this.cacheCanvas,B.x-j/2,B.y-j/2)}}}},deselectAll:function(){for(var d=0;this.level2Sources.length>d;d++){this.level2Sources[d].deselect()}for(var d=0;this.level3Sources.length>d;d++){this.level3Sources[d].deselect()}var f=this.sourcesCache.keys();for(key in f){if(this.sourcesCache[key]){for(var c=this.sourcesCache[key],d=0;c.length>d;d++){c[d].deselect()}}}},show:function(){this.isShowing||(this.isShowing=!0,this.reportChange())},hide:function(){this.isShowing&&(this.isShowing=!1,this.reportChange())},reportChange:function(){this.view.requestRedraw()},getTileURL:function(d,f){var c=10000*Math.floor(f/10000);return this.rootUrl+"/Norder"+d+"/Dir"+c+"/Npix"+f+".tsv"},loadNeededTiles:function(){this.tilesInView=[],this.otherSources=[];var m=this.view.realNorder;if(m>this.maxOrder&&(m=this.maxOrder),!(3>=m)){for(var g,d,p=this.view.getVisibleCells(m,this.frame),c=4;m>=c;c++){g=[];for(var k=0;p.length>k;k++){d=Math.floor(p[k].ipix/Math.pow(4,m-c)),0>g.indexOf(d)&&g.push(d)}for(var e=0;g.length>e;e++){this.tilesInView.push([c,g[e]])}}for(var j,f,k=0;this.tilesInView.length>k;k++){j=this.tilesInView[k],f=j[0]+"-"+j[1],this.sourcesCache.get(f)||function(l,h,q){var n=h+"-"+q;$.ajax({url:l.getTileURL(h,q),method:"GET",success:function(o){l.sourcesCache.set(n,b(l,o,l.fields)),l.view.requestRedraw()},error:function(){l.sourcesCache.set(n,[])}})}(this,j[0],j[1])}}}},ProgressiveCat}(),cds.Catalog=function(){return cds.Catalog=function(b){b=b||{},this.type="catalog",this.name=b.name||"catalog",this.color=b.color||Color.getNextColor(),this.sourceSize=b.sourceSize||6,this.selectSize=this.sourceSize+2,this.isShowing=!0,this.indexationNorder=5,this.sources=[],this.hpxIdx=new HealpixIndex(this.indexationNorder),this.hpxIdx.init(),this.selectionColor="#00ff00",this.cacheCanvas=document.createElement("canvas"),this.cacheCanvas.width=this.sourceSize,this.cacheCanvas.height=this.sourceSize;var d=this.cacheCanvas.getContext("2d");d.beginPath(),d.strokeStyle=this.color,d.lineWidth=2,d.moveTo(0,0),d.lineTo(0,this.sourceSize),d.lineTo(this.sourceSize,this.sourceSize),d.lineTo(this.sourceSize,0),d.lineTo(0,0),d.stroke(),this.cacheMarkerCanvas=document.createElement("canvas"),this.cacheMarkerCanvas.width=this.sourceSize,this.cacheMarkerCanvas.height=this.sourceSize;var a=this.cacheMarkerCanvas.getContext("2d");a.fillStyle=this.color,a.beginPath();var f=this.sourceSize/2;a.arc(f,f,f-2,0,2*Math.PI,!1),a.fill(),a.lineWidth=2,a.strokeStyle="#ccc",a.stroke(),this.cacheSelectCanvas=document.createElement("canvas"),this.cacheSelectCanvas.width=this.selectSize,this.cacheSelectCanvas.height=this.selectSize;var c=this.cacheSelectCanvas.getContext("2d");c.beginPath(),c.strokeStyle=this.selectionColor,c.lineWidth=2,c.moveTo(0,0),c.lineTo(0,this.selectSize),c.lineTo(this.selectSize,this.selectSize),c.lineTo(this.selectSize,0),c.lineTo(0,0),c.stroke()},cds.Catalog.parseVOTable=function(b,c){function a(H,C){H=H.replace(/^\s+/g,"");var v=["name","ID","ucd","utype","unit","datatype","arraysize","width","precision"],k=[],I=0;$(H).find("FIELD").each(function(){for(var d={},h=0;v.length>h;h++){var f=v[h];$(this).attr(f)&&(d[f]=$(this).attr(f))}d.ID||(d.ID="col_"+I),k.push(d),I++});var g,F;g=F=null;for(var m=0,w=k.length;w>m;m++){var q=k[m];if(!g&&q.ucd){var E=q.ucd.toLowerCase();if(E.indexOf("pos.eq.ra")>=0||E.indexOf("pos_eq_ra")>=0){g=m;continue}}if(!F&&q.ucd){var E=q.ucd.toLowerCase();if(E.indexOf("pos.eq.dec")>=0||E.indexOf("pos_eq_dec")>=0){F=m;continue}}}var G,D,j=[],B=new Coo;$(H).find("TR").each(function(){var f={},l=0;$(this).find("TD").each(function(){var e=k[l].name?k[l].name:k[l].id;f[e]=$(this).text(),l++});var d=k[g].name?k[g].name:k[g].id,h=k[F].name?k[F].name:k[F].id;Utils.isNumber(f[d])&&Utils.isNumber(f[h])?(G=parseFloat(f[d]),D=parseFloat(f[h])):(B.parse(f[d]+" "+f[h]),G=B.lon,D=B.lat),j.push(new cds.Source(G,D,f))}),C&&C(j)}$.ajax({url:Aladin.JSONP_PROXY,data:{url:b},method:"GET",dataType:"jsonp",success:function(d){a(d,c)}})},cds.Catalog.prototype.addSources=function(b){this.sources=this.sources.concat(b);for(var c=0,a=b.length;a>c;c++){b[c].setCatalog(this)}this.view.requestRedraw()},cds.Catalog.prototype.getSources=function(){return this.sources},cds.Catalog.prototype.selectAll=function(){if(this.sources){for(var a=0;this.sources.length>a;a++){this.sources[a].select()}}},cds.Catalog.prototype.deselectAll=function(){if(this.sources){for(var a=0;this.sources.length>a;a++){this.sources[a].deselect()}}},cds.Catalog.prototype.getSource=function(a){return this.sources.length>a?this.sources[a]:null},cds.Catalog.prototype.setView=function(a){this.view=a},cds.Catalog.prototype.removeAll=function(){this.sources=[]},cds.Catalog.prototype.draw=function(l,j,f,c,m,b,k){if(this.isShowing){for(var d=0,g=this.sources.length;g>d;d++){this.drawSource(this.sources[d],l,j,f,c,m,b,k)}l.strokeStyle=this.selectionColor,l.beginPath();for(var d=0,g=this.sources.length;g>d;d++){this.sources[d].isSelected&&this.drawSourceSelection(this.sources[d],l)}l.stroke()}},cds.Catalog.prototype.drawSource=function(C,p,k,f,D,b,w,g){if(C.isShowing){var m,j=this.sourceSize;if(f!=CooFrameEnum.J2000){var v=CooConversion.J2000ToGalactic([C.ra,C.dec]);m=k.project(v[0],v[1])}else{m=k.project(C.ra,C.dec)}if(m){var B=AladinUtils.xyToView(m.X,m.Y,D,b,w,g),q=C.popup?100:C.sourceSize;if(B){if(B.vx>D+q||0-q>B.vx||B.vy>b+q||0-q>B.vy){return C.x=C.y=void 0,void 0}C.x=B.vx,C.y=B.vy,C.marker?p.drawImage(this.cacheMarkerCanvas,C.x-j/2,C.y-j/2):p.drawImage(this.cacheCanvas,C.x-j/2,C.y-j/2),C.popup&&C.popup.setPosition(C.x,C.y)}}}},cds.Catalog.prototype.drawSourceSelection=function(b,c){if(b&&b.isShowing&&b.x&&b.y){var a=this.selectSize;c.drawImage(this.cacheSelectCanvas,b.x-a/2,b.y-a/2)}},cds.Catalog.prototype.reportChange=function(){this.view.requestRedraw()},cds.Catalog.prototype.show=function(){this.isShowing||(this.isShowing=!0,this.reportChange())},cds.Catalog.prototype.hide=function(){this.isShowing&&(this.isShowing=!1,this.view.popup&&this.view.popup.source&&this.view.popup.source.catalog==this&&this.view.popup.hide(),this.reportChange())},cds.Catalog}(),Tile=function(){function a(b,c){this.img=b,this.url=c}return a.isImageOk=function(b){return b.allSkyTexture?!0:b.src?b.complete?b.naturalWidth!==void 0&&0==b.naturalWidth?!1:!0:!1:!1},a}(),TileBuffer=function(){function a(){this.pointer=0,this.tilesMap={},this.tilesArray=Array(b);for(var c=0;b>c;c++){this.tilesArray[c]=new Tile(new Image,null,null)}}var b=800;return a.prototype.addTile=function(d){if(this.getTile(d)){return null}var c=this.tilesArray[this.pointer];return c.img.src=null,delete this.tilesMap[c.url],this.tilesArray[this.pointer].url=d,this.tilesMap[d]=this.tilesArray[this.pointer],this.pointer++,this.pointer>=b&&(this.pointer=0),this.tilesMap[d]},a.prototype.getTile=function(c){return this.tilesMap[c]},a}(),ColorMap=function(){return ColorMap=function(a){this.view=a,this.reversed=!1,this.map="native",this.sig=this.signature()},ColorMap.MAPS={},ColorMap.MAPS.eosb={name:"Eos B",r:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,18,27,36,45,49,57,72,81,91,100,109,118,127,136,131,139,163,173,182,191,200,209,218,227,213,221,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,253,251,249,247,245,243,241,215,214,235,234,232,230,228,226,224,222,198,196,216,215,213,211,209,207,205,203,181,179,197,196,194,192,190,188,186,184,164,162,178,176,175,173,171,169,167,165,147,145,159,157,156,154,152,150,148,146,130,128,140,138,137,135,133,131,129,127,113,111,121,119,117,117],g:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,15,23,31,39,47,55,57,64,79,87,95,103,111,119,127,135,129,136,159,167,175,183,191,199,207,215,200,207,239,247,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,255,255,255,255,255,255,255,229,229,255,250,246,242,238,233,229,225,198,195,212,208,204,199,195,191,187,182,160,156,169,165,161,157,153,148,144,140,122,118,127,125,123,121,119,116,114,112,99,97,106,104,102,99,97,95,93,91,80,78,84,82,80,78,76,74,72,70,61,59,63,61,59,57,55,53,50,48,42,40,42,40,38,36,33,31,29,27,22,21,21,19,16,14,12,13,8,6,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b:[116,121,127,131,136,140,144,148,153,157,145,149,170,174,178,182,187,191,195,199,183,187,212,216,221,225,229,233,238,242,221,225,255,247,239,231,223,215,207,199,172,164,175,167,159,151,143,135,127,119,100,93,95,87,79,71,63,55,47,39,28,21,15,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},ColorMap.MAPS.rainbow={name:"Rainbow",r:[0,4,9,13,18,22,27,31,36,40,45,50,54,58,61,64,68,69,72,74,77,79,80,82,83,85,84,86,87,88,86,87,87,87,85,84,84,84,83,79,78,77,76,71,70,68,66,60,58,55,53,46,43,40,36,33,25,21,16,12,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,12,21,25,29,33,42,46,51,55,63,67,72,76,80,89,93,97,101,110,114,119,123,131,135,140,144,153,157,161,165,169,178,182,187,191,199,203,208,212,221,225,229,233,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],g:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,8,16,21,25,29,38,42,46,51,55,63,67,72,76,84,89,93,97,106,110,114,119,127,131,135,140,144,152,157,161,165,174,178,182,187,195,199,203,208,216,220,225,229,233,242,246,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,250,242,238,233,229,221,216,212,208,199,195,191,187,178,174,170,165,161,153,148,144,140,131,127,123,119,110,106,102,97,89,85,80,76,72,63,59,55,51,42,38,34,29,21,17,12,8,0],b:[0,3,7,10,14,19,23,28,32,38,43,48,53,59,63,68,72,77,81,86,91,95,100,104,109,113,118,122,127,132,136,141,145,150,154,159,163,168,173,177,182,186,191,195,200,204,209,214,218,223,227,232,236,241,245,250,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,246,242,238,233,225,220,216,212,203,199,195,191,187,178,174,170,165,157,152,148,144,135,131,127,123,114,110,106,102,97,89,84,80,76,67,63,59,55,46,42,38,34,25,21,16,12,8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},ColorMap.MAPS_CUSTOM=["rainbow","eosb"],ColorMap.MAPS_NAMES=["native","grayscale"].concat(ColorMap.MAPS_CUSTOM),ColorMap.prototype.reverse=function(a){this.reversed=a?a:!this.reversed,this.sig=this.signature(),this.view.requestRedraw()},ColorMap.prototype.signature=function(){var a=this.map;return this.reversed&&(a+=" reversed"),a},ColorMap.prototype.update=function(a){this.map=a,this.sig=this.signature(),this.view.requestRedraw()},ColorMap.prototype.apply=function(u){if("native"==this.sig){return u}if(u.cmSig==this.sig){return u.cmImg}var m=document.createElement("canvas");m.width=u.width,m.height=u.height;var j=m.getContext("2d");j.drawImage(u,0,0);var d,v,b,q=j.getImageData(0,0,m.width,m.height),f=q.data,k=f.length,g=3;"grayscale"==this.map?g=1:ColorMap.MAPS_CUSTOM.indexOf(this.map)>=0&&(g=2);for(var p=0;k>p;p+=4){switch(g){case 1:d=v=b=AladinUtils.myRound((f[p]+f[p+1]+f[p+2])/3);break;case 2:this.reversed?(d=ColorMap.MAPS[this.map].r[255-f[p]],v=ColorMap.MAPS[this.map].g[255-f[p+1]],b=ColorMap.MAPS[this.map].b[255-f[p+2]]):(d=ColorMap.MAPS[this.map].r[f[p]],v=ColorMap.MAPS[this.map].g[f[p+1]],b=ColorMap.MAPS[this.map].b[f[p+2]]);break;default:d=f[p],v=f[p+1],b=f[p+2]}2!=g&&this.reversed&&(d=255-d,v=255-v,b=255-b),f[p]=d,f[p+1]=v,f[p+2]=b}return q.data=f,j.putImageData(q,0,0),u.cmSig=this.sig,u.cmImg=m,u.cmImg},ColorMap}(),HpxImageSurvey=function(){function a(w,M,I,E,B,C,P,F,J,H,O,q,N,D,L){var k=(I+B+P)/3,K=(E+C+F)/3;w.save(),L&&(w.globalAlpha=L),w.beginPath();var G=0.05;w.moveTo((1+G)*I-k*G,(1+G)*E-K*G),w.lineTo((1+G)*B-k*G,(1+G)*C-K*G),w.lineTo((1+G)*P-k*G,(1+G)*F-K*G),w.closePath(),w.clip();var j=1/(J*(D-q)-O*D+N*q+(O-N)*H);w.transform(-(H*(P-B)-q*P+D*B+(q-D)*I)*j,(q*F+H*(C-F)-D*C+(D-q)*E)*j,(J*(P-B)-O*P+N*B+(O-N)*I)*j,-(O*F+J*(C-F)-N*C+(N-O)*E)*j,(J*(D*B-q*P)+H*(O*P-N*B)+(N*q-O*D)*I)*j,(J*(D*C-q*F)+H*(O*F-N*C)+(N*q-O*D)*E)*j),w.drawImage(M,0,0),w.restore()}var b=function(e,d,k,g,j,c){this.id=e,this.name=d,this.rootUrl=k,c=c||{},this.imgFormat=c.imgFormat||"jpg",this.minOrder=c.minOrder||null,this.cooFrame=g&&"galactic"==g.toLowerCase()?CooFrameEnum.GAL:CooFrameEnum.J2000,this.maxOrder=j,this.allskyTextures=[],this.allskyTextureSize=0,this.lastUpdateDateNeededTiles=0;for(var l=!1,f=0;b.SURVEYS.length>f;f++){b.SURVEYS[f].id==this.id&&(l=!0)}l||b.SURVEYS.push({id:this.id,url:this.rootUrl,name:this.name,maxOrder:this.maxOrder,frame:this.cooFrame}),b.SURVEYS_OBJECTS[this.id]=this};return b.UPDATE_NEEDED_TILES_DELAY=1000,b.prototype.init=function(d,f){this.view=d,this.cm||(this.cm=new ColorMap(this.view)),this.tileBuffer=this.view.tileBuffer,this.useCors=!1;var c=this;$.support.cors?$.ajax({type:"GET",url:this.rootUrl+"/",contentType:"text/plain",xhrFields:{},headers:{},success:function(){c.useCors=!0,c.retrieveAllskyTextures(),f&&f()},error:function(){c.retrieveAllskyTextures(),f&&f()}}):(this.retrieveAllskyTextures(),f())},b.DEFAULT_SURVEY_ID="P/DSS2/color",b.SURVEYS_OBJECTS={},b.SURVEYS=[{id:"P/2MASS/color",url:"http://alasky.u-strasbg.fr/2MASS/Color",name:"2MASS colored",maxOrder:9,frame:"equatorial",format:"jpeg"},{id:"P/DSS2/color",url:"http://alaskybis.u-strasbg.fr/DssColor",name:"DSS colored",maxOrder:9,frame:"equatorial",format:"jpeg"},{id:"P/DSS2/red",url:"http://alaskybis.u-strasbg.fr/DSS/DSS2Merged",name:"DSS2 Red (F+R)",maxOrder:9,frame:"equatorial",format:"jpeg fits"},{id:"P/Fermi/color",url:"http://alasky.u-strasbg.fr/Fermi/Color",name:"Fermi Color",maxOrder:3,frame:"equatorial",format:"jpeg"},{id:"P/Finkbeiner",url:"http://alasky.u-strasbg.fr/FinkbeinerHalpha",maxOrder:3,frame:"galactic",format:"jpeg fits",name:"Halpha"},{id:"P/GALEXGR6/AIS/color",url:"http://alasky.u-strasbg.fr/GALEX/GR6-02-Color",name:"GALEX AIS Colored",maxOrder:8,frame:"equatorial",format:"jpeg"},{id:"P/IRIS/color",url:"http://alaskybis.u-strasbg.fr/IRISColor",name:"IRIS colored",maxOrder:3,frame:"galactic",format:"jpeg"},{id:"P/Mellinger/color",url:"http://alaskybis.u-strasbg.fr/MellingerRGB",name:"Mellinger colored",maxOrder:4,frame:"galactic",format:"jpeg"},{id:"P/SDSS9/color",url:"http://alasky.u-strasbg.fr/SDSS/SDSSDR9",name:"SDSS9 colored",maxOrder:10,frame:"equatorial",format:"jpeg"},{id:"P/SPITZER/color",url:"http://alaskybis.u-strasbg.fr/SpitzerI1I2I4color",name:"IRAC color I1,I2,I4 - (GLIMPSE, SAGE, SAGE-SMC, SINGS)",maxOrder:9,frame:"galactic",format:"jpeg"},{id:"P/VTSS/Ha",url:"http://alasky.u-strasbg.fr/VTSS/Ha",maxOrder:3,frame:"galactic",format:"png jpeg fits",name:"VTSS-Ha"},{id:"P/XMM/EPIC",url:"http://saada.u-strasbg.fr/xmmallsky",name:"XMM-Newton stacked EPIC images (no phot. normalization)",maxOrder:7,frame:"equatorial",format:"png jpeg fits"}],b.getAvailableSurveys=function(){return b.SURVEYS},b.getSurveyInfoFromId=function(d){for(var c=b.getAvailableSurveys(),e=0;c.length>e;e++){if(c[e].id==d){return c[e]}}return null},b.getSurveyFromId=function(d){if(b.SURVEYS_OBJECTS[d]){return b.SURVEYS_OBJECTS[d]}var c=b.getSurveyInfoFromId(d);return c?new b(c.id,c.name,c.url,c.frame,c.maxOrder):null},b.prototype.getTileURL=function(d,f){var c=10000*Math.floor(f/10000);return this.rootUrl+"/Norder"+d+"/Dir"+c+"/Npix"+f+"."+this.imgFormat},b.prototype.retrieveAllskyTextures=function(){var c=new Image;this.useCors&&(c.crossOrigin="anonymous");var d=this;c.onload=function(){d.allskyTextureSize=c.width/27;for(var e=0;29>e;e++){for(var h=0;27>h;h++){var f=document.createElement("canvas");f.width=f.height=d.allskyTextureSize,f.allSkyTexture=!0;var g=f.getContext("2d");g.drawImage(c,h*d.allskyTextureSize,e*d.allskyTextureSize,d.allskyTextureSize,d.allskyTextureSize,0,0,f.width,f.height),d.allskyTextures.push(f)}}d.view.requestRedraw()},c.src=this.rootUrl+"/Norder3/Allsky."+this.imgFormat},b.prototype.redrawAllsky=function(v,p,k){if(!(this.view.curNorder>6)&&this.allskyTextures){for(var f,w,d,u=0,g=0,m=p.length;m>g;g++){if(f=p[g],d=f.ipix,this.allskyTextures[d]&&Tile.isImageOk(this.allskyTextures[d])){if(k>40){u=0.02,w={x:(f[0].vx+f[2].vx)/2,y:(f[0].vy+f[2].vy)/2};for(var j=0;4>j;j++){var q={x:f[j].vx-w.x,y:f[j].vy-w.y};f[j].vx+=u*q.x,f[j].vy+=u*q.y}}this.drawOneTile(v,this.allskyTextures[d],f,this.allskyTextureSize)}}}},b.prototype.getColorMap=function(){return this.cm},b.prototype.redrawHighres=function(H,U,N){var I,K,ab,O,V,R,Z,G,Y=(new Date).getTime(),L=Y-this.lastUpdateDateNeededTiles>b.UPDATE_NEEDED_TILES_DELAY,X=N-1,F=[],W=[],Q={},B=!1,J=[],E=[];if(L){var D=[(U[0][0].vx+U[0][1].vx)/2,(U[0][0].vy+U[0][1].vy)/2],j=U.sort(function(d,h){var c=[(d[0].vx+d[2].vx)/2,(d[0].vy+d[2].vy)/2],l=[(h[0].vx+h[2].vx)/2,(h[0].vy+h[2].vy)/2],f=(c[0]-D[0])*(c[0]-D[0])+(c[1]-D[1])*(c[1]-D[1]),g=(l[0]-D[0])*(l[0]-D[0])+(l[1]-D[1])*(l[1]-D[1]);return f-g});U=j}for(var q=0,aa=U.length;aa>q;q++){if(V=U[q],G=V.ipix,Z=~~(G/4),O=this.getTileURL(X,Z),L&&X>=3&&(ab=this.tileBuffer.addTile(O),ab&&E.push({img:ab.img,url:O})),K=this.getTileURL(N,G),I=this.tileBuffer.getTile(K)){Tile.isImageOk(I.img)?F.push({img:I.img,corners:V}):(B=!0,L&&!I.img.dlError&&J.push({img:I.img,url:K}),X>=3&&!Q[Z]&&(ab=this.tileBuffer.getTile(O),ab&&Tile.isImageOk(ab.img)&&(R=this.view.getPositionsInView(Z,X),R&&W.push({img:ab.img,corners:R,ipix:Z})),Q[Z]=1))}else{if(B=!0,L){var I=this.tileBuffer.addTile(K);I&&J.push({img:I.img,url:K})}X>=3&&!Q[Z]&&(ab=this.tileBuffer.getTile(O),ab&&Tile.isImageOk(ab.img)&&(R=this.view.getPositionsInView(Z,X),R&&W.push({img:ab.img,corners:R,ipix:Z})),Q[Z]=1)}}for(var q=0,aa=W.length;aa>q;q++){this.drawOneTile(H,W[q].img,W[q].corners,W[q].img.width)}for(var q=0,aa=F.length;aa>q;q++){var e=null,k=F[q].img;k.fadingStart&&k.fadingEnd&&k.fadingEnd>Y&&(e=0.2+0.8*((Y-k.fadingStart)/(k.fadingEnd-k.fadingStart))),this.drawOneTile(H,k,F[q].corners,k.width,e)}if(L){for(var q=0,aa=J.length;aa>q;q++){this.view.downloader.requestDownload(J[q].img,J[q].url,this.useCors)}for(var q=0,aa=E.length;aa>q;q++){this.view.downloader.requestDownload(E[q].img,E[q].url,this.useCors)}this.lastUpdateDateNeededTiles=Y}B&&this.view.requestRedrawAtDate(Y+b.UPDATE_NEEDED_TILES_DELAY+10)},b.prototype.drawOneTile=function(h,d,j,f,g){var c=this.useCors?this.cm.apply(d):d;a(h,c,j[0].vx,j[0].vy,j[1].vx,j[1].vy,j[3].vx,j[3].vy,f-1,f-1,f-1,0,0,f-1,g),a(h,c,j[1].vx,j[1].vy,j[3].vx,j[3].vy,j[2].vx,j[2].vy,f-1,0,0,f-1,0,0,g)},b}(),HealpixGrid=function(){var a=function(){};return a.prototype.redraw=function(d,h,c,j){d.lineWidth=1,d.strokeStyle="rgb(150,150,220)",d.beginPath();for(var f,g=0,b=h.length;b>g;g++){f=h[g],ipix=f.ipix,d.moveTo(f[0].vx,f[0].vy),d.lineTo(f[1].vx,f[1].vy),d.lineTo(f[2].vx,f[2].vy)}d.stroke(),d.strokeStyle="#FFDDDD",d.beginPath();for(var g=0,b=h.length;b>g;g++){f=h[g],ipix=f.ipix,d.strokeText(j+"/"+ipix,(f[0].vx+f[2].vx)/2,(f[0].vy+f[2].vy)/2)}d.stroke()},a}(),Location=function(){return Location=function(a){this.div=$(a)},Location.prototype.update=function(b,c,a){var d=new Coo(b,c,7);a==CooFrameEnum.J2000?this.div.html(d.format("s/")):this.div.html(d.format("d/"))},Location}(),View=function(){function a(k,d,l,g,j){this.aladin=k,this.options=k.options,this.aladinDiv=this.aladin.aladinDiv,this.popup=new Popup(this.aladinDiv),this.createCanvases(),this.location=d,this.fovDiv=l,this.mustClearCatalog=!0,this.mustRedrawReticle=!0,this.mode=a.PAN,this.minFOV=this.maxFOV=null,this.healpixGrid=new HealpixGrid(this.imageCanvas),this.cooFrame=g?g:CooFrameEnum.GAL;var c,m;c=m=0,this.projectionMethod=ProjectionEnum.SIN,this.projection=new Projection(c,m),this.projection.setProjection(this.projectionMethod),this.zoomLevel=0,this.zoomFactor=this.computeZoomFactor(this.zoomLevel),this.viewCenter={lon:c,lat:m},j&&this.setZoom(j),this.imageSurvey=null,this.catalogs=[],this.overlays=[],this.tileBuffer=new TileBuffer,this.fixLayoutDimensions(),this.curNorder=1,this.realNorder=1,this.dragging=!1,this.dragx=null,this.dragy=null,this.needRedraw=!0,this.downloader=new Downloader(this),this.flagForceRedraw=!1,this.fadingLatestUpdate=null,this.dateRequestRedraw=null,init(this),this.resizeTimer=null;var f=this;$(window).resize(function(){clearTimeout(f.resizeTimer),f.resizeTimer=setTimeout(function(){f.fixLayoutDimensions(f)},100)})}function b(f,j,d,k){if(f.projection){var g,h=AladinUtils.viewToXy(j,d,f.width,f.height,f.largestDim,f.zoomFactor);try{g=f.projection.unproject(h.x,h.y)}catch(c){}g&&f.location.update(g.ra,g.dec,f.cooFrame,k)}}return a.PAN=0,a.SELECT=1,a.DRAW_SOURCES_WHILE_DRAGGING=!0,a.prototype.createCanvases=function(){var c=$(this.aladinDiv);c.find(".aladin-imageCanvas").remove(),c.find(".aladin-catalogCanvas").remove(),c.find(".aladin-reticleCanvas").remove(),this.imageCanvas=$("<canvas class='aladin-imageCanvas'></canvas>").appendTo(this.aladinDiv)[0],this.catalogCanvas=$("<canvas class='aladin-catalogCanvas'></canvas>").appendTo(this.aladinDiv)[0],this.reticleCanvas=$("<canvas class='aladin-reticleCanvas'></canvas>").appendTo(this.aladinDiv)[0]},a.prototype.fixLayoutDimensions=function(){Utils.cssScale=void 0,this.width=$(this.aladinDiv).width(),this.height=$(this.aladinDiv).height(),this.cx=this.width/2,this.cy=this.height/2,this.largestDim=Math.max(this.width,this.height),this.smallestDim=Math.min(this.width,this.height),this.ratio=this.largestDim/this.smallestDim,this.mouseMoveIncrement=160/this.largestDim,this.imageCtx=this.imageCanvas.getContext("2d"),this.catalogCtx=this.catalogCanvas.getContext("2d"),this.reticleCtx=this.reticleCanvas.getContext("2d"),this.imageCtx.canvas.width=this.width,this.catalogCtx.canvas.width=this.width,this.reticleCtx.canvas.width=this.width,this.imageCtx.canvas.height=this.height,this.catalogCtx.canvas.height=this.height,this.reticleCtx.canvas.height=this.height,this.computeNorder(),this.requestRedraw()},a.prototype.setMode=function(c){this.mode=c,this.mode==a.SELECT?this.setCursor("crosshair"):this.setCursor("default")},a.prototype.setCursor=function(c){this.reticleCanvas.style.cursor!=c&&(this.reticleCanvas.style.cursor=c)},a.prototype.getCanvasDataURL=function(){var c=document.createElement("canvas");c.width=this.width,c.height=this.height;var d=c.getContext("2d");return d.drawImage(this.imageCanvas,0,0),d.drawImage(this.catalogCanvas,0,0),d.drawImage(this.reticleCanvas,0,0),c.toDataURL("image/png")},computeFov=function(c){var d=doComputeFov(c,c.zoomFactor);return c.mouseMoveIncrement=d/c.imageCanvas.width,d},doComputeFov=function(d,h){if(1>d.zoomFactor){fov=180}else{var c=AladinUtils.viewToXy(0,d.cy,d.width,d.height,d.largestDim,h),j=d.projection.unproject(c.x,c.y),f=AladinUtils.viewToXy(d.imageCanvas.width-1,d.cy,d.width,d.height,d.largestDim,h),g=d.projection.unproject(f.x,f.y);fov=new Coo(j.ra,j.dec).distance(new Coo(g.ra,g.dec))}return fov},updateFovDiv=function(c){if(isNaN(c.fov)){return c.fovDiv.html("FoV:"),void 0}var d;d=c.fov>1?Math.round(100*c.fov)/100+"":60*c.fov>1?Math.round(100*60*c.fov)/100+"'":Math.round(100*3600*c.fov)/100+'"',c.fovDiv.html("FoV: "+d)},createListeners=function(c){var d=!1;"ontouchstart" in window&&(d=!0),onDblClick=function(f){var i=c.imageCanvas.relMouseCoords(f),j=AladinUtils.viewToXy(i.x,i.y,c.width,c.height,c.largestDim,c.zoomFactor);try{var g=c.projection.unproject(j.x,j.y)}catch(h){return}radec=[],radec=c.cooFrame==CooFrameEnum.GAL?CooConversion.GalacticToJ2000([g.ra,g.dec]):[g.ra,g.dec],c.pointTo(radec[0],radec[1])},d||$(c.reticleCanvas).dblclick(onDblClick),$(c.reticleCanvas).bind("mousedown touchstart",function(f){var g=c.imageCanvas.relMouseCoords(f);return f.originalEvent&&f.originalEvent.targetTouches?(c.dragx=f.originalEvent.targetTouches[0].clientX,c.dragy=f.originalEvent.targetTouches[0].clientY):(c.dragx=g.x,c.dragy=g.y),c.dragging=!0,c.mode==a.PAN?c.setCursor("move"):c.mode==a.SELECT&&(c.selectStartCoo={x:c.dragx,y:c.dragy}),!1}),$(c.reticleCanvas).bind("mouseup mouseout touchend",function(h){c.mode==a.SELECT&&c.dragging&&c.aladin.fire("selectend",c.getObjectsInBBox(c.selectStartCoo.x,c.selectStartCoo.y,c.dragx-c.selectStartCoo.x,c.dragy-c.selectStartCoo.y)),c.dragging&&(c.setCursor("default"),c.dragging=!1),c.mustClearCatalog=!0,c.mustRedrawReticle=!0,c.dragx=c.dragy=null;var i=c.imageCanvas.relMouseCoords(h),f=c.closestObjects(i.x,i.y,5);if(f){var g=f[0];g.marker?(c.popup.setTitle(g.popupTitle),c.popup.setText(g.popupDesc),c.popup.setSource(g),c.popup.show()):c.aladin.objClickedFunction&&c.aladin.objClickedFunction(g)}"mouseout"!==h.type&&c.refreshProgressiveCats(),c.requestRedraw()}),$(c.reticleCanvas).bind("mousemove touchmove",function(p){p.preventDefault();var e=c.imageCanvas.relMouseCoords(p);if(!c.dragging||d){if(b(c,e.x,e.y,!0),!c.dragging&&!c.mode==a.SELECT){var m=c.closestObjects(e.x,e.y,5);m?(c.setCursor("pointer"),c.aladin.objHoveredFunction&&c.aladin.objHoveredFunction(m[0])):c.setCursor("default")}if(!d){return}}var f,i,g,k;if(p.originalEvent&&p.originalEvent.targetTouches){f=p.originalEvent.targetTouches[0].clientX-c.dragx,i=p.originalEvent.targetTouches[0].clientY-c.dragy;var o=AladinUtils.viewToXy(p.originalEvent.targetTouches[0].clientX,p.originalEvent.targetTouches[0].clientY,c.width,c.height,c.largestDim,c.zoomFactor),j=AladinUtils.viewToXy(c.dragx,c.dragy,c.width,c.height,c.largestDim,c.zoomFactor);g=c.projection.unproject(o.x,o.y),k=c.projection.unproject(j.x,j.y)}else{f=e.x-c.dragx,i=e.y-c.dragy;var o=AladinUtils.viewToXy(e.x,e.y,c.width,c.height,c.largestDim,c.zoomFactor),j=AladinUtils.viewToXy(c.dragx,c.dragy,c.width,c.height,c.largestDim,c.zoomFactor);g=c.projection.unproject(o.x,o.y),k=c.projection.unproject(j.x,j.y)}return p.originalEvent&&p.originalEvent.targetTouches?(c.dragx=p.originalEvent.targetTouches[0].clientX,c.dragy=p.originalEvent.targetTouches[0].clientY):(c.dragx=e.x,c.dragy=e.y),c.mode==a.SELECT?(c.requestRedraw(),void 0):(c.viewCenter.lon+=k.ra-g.ra,c.viewCenter.lat+=k.dec-g.dec,c.viewCenter.lat>90?c.viewCenter.lat=90:-90>c.viewCenter.lat&&(c.viewCenter.lat=-90),0>c.viewCenter.lon?c.viewCenter.lon=360+c.viewCenter.lon:c.viewCenter.lon>360&&(c.viewCenter.lon=c.viewCenter.lon%360),c.requestRedraw(),void 0)}),$(c.aladinDiv).onselectstart=function(){return !1},$(c.reticleCanvas).bind("mousewheel",function(f,g){f.preventDefault(),f.stopPropagation();var h=c.zoomLevel;return g>0?h+=1:h-=1,c.setZoomLevel(h),!1})},init=function(c){var d=new Stats;d.domElement.style.top="50px",$("#aladin-statsDiv").length>0&&$("#aladin-statsDiv")[0].appendChild(d.domElement),c.stats=d,createListeners(c),c.displayHpxGrid=!1,c.displaySurvey=!0,c.displayCatalog=!1,c.displayReticle=!0,c.fov=computeFov(c),updateFovDiv(c),c.redraw()},a.prototype.requestRedrawAtDate=function(c){this.dateRequestDraw=c},a.prototype.redraw=function(){var C=this.needRedraw;requestAnimFrame(this.redraw.bind(this));var t=(new Date).getTime();if(this.dateRequestDraw&&t>this.dateRequestDraw){this.dateRequestDraw=null}else{if(!this.needRedraw){if(!this.flagForceRedraw){return}this.flagForceRedraw=!1}}this.stats.update();var k=this.imageCtx;k.clearRect(0,0,this.imageCanvas.width,this.imageCanvas.height),this.projectionMethod==ProjectionEnum.SIN&&(this.fov>80?(k.fillStyle="rgb(0,0,0)",k.beginPath(),k.arc(this.cx,this.cy,this.cx*this.zoomFactor,0,2*Math.PI,!0),k.fill()):60>this.fov&&(k.fillStyle="rgb(0,0,0)",k.fillRect(0,0,this.imageCanvas.width,this.imageCanvas.height))),this.projection?this.projection.setCenter(this.viewCenter.lon,this.viewCenter.lat):this.projection=new Projection(this.viewCenter.lon,this.viewCenter.lat),this.projection.setProjection(this.projectionMethod);var I=this.getVisibleCells(3),g=null;this.curNorder>=3&&(g=3==this.curNorder?I:this.getVisibleCells(this.curNorder)),this.imageSurvey&&this.imageSurvey.isReady&&this.displaySurvey&&(this.imageSurvey.redrawAllsky(k,I,this.fov,this.curNorder),this.curNorder>=3&&this.imageSurvey.redrawHighres(k,g,this.curNorder)),this.displayHpxGrid&&(g&&this.curNorder>3?this.healpixGrid.redraw(k,g,this.fov,this.curNorder):this.healpixGrid.redraw(k,I,this.fov,3));var F=this.catalogCtx,m=!1;if(this.mustClearCatalog&&(F.clearRect(0,0,this.width,this.height),m=!0,this.mustClearCatalog=!1),this.catalogs&&this.catalogs.length>0&&this.displayCatalog&&(!this.dragging||a.DRAW_SOURCES_WHILE_DRAGGING)){m||(F.clearRect(0,0,this.width,this.height),m=!0);for(var w=0;this.catalogs.length>w;w++){this.catalogs[w].draw(F,this.projection,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,this.cooFrame)}}var q=this.catalogCtx;if(this.overlays&&this.overlays.length>0&&(!this.dragging||a.DRAW_SOURCES_WHILE_DRAGGING)){m||(F.clearRect(0,0,this.width,this.height),m=!0);for(var w=0;this.overlays.length>w;w++){this.overlays[w].draw(q,this.projection,this.cooFrame,this.width,this.height,this.largestDim,this.zoomFactor,this.cooFrame)}}this.mode==a.SELECT&&(mustRedrawReticle=!0);var E=this.reticleCtx;if((this.mustRedrawReticle||this.mode==a.SELECT)&&E.clearRect(0,0,this.width,this.height),this.displayReticle){if(!this.reticleCache){var H=document.createElement("canvas"),D=this.options.reticleSize;H.width=D,H.height=D;var j=H.getContext("2d");j.lineWidth=2,j.strokeStyle=this.options.reticleColor,j.beginPath(),j.moveTo(D/2,D/2+(D/2-1)),j.lineTo(D/2,D/2+2),j.moveTo(D/2,D/2-(D/2-1)),j.lineTo(D/2,D/2-2),j.moveTo(D/2+(D/2-1),D/2),j.lineTo(D/2+2,D/2),j.moveTo(D/2-(D/2-1),D/2),j.lineTo(D/2-2,D/2),j.stroke(),this.reticleCache=H}E.drawImage(this.reticleCache,this.width/2-this.reticleCache.width/2,this.height/2-this.reticleCache.height/2),this.mustRedrawReticle=!1}if(this.mode==a.SELECT&&this.dragging){E.fillStyle="rgba(100, 240, 110, 0.25)";var B=this.dragx-this.selectStartCoo.x,G=this.dragy-this.selectStartCoo.y;E.fillRect(this.selectStartCoo.x,this.selectStartCoo.y,B,G)}C==this.needRedraw&&(this.needRedraw=!1),this.dragging||this.updateObjectsLookup()},a.prototype.forceRedraw=function(){this.flagForceRedraw=!0},a.prototype.refreshProgressiveCats=function(){if(this.catalogs){for(var c=0;this.catalogs.length>c;c++){"progressivecat"==this.catalogs[c].type&&this.catalogs[c].loadNeededTiles()}}},a.prototype.getVisibleCells=function(H,X){!X&&this.imageSurvey&&(X=this.imageSurvey.cooFrame);var R,N=[],I=[],K=new SpatialVector,ab=Math.pow(2,H),O=HealpixIndex.nside2Npix(ab),U=null;if(this.fov>80){R=[];for(var Q=0;O>Q;Q++){R.push(Q)}}else{var Z=new HealpixIndex(ab);Z.init();var G=new SpatialVector,Y=AladinUtils.viewToXy(this.cx,this.cy,this.width,this.height,this.largestDim,this.zoomFactor),L=this.projection.unproject(Y.x,Y.y),W=[];X&&X!=this.cooFrame?X==CooFrameEnum.J2000?W=CooConversion.GalacticToJ2000([L.ra,L.dec]):X==CooFrameEnum.GAL&&(W=CooConversion.J2000ToGalactic([L.ra,L.dec])):W=[L.ra,L.dec],G.set(W[0],W[1]);var F=0.5*this.fov*this.ratio;F*=this.fov>60?1.6:this.fov>12?1.45:1.1,R=Z.queryDisc(G,F*Math.PI/180,!0,!0);var V=Utils.radecToPolar(W[0],W[1]);U=Z.ang2pix_nest(V.theta,V.phi),R.unshift(U)}for(var Q,P,B,J=0,E=R.length;E>J;J++){if(Q=R[J],!(Q==U&&J>0)){var D=[];corners=HealpixCache.corners_nest(Q,ab);for(var k=0;4>k;k++){if(K.setXYZ(corners[k].x,corners[k].y,corners[k].z),X&&X!=this.cooFrame){if(X==CooFrameEnum.J2000){var L=CooConversion.J2000ToGalactic([K.ra(),K.dec()]);P=L[0],B=L[1]}else{if(X==CooFrameEnum.GAL){var L=CooConversion.GalacticToJ2000([K.ra(),K.dec()]);P=L[0],B=L[1]}}}else{P=K.ra(),B=K.dec()}I[k]=this.projection.project(P,B)}if(null!=I[0]&&null!=I[1]&&null!=I[2]&&null!=I[3]){for(var k=0;4>k;k++){D[k]=AladinUtils.xyToView(I[k].X,I[k].Y,this.width,this.height,this.largestDim,this.zoomFactor)}if(!(0>D[0].vx&&0>D[1].vx&&0>D[2].vx&&0>D[3].vx||0>D[0].vy&&0>D[1].vy&&0>D[2].vy&&0>D[3].vy||D[0].vx>=this.width&&D[1].vx>=this.width&&D[2].vx>=this.width&&D[3].vx>=this.width||D[0].vy>=this.height&&D[1].vy>=this.height&&D[2].vy>=this.height&&D[3].vy>=this.height)){if(this.projection.PROJECTION==ProjectionEnum.AITOFF){var q=D[0].vx-D[2].vx,aa=D[0].vy-D[2].vy,j=Math.sqrt(q*q+aa*aa);if(j>this.largestDim/5){continue}if(q=D[1].vx-D[3].vx,aa=D[1].vy-D[3].vy,j=Math.sqrt(q*q+aa*aa),j>this.largestDim/5){continue}}D.ipix=Q,N.push(D)}}}}return N},a.prototype.getPositionsInView=function(v,p){for(var k,f,w=[],d=new SpatialVector,u=Math.pow(2,p),g=[],m=HealpixCache.corners_nest(v,u),j=0;4>j;j++){if(d.setXYZ(m[j].x,m[j].y,m[j].z),this.imageSurvey&&this.imageSurvey.cooFrame!=this.cooFrame){if(this.imageSurvey.cooFrame==CooFrameEnum.J2000){var q=CooConversion.J2000ToGalactic([d.ra(),d.dec()]);k=q[0],f=q[1]}else{if(this.imageSurvey.cooFrame==CooFrameEnum.GAL){var q=CooConversion.GalacticToJ2000([d.ra(),d.dec()]);k=q[0],f=q[1]}}}else{k=d.ra(),f=d.dec()}w[j]=this.projection.project(k,f)}if(null==w[0]||null==w[1]||null==w[2]||null==w[3]){return null}for(var j=0;4>j;j++){g[j]=AladinUtils.xyToView(w[j].X,w[j].Y,this.width,this.height,this.largestDim,this.zoomFactor)}return g},a.prototype.computeZoomFactor=function(c){return c>0?AladinUtils.getZoomFactorForAngle(180/Math.pow(1.15,c),this.projectionMethod):1+0.1*c},a.prototype.setZoom=function(c){if(!(0>c||c>180)){var d=Math.log(180/c)/Math.log(1.15);this.setZoomLevel(d)}},a.prototype.setZoomLevel=function(d){if(this.minFOV||this.maxFOV){var f=doComputeFov(this,this.computeZoomFactor(Math.max(-2,d)));if(this.maxFOV&&f>this.maxFOV||this.minFOV&&this.minFOV>f){return}}if(this.zoomLevel=Math.max(-2,d),this.zoomFactor=this.computeZoomFactor(this.zoomLevel),this.fov=computeFov(this),updateFovDiv(this),this.computeNorder(),this.forceRedraw(),this.requestRedraw(),!this.debounceProgCatOnZoom){var c=this;this.debounceProgCatOnZoom=Utils.debounce(function(){c.refreshProgressiveCats()},300)}this.debounceProgCatOnZoom()},a.prototype.computeNorder=function(){var d=this.fov/this.largestDim,f=512,c=HealpixIndex.calculateNSide(3600*f*d),g=Math.log(c)/Math.log(2);g=Math.max(g,1),this.realNorder=g,50>=this.fov&&2>=g&&(g=3),this.imageSurvey&&2>=g&&this.imageSurvey.minOrder>2&&(g=this.imageSurvey.minOrder),this.imageSurvey&&g>this.imageSurvey.maxOrder&&(g=this.imageSurvey.maxOrder),g>HealpixIndex.ORDER_MAX&&(g=HealpixIndex.ORDER_MAX),this.curNorder=g},a.prototype.untaintCanvases=function(){this.createCanvases(),createListeners(this),this.fixLayoutDimensions()},a.prototype.setImageSurvey=function(d){if(d){$.support.cors&&this.imageSurvey&&!this.imageSurvey.useCors&&this.untaintCanvases();var f;"string"==typeof d?(f=HpxImageSurvey.getSurveyFromId(d),f||(f=HpxImageSurvey.getSurveyFromId(HpxImageSurvey.DEFAULT_SURVEY_ID))):f=d,f.isReady=!1,this.imageSurvey=f;var c=this;f.init(this,function(){c.computeNorder(),f.isReady=!0,c.requestRedraw(),c.updateObjectsLookup()})}},a.prototype.requestRedraw=function(){this.needRedraw=!0},a.prototype.changeProjection=function(c){this.projectionMethod=c,this.requestRedraw()},a.prototype.changeFrame=function(d){if(this.cooFrame=d,this.cooFrame==CooFrameEnum.GAL){var f=CooConversion.J2000ToGalactic([this.viewCenter.lon,this.viewCenter.lat]);this.viewCenter.lon=f[0],this.viewCenter.lat=f[1]}else{if(this.cooFrame==CooFrameEnum.J2000){var c=CooConversion.GalacticToJ2000([this.viewCenter.lon,this.viewCenter.lat]);this.viewCenter.lon=c[0],this.viewCenter.lat=c[1]}}this.requestRedraw()},a.prototype.showHealpixGrid=function(c){this.displayHpxGrid=c,this.requestRedraw()},a.prototype.showSurvey=function(c){this.displaySurvey=c,this.requestRedraw()},a.prototype.showCatalog=function(c){this.displayCatalog=c,this.displayCatalog||(this.mustClearCatalog=!0),this.requestRedraw()},a.prototype.showReticle=function(c){this.displayReticle=c,this.mustRedrawReticle=!0,this.requestRedraw()},a.prototype.pointTo=function(d,f){if(d=parseFloat(d),f=parseFloat(f),!isNaN(d)&&!isNaN(f)){if(this.cooFrame==CooFrameEnum.J2000){this.viewCenter.lon=d,this.viewCenter.lat=f}else{if(this.cooFrame==CooFrameEnum.GAL){var c=CooConversion.J2000ToGalactic([d,f]);this.viewCenter.lon=c[0],this.viewCenter.lat=c[1]}}this.forceRedraw(),this.requestRedraw();var g=this;setTimeout(function(){g.refreshProgressiveCats()},1000)}},a.prototype.makeUniqLayerName=function(d){if(!this.layerNameExists(d)){return d}for(var f=1;;++f){var c=d+"_"+f;if(!this.layerNameExists(c)){return c}}},a.prototype.layerNameExists=function(d){for(var f=this.catalogs,c=0;f.length>c;c++){if(d==f[c].name){return !0}}return !1},a.prototype.removeLayers=function(){this.catalogs=[],this.overlays=[],this.requestRedraw()},a.prototype.addCatalog=function(c){c.name=this.makeUniqLayerName(c.name),this.catalogs.push(c),"catalog"==c.type?c.setView(this):"progressivecat"==c.type&&c.init(this)},a.prototype.addOverlay=function(c){this.overlays.push(c),c.setView(this)},a.prototype.getObjectsInBBox=function(q,m,j,d){0>j&&(q+=j,j=-j),0>d&&(m+=d,d=-d);var u,c,p,f=[];if(this.catalogs){for(var k=0;this.catalogs.length>k;k++){if(u=this.catalogs[k],u.isShowing){c=u.getSources();for(var g=0;c.length>g;g++){p=c[g],p.isShowing&&p.x&&p.y&&p.x>=q&&q+j>=p.x&&p.y>=m&&m+d>=p.y&&f.push(p)}}}}return f},a.prototype.updateObjectsLookup=function(){this.objLookup=[];var f,j,d,k,g;if(this.catalogs){for(var h=0;this.catalogs.length>h;h++){if(f=this.catalogs[h],f.isShowing){j=f.getSources();for(var c=0;j.length>c;c++){d=j[c],d.isShowing&&d.x&&d.y&&(k=d.x,g=d.y,this.objLookup[k]||(this.objLookup[k]=[]),this.objLookup[k][g]||(this.objLookup[k][g]=[]),this.objLookup[k][g].push(d))}}}}},a.prototype.closestObjects=function(m,k,g){if(!this.objLookup){return null}for(var d,p,c=0;g>=c;c++){d=p=null;for(var l=-g;g>=l;l++){if(this.objLookup[m+l]){for(var f=-g;g>=f;f++){if(this.objLookup[m+l][k+f]){if(d){var j=l*l+f*f;p>j&&(p=j,d=this.objLookup[m+l][k+f])}else{d=this.objLookup[m+l][k+f]}}}}}if(d){return d}}return null},a}(),Aladin=function(){var a=function(O,K){HealpixCache.init();var G=this;$.ajax({url:"http://aladin.u-strasbg.fr/java/nph-aladin.pl",data:{frame:"aladinLiteDic"},method:"GET",dataType:"jsonp",success:function(d){for(var f={},c=0;d.length>c;c++){f[d[c].id]=!0}for(var c=0;HpxImageSurvey.SURVEYS.length>c;c++){f[HpxImageSurvey.SURVEYS[c].id]||d.push(HpxImageSurvey.SURVEYS[c])}HpxImageSurvey.SURVEYS=d},error:function(){}}),void 0===K&&(K=this.getOptionsFromQueryString()),K=K||{};var B={};for(var E in a.DEFAULT_OPTIONS){B[E]=void 0!==K[E]?K[E]:a.DEFAULT_OPTIONS[E]}for(var E in K){void 0===a.DEFAULT_OPTIONS[E]&&(B[E]=K[E])}this.options=B,this.aladinDiv=O,$(O).addClass("aladin-container");var R=CooFrameEnum.fromString(B.cooFrame,CooFrameEnum.J2000),H=R==CooFrameEnum.J2000,L=$('<div class="aladin-location">'+(B.showFrame?'<select class="aladin-frameChoice"><option '+(H?'selected="selected"':"")+">J2000</option><option "+(H?"":'selected="selected"')+">GAL</option></select>":"")+'<span class="aladin-location-text"></span></div>').appendTo(O),J=$('<div class="aladin-fov"></div>').appendTo(O);B.showZoomControl&&$('<div class="aladin-zoomControl"><a href="#" class="zoomPlus" title="Zoom in">+</a><a href="#" class="zoomMinus" title="Zoom out">&ndash;</a></div>').appendTo(O),B.showFullscreenControl&&$('<div class="aladin-fullscreenControl aladin-maximize" title="Full screen"></div>').appendTo(O),this.fullScreenBtn=$(O).find(".aladin-fullscreenControl"),this.fullScreenBtn.click(function(){G.toggleFullscreen()}),$("<div class='aladin-logo-container'><a href='http://aladin.u-strasbg.fr/AladinLite/' title='Powered by Aladin Lite' target='_blank'><div class='aladin-logo'></div></a></div>").appendTo(O),this.boxes=[];var Q=new Location(L.find(".aladin-location-text"));if(this.view=new View(this,Q,J,R,B.zoom),B.showLayersControl){var t=$('<div class="aladin-layersControl-container" title="Manage layers"><div class="aladin-layersControl"></div></div>');t.appendTo(O);var P=$('<div class="aladin-box aladin-layerBox aladin-cb-list"></div>');P.appendTo(O),this.boxes.push(P),t.click(function(){return G.hideBoxes(),G.showLayerBox(),!1})}if(B.showGotoControl){var t=$('<div class="aladin-gotoControl-container" title="Go to position"><div class="aladin-gotoControl"></div></div>');t.appendTo(O);var F=$('<div class="aladin-box aladin-gotoBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><form class="aladin-target-form">Go to: <input type="text" placeholder="Object name/position" /></form></div>');F.appendTo(O),this.boxes.push(F);var N=F.find(".aladin-target-form input");N.on("paste keydown",function(){$(this).removeClass("aladin-unknownObject")}),t.click(function(){return G.hideBoxes(),N.val(""),N.removeClass("aladin-unknownObject"),F.show(),N.focus(),!1}),F.find(".aladin-closeBtn").click(function(){return G.hideBoxes(),!1})}if(B.showShareControl){var t=$('<div class="aladin-shareControl-container" title="Share current view"><div class="aladin-shareControl"></div></div>');t.appendTo(O);var q=$('<div class="aladin-box aladin-shareBox"><a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><b>Share</b><input type="text" class="aladin-shareInput" /></div>');q.appendTo(O),this.boxes.push(q),t.click(function(){return G.hideBoxes(),q.show(),!1}),q.find(".aladin-closeBtn").click(function(){return G.hideBoxes(),!1})}if(this.gotoObject(B.target),B.log){var M=K;M.version=a.VERSION,Logger.log("startup",M)}if(this.showReticle(B.showReticle),B.catalogUrls){for(var I=0,b=B.catalogUrls.length;b>I;I++){this.createCatalogFromVOTable(B.catalogUrls[I])}}this.setImageSurvey(B.survey),this.view.showCatalog(B.showCatalog);var D=this;$(O).find(".aladin-frameChoice").change(function(){D.setFrame($(this).val())}),$("#projectionChoice").change(function(){D.setProjection($(this).val())}),$(O).find(".aladin-target-form").submit(function(){return D.gotoObject($(this).find("input").val(),function(){$(O).find(".aladin-target-form input").addClass("aladin-unknownObject")}),!1});var k=$(O).find(".zoomPlus");k.click(function(){return D.increaseZoom(),!1}),k.bind("mousedown",function(c){c.preventDefault()});var j=$(O).find(".zoomMinus");j.click(function(){return D.decreaseZoom(),!1}),j.bind("mousedown",function(c){c.preventDefault()}),B.fullScreen&&window.setTimeout(function(){G.toggleFullscreen()},1000)};return a.VERSION="0.5.1",a.JSONP_PROXY="http://alasky.u-strasbg.fr/cgi/JSONProxy",a.DEFAULT_OPTIONS={target:"0 +0",cooFrame:"J2000",survey:"P/DSS2/color",zoom:60,showReticle:!0,showZoomControl:!0,showFullscreenControl:!0,showLayersControl:!0,showGotoControl:!0,showShareControl:!1,showCatalog:!0,showFrame:!0,fullScreen:!1,reticleColor:"rgb(178, 50, 178)",reticleSize:22,log:!0},a.prototype.toggleFullscreen=function(){this.fullScreenBtn.toggleClass("aladin-maximize aladin-restore");var b=this.fullScreenBtn.hasClass("aladin-restore");this.fullScreenBtn.attr("title",b?"Restore original size":"Full screen"),$(this.aladinDiv).toggleClass("aladin-fullscreen"),this.view.fixLayoutDimensions()},a.prototype.updateSurveysDropdownList=function(c){c=c.sort(function(g,h){return g.order?g.order&&g.order>h.order?1:-1:g.id>h.id});var d=$(this.aladinDiv).find(".aladin-surveySelection");d.empty();for(var b=0;c.length>b;b++){var f=this.view.imageSurvey.id==c[b].id;d.append($("<option />").attr("selected",f).val(c[b].id).text(c[b].name))}},a.prototype.getOptionsFromQueryString=function(){var d={},h=$.urlParam("target");h&&(d.target=h);var c=$.urlParam("frame");c&&CooFrameEnum[c]&&(d.frame=c);var j=$.urlParam("survey");j&&HpxImageSurvey.getSurveyInfoFromId(j)&&(d.survey=j);var f=$.urlParam("zoom");f&&f>0&&180>f&&(d.zoom=f);var g=$.urlParam("showReticle");g&&(d.showReticle="true"==g.toLowerCase());var b=$.urlParam("cooFrame");b&&(d.cooFrame=b);var k=$.urlParam("fullScreen");return void 0!==k&&(d.fullScreen=k),d},a.prototype.setZoom=function(b){this.view.setZoom(b)},a.prototype.setFrame=function(b){b&&(b=b.toLowerCase(),0==b.indexOf("j2000")?this.view.changeFrame(CooFrameEnum.J2000):0==b.indexOf("gal")&&this.view.changeFrame(CooFrameEnum.GAL))},a.prototype.setProjection=function(b){if(b){switch(b=b.toLowerCase()){case"aitoff":this.view.changeProjection(ProjectionEnum.AITOFF);break;case"sinus":default:this.view.changeProjection(ProjectionEnum.SIN)}}},a.prototype.gotoObject=function(c,g){var b=/[a-zA-Z]/.test(c);if(b){var h=this;Sesame.resolve(c,function(k){var l=k.Target.Resolver.jradeg,j=k.Target.Resolver.jdedeg;h.view.pointTo(l,j)},function(e){console&&(console.log("Could not resolve object name "+c),console.log(e)),g&&g()})}else{var d=new Coo;d.parse(c);var f=[d.lon,d.lat];this.view.cooFrame==CooFrameEnum.GAL&&(f=CooConversion.GalacticToJ2000(f)),this.view.pointTo(f[0],f[1])}},a.prototype.gotoPosition=function(c,d){var b;b=this.view.cooFrame==CooFrameEnum.GAL?CooConversion.GalacticToJ2000([c,d]):[c,d],this.view.pointTo(b[0],b[1])},a.prototype.gotoRaDec=function(b,c){this.view.pointTo(b,c)},a.prototype.showHealpixGrid=function(b){this.view.showHealpixGrid(b)},a.prototype.showSurvey=function(b){this.view.showSurvey(b)},a.prototype.showCatalog=function(b){this.view.showCatalog(b)},a.prototype.showReticle=function(b){this.view.showReticle(b),$("#displayReticle").attr("checked",b)},a.prototype.removeLayers=function(){this.view.removeLayers()},a.prototype.addCatalog=function(b){this.view.addCatalog(b)},a.prototype.addOverlay=function(b){this.view.addOverlay(b)},a.prototype.getBaseImageLayer=function(){return this.view.imageSurvey},a.prototype.createImageSurvey=function(c,g,b,h,d,f){return new HpxImageSurvey(c,g,b,h,d,f)},a.prototype.setImageSurvey=function(b){if(this.view.setImageSurvey(b),this.updateSurveysDropdownList(HpxImageSurvey.getAvailableSurveys()),this.options.log){var c=b;"string"!=typeof b&&(c=b.rootUrl),Logger.log("changeImageSurvey",c)}},a.prototype.increaseZoom=function(b){b||(b=5),this.view.setZoomLevel(this.view.zoomLevel+b)},a.prototype.decreaseZoom=function(b){b||(b=5),this.view.setZoomLevel(this.view.zoomLevel-b)},a.prototype.createCatalog=function(b){return new cds.Catalog(b)},a.prototype.createProgressiveCatalog=function(c,d,b,f){return new ProgressiveCat(c,d,b,f)},a.prototype.createSource=function(c,d,b){return new cds.Source(c,d,b)},a.prototype.createMarker=function(c,d,b,f){return b=b||{},b.marker=!0,new cds.Source(c,d,f,b)},a.prototype.createOverlay=function(b){return new Overlay(b)},a.prototype.createFootprintsFromSTCS=function(c){for(var f=Overlay.parseSTCS(c),b=[],g=0,d=f.length;d>g;g++){b.push(new Footprint(f[g]))}return b},a.prototype.createCatalogFromVOTable=function(c,d){var b=this,f=b.createCatalog(d);return cds.Catalog.parseVOTable(c,function(e){f.addSources(e)}),f},a.prototype.on=function(b,c){"select"===b?this.selectFunction=c:"objectClicked"==b?this.objClickedFunction=c:"objectHovered"==b&&(this.objHoveredFunction=c)},a.prototype.select=function(){this.fire("selectstart")},a.prototype.fire=function(b,c){"selectstart"===b?this.view.setMode(View.SELECT):"selectend"===b&&(this.view.setMode(View.PAN),this.selectFunction&&this.selectFunction(c))},a.prototype.hideBoxes=function(){if(this.boxes){for(var b=0;this.boxes.length>b;b++){this.boxes[b].hide()}}},a.prototype.showLayerBox=function(){var C=this,p=$(this.aladinDiv).find(".aladin-layerBox");p.empty(),p.append('<a class="aladin-closeBtn">&times;</a><div style="clear: both;"></div><div class="aladin-label">Base image layer</div><select class="aladin-surveySelection"></select><div class="aladin-cmap">Color map:<div><select class="aladin-cmSelection"></select><button class="aladin-btn aladin-btn-small aladin-reverseCm" type="button">Reverse</button></div></div><div class="aladin-box-separator"></div><div class="aladin-label">Overlay layers</div>');for(var k=p.find(".aladin-cmSelection"),f=0;ColorMap.MAPS_NAMES.length>f;f++){k.append($("<option />").text(ColorMap.MAPS_NAMES[f]))}k.val(C.getBaseImageLayer().getColorMap().map);for(var D=this.view.catalogs,b="<ul>",f=D.length-1;f>=0;f--){var w=D[f].name,g="";D[f].isShowing&&(g='checked="checked"');var m=D[f].getSources().length,j=m+" source"+(m>1?"s":"");b+='<li><div class="aladin-layerIcon" style="background: '+D[f].color+';"></div><input type="checkbox" '+g+' id="aladin_lite_'+w+'"></input><label for="aladin_lite_'+w+'" title="'+j+'">'+w+"</label></li>"}b+="</ul>",p.append(b),p.append('<div class="aladin-blank-separator"></div>');var g="";this.view.displayReticle&&(g='checked="checked"');var v=$('<input type="checkbox" '+g+' id="displayReticle" />');p.append(v).append('<label for="displayReticle">Reticle</label><br/>'),v.change(function(){C.showReticle($(this).is(":checked"))}),g="",this.view.displayHpxGrid&&(g='checked="checked"');var B=$('<input type="checkbox" '+g+' id="displayHpxGrid"/>');p.append(B).append('<label for="displayHpxGrid">HEALPix grid</label><br/>'),B.change(function(){C.showHealpixGrid($(this).is(":checked"))}),p.append('<div class="aladin-box-separator"></div><div class="aladin-label">Tools</div>');var q=$('<button class="aladin-btn" type="button">Export view as PNG</button>');p.append(q),q.click(function(){C.exportAsPNG()}),p.find(".aladin-closeBtn").click(function(){return C.hideBoxes(),!1}),this.updateSurveysDropdownList(HpxImageSurvey.getAvailableSurveys()),$(this.aladinDiv).find(".aladin-surveySelection").change(function(){var c=HpxImageSurvey.getAvailableSurveys()[$(this)[0].selectedIndex];C.setImageSurvey(c.id),k.val(C.getBaseImageLayer().getColorMap().map)}),p.find(".aladin-cmSelection").change(function(){var c=$(this).find(":selected").val();C.getBaseImageLayer().getColorMap().update(c)}),$(p).find(".aladin-reverseCm").click(function(){C.getBaseImageLayer().getColorMap().reverse()}),$(this.aladinDiv).find(".aladin-layerBox ul input").change(function(){var d=$(this).attr("id").substr(12),c=C.layerByName(d);$(this).is(":checked")?c.show():c.hide()}),p.show()},a.prototype.layerByName=function(c){for(var d=this.view.catalogs,b=0;this.view.catalogs.length>b;b++){if(c==d[b].name){return d[b]}}return null},a.prototype.exportAsPNG=function(){var b=this.view.getCanvasDataURL();window.open(b,"Aladin Lite snapshot")},a.prototype.setFOVRange=function(c,d){if(c>d){var b=c;c=d,d=b}this.view.minFOV=c,this.view.maxFOV=d},a}(),A.aladin=function(a,b){return new Aladin($(a)[0],b)},$&&($.aladin=A.aladin);var FacetsComponents=new Object();FacetsComponents.sigle_level_manager=function(b){$("#collapse"+b).on("hide",function(){$("#icon"+b).attr("class","icon-chevron-right");$("#apply_menu_"+b).hide()});$("#collapse"+b).on("show",function(){$("#icon"+b).attr("class","icon-chevron-down");$("#apply_menu_"+b).show()});var a=5;if($("#facetList"+b+" > li:hidden").length>0){$("#collapse"+b+" a.more").show();$("#collapse"+b+" a.more").on("click",function(){var c=$("#facetList"+b+" > li:hidden");for(var d=0;d<a;d++){$(c[d]).show("fast",function(){if($("#facetList"+b+" > li:hidden").length==0){$("#collapse"+b+" a.more").hide()}})}if($("#collapse"+b+" a.less").is(":hidden")){$("#collapse"+b+" a.less").show()}});$("#collapse"+b+" a.less").on("click",function(){var d=$("#facetList"+b+" > li:visible");var c=a;if((d.length-a)<a){c=d.length-a}for(var e=1;e<=c;e++){$(d[d.length-e]).hide("fast",function(){if($("#facetList"+b+" > li:visible").length==a){$("#collapse"+b+" a.less").hide()}})}if($("#collapse"+b+" a.more").is(":hidden")){$("#collapse"+b+" a.more").show()}})}};FacetsComponents.hierarchical_level_one_manager=function(d){$("#collapse"+d).on("hide",function(){$("#icon"+d).attr("class","icon-chevron-right");$("#apply_menu_"+d).hide()});$("#collapse"+d).on("show",function(){$("#icon"+d).attr("class","icon-chevron-down");$("#apply_menu_"+d).show()});var a=5;if($("#facetList"+d+" > li:hidden").length>0){$("#collapse"+d+" a.more").show();$("#collapse"+d+" a.more").on("click",function(){var e=$("#facetList"+d+" > li:hidden");for(var f=0;f<a;f++){$(e[f]).show("fast",function(){if($("#facetList"+d+" > li:hidden").length==0){$("#collapse"+d+" a.more").hide()}})}if($("#collapse"+d+" a.less").is(":hidden")){$("#collapse"+d+" a.less").show()}});$("#collapse"+d+" a.less").on("click",function(){var f=$("#facetList"+d+" > li:visible");var e=a;if((f.length-a)<a){e=f.length-a}for(var g=1;g<=e;g++){$(f[f.length-g]).hide("fast",function(){if($("#facetList"+d+" > li:visible").length==a){$("#collapse"+d+" a.less").hide()}})}if($("#collapse"+d+" a.more").is(":hidden")){$("#collapse"+d+" a.more").show()}})}var c=$("span.expCollSubFacet"+d+".openByDefault");if(c.length>0){for(var b=0;b<c.length;b++){FacetsComponents.hierarchical_level_two_builder(c[b])}}};FacetsComponents.hierarchical_level_two_builder=function(c){$(c).toggleClass("icon-chevron-right");$(c).toggleClass("icon-chevron-down");var b=$(c).data("id_sublevel");$("#"+b).toggleClass("in");if($(c).data("sublevel_facets")===undefined){$("#"+b).html("&nbsp;").spin("ads_facets");var a=GlobalVariables.FACETS_REQUESTS+"?"+$(c).data("query_params_url")+"&facet_field="+$(c).data("templ_facetid")+"&facet_prefix="+$(c).data("facet_prefix_next_level");$.get(a).done(function(d){$("#"+b).html(d);$("#"+b).removeClass("emptySubFacets");$(c).data("sublevel_facets",true)}).fail(function(){$("#"+b).html("Error retrieving facets")}).always(function(){$("#"+b).spin(false)})}};FacetsComponents.hierarchical_level_two_manager=function(b){var a=5;if($("li."+b+":hidden").length>0){$("#more_"+b).show();$("#more_"+b).on("click",function(){var d=$("li."+b+":hidden");for(var c=0;c<a;c++){$(d[c]).show()}if($("#less_"+b).is(":hidden")){$("#less_"+b).show()}if($("li."+b+":hidden").length==0){$(this).hide()}});$("#less_"+b).on("click",function(){var d=$("li."+b+":visible");var c=a;if((d.length-a)<a){c=d.length-a}for(var e=1;e<=c;e++){$(d[d.length-e]).hide()}if($("#more_"+b).is(":hidden")){$("#more_"+b).show()}if($("li."+b+":visible").length==a){$(this).hide()}})}};FacetsComponents.multiple_facet_selection=function(d){var e=$(d).data("facetid_html");var c=$(d).data("facetid_original");if(c===undefined){c=null}var b=$(d).data("value");var a=$("#facetForm_"+e).data("selected_checkbox_facets");if($(d).is(":checked")){a[b]=true}else{delete a[b]}this.apply_facet_manager(e,c)};FacetsComponents.apply_facet_manager=function(c,b){var a=$("#facetForm_"+c).data("selected_checkbox_facets");if(Object.keys(a).length==0){if(!$("#apply_menu_"+c+">ul>li.op_excl").hasClass("disabled")){$("#apply_menu_"+c+">ul>li.op_excl").addClass("disabled").off("click")}if(!$("#apply_menu_"+c+" >a").hasClass("disabled")){$("#apply_menu_"+c+" >a").addClass("disabled")}}else{if(Object.keys(a).length==1){if($("#apply_menu_"+c+" >a").hasClass("disabled")){$("#apply_menu_"+c+" >a").removeClass("disabled")}if($("#apply_menu_"+c+">ul>li.op_excl").hasClass("disabled")){$("#apply_menu_"+c+">ul>li.op_excl").removeClass("disabled").on("click",function(d){FacetsComponents.apply_facet_url_manager(c,b,"EXCL");d.stopPropagation()})}if(!$("#apply_menu_"+c+">ul>li.op_and").hasClass("disabled")){$("#apply_menu_"+c+">ul>li.op_and").addClass("disabled").off("click")}if(!$("#apply_menu_"+c+">ul>li.op_or").hasClass("disabled")){$("#apply_menu_"+c+">ul>li.op_or").addClass("disabled").off("click")}}else{if(Object.keys(a).length>1){if($("#apply_menu_"+c+" >a").hasClass("disabled")){$("#apply_menu_"+c+" >a").removeClass("disabled")}$("#apply_menu_"+c+">ul>li.op_and").removeClass("disabled").on("click",function(d){FacetsComponents.apply_facet_url_manager(c,b,"AND");d.stopPropagation()});$("#apply_menu_"+c+">ul>li.op_or").removeClass("disabled").on("click",function(d){FacetsComponents.apply_facet_url_manager(c,b,"OR");d.stopPropagation()})}}}};FacetsComponents.apply_facet_url_manager=function(f,c,e){e=e.toUpperCase();var b=Object.keys($("#facetForm_"+f).data("selected_checkbox_facets"));var d=window.location.href+"&";if(c==null){d+=f}else{d+=c}d+="=";if(e=="EXCL"){d+="-"}d+="(";for(var a in b){d+=encodeURIComponent('"'+b[a]+'"');if(a<(b.length-1)){if((e=="AND")||(e=="OR")){d+="+"+e+"+"}else{if(e=="EXCL"){d+="+OR+"}}}}d+=")";window.location=d.replace("%20","+").replace(" ","+")};FacetsComponents.date_facet_manager=function(b,a){$("#collapse"+a).on("hide",function(){$("#icon"+a).attr("class","icon-chevron-right")});$("#collapse"+a).on("show",function(){$("#icon"+a).attr("class","icon-chevron-down")});$("#facetForm_"+a+" input[name=mindate]").val(b.min);$("#facetForm_"+a+" input[name=maxdate]").val(b.max);$("#facetForm_"+a+" input").on("change keyup",function(){FacetsComponents.button_date_facet_manager(a)});$("#slider_"+a).slider({range:true,min:b.min,max:b.max,values:[b.min,b.max],slide:function(c,d){$("#facetForm_"+a+" input[name=mindate]").val(d.values[0]);$("#facetForm_"+a+" input[name=maxdate]").val(d.values[1]);FacetsComponents.button_date_facet_manager(a)}});if(b.min!=0&&b.max!=0){FacetsComponents.plot_dates_histogram(b,a)}};FacetsComponents.button_date_facet_manager=function(c){var a=$("#slider_"+c).slider("option","min");var e=$("#facetForm_"+c+" input[name=mindate]").val();var b=$("#slider_"+c).slider("option","max");var d=$("#facetForm_"+c+" input[name=maxdate]").val();if(isInt(e)&&isInt(d)&&(parseInt(e)>=a)&&(parseInt(d)<=b)&&(parseInt(e)<=parseInt(d))){if($("#facetForm_"+c+" input").hasClass("date_facet_input_error")){$("#facetForm_"+c+" input").removeClass("date_facet_input_error")}$("#slider_"+c).slider("values",0,e).slider("values",1,d);if(e>a||d<b){$('span[data-rel="date_range_limit_'+c+'"]').removeClass("disabled").on("click",function(f){FacetsComponents.apply_date_facet_url(c);f.stopPropagation()})}else{$('span[data-rel="date_range_limit_'+c+'"]').addClass("disabled").off("click")}}else{if(!$('span[data-rel="date_range_limit_'+c+'"]').hasClass("disabled")){$('span[data-rel="date_range_limit_'+c+'"]').addClass("disabled").off("click")}if(!isInt(e)||!(parseInt(e)>=a)){$("#facetForm_"+c+" input[name=mindate]").addClass("date_facet_input_error")}if(!isInt(d)||!(parseInt(d)<=b)){$("#facetForm_"+c+" input[name=maxdate]").addClass("date_facet_input_error")}if(!(parseInt(e)<=parseInt(d))){if(!$(document.activeElement).hasClass("date_facet_input_error")){$(document.activeElement).addClass("date_facet_input_error")}}}};FacetsComponents.apply_date_facet_url=function(d){var a=$("#facetForm_"+d+" input[name=mindate]").val();var b=$("#facetForm_"+d+" input[name=maxdate]").val();var c=window.location.href+"&"+d+"=["+a+" TO "+b+"]";window.location=c};FacetsComponents.plot_dates_histogram=function(f,e){var g=f.histogram.map(function(h){if(h[0][0]==h[0][1]){return{x:h[0][1],y:h[1]}}else{return{x:h[0][0]+"-"+h[0][1],y:h[1]}}});var d={top:10,left:35,bottom:55,right:10},c=$("#histogram_"+e).width()-d.left,a=200;var b={width:c,height:a,padding:d,data:[{name:"year_range",values:g}],scales:[{name:"x",type:"ordinal",range:"width",domain:{data:"year_range",field:"data.x"}},{name:"y",range:"height",nice:true,domain:{data:"year_range",field:"data.y"}}],axes:[{type:"x",scale:"x",properties:{labels:{angle:{value:-55},align:{value:"right"},baseline:{value:"middle"},fontSize:{value:10}}}},{type:"y",scale:"y",format:"s",properties:{labels:{fontSize:{value:10}}}}],marks:[{type:"rect",from:{data:"year_range"},properties:{enter:{x:{scale:"x",field:"data.x"},width:{scale:"x",band:true,offset:-1},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0}},update:{fill:{value:"steelblue"}}}}]};vg.parse.spec(b,function(i){var h=i({el:"#histogram_"+e,renderer:"svg"});h.update()})};FacetsComponents.topn_facet_manager=function(b,c){$("#collapse"+c).on("hide",function(){$("#icon"+c).attr("class","icon-chevron-right")});$("#collapse"+c).on("show",function(){$("#icon"+c).attr("class","icon-chevron-down")});$("#facetForm_"+c+" input[name=topn_value]").val(b);$("#facetForm_"+c+" input").on("change keyup",function(){FacetsComponents.button_topn_facet_manager(c)});$("#slider_"+c).slider({range:"min",min:1,max:b,value:b,slide:function(d,e){$("#facetForm_"+c+" input[name=topn_value]").val(e.value);FacetsComponents.button_topn_facet_manager(c)}});var a=new Uri(window.location.href);if(a.getQueryParamValue("topn")!==undefined){$('span[data-rel="topn_reset_'+c+'"]').removeClass("disabled").on("click",function(d){window.location=decodeURIComponent(a.deleteQueryParam("topn").toString());d.stopPropagation()})}};FacetsComponents.button_topn_facet_manager=function(c){var b=$("#slider_"+c).slider("option","max");var a=$("#facetForm_"+c+" input[name=topn_value]").val();if((isInt(a))&&(parseInt(a)<=b)){if($("#facetForm_"+c+" input").hasClass("topn_input_error")){$("#facetForm_"+c+" input").removeClass("topn_input_error")}$("#slider_"+c).slider("value",a);if(a<b){$('span[data-rel="topn_limit_'+c+'"]').removeClass("disabled").on("click",function(d){FacetsComponents.apply_topn_url(c);d.stopPropagation()})}else{$('span[data-rel="topn_limit_'+c+'"]').addClass("disabled").off("click")}}else{if(!$('span[data-rel="topn_limit_'+c+'"]').hasClass("disabled")){$('span[data-rel="topn_limit_'+c+'"]').addClass("disabled").off("click")}$("#facetForm_"+c+" input[name=topn_value]").addClass("topn_input_error")}};FacetsComponents.apply_topn_url=function(c){var b=$("#facetForm_"+c+" input[name=topn_value]").val();var a=new Uri(window.location.href);a.replaceQueryParam(c,b);window.location=decodeURIComponent(a.toString())};function search_form_drawer_manager(b,a){$(b).slideToggle("fast",function(){if($(b).is(":visible")){$(a).children("i").removeClass("icon-plus").addClass("icon-minus")}else{$(a).children("i").removeClass("icon-minus").addClass("icon-plus")}})}$(document).ready(function(){$(":input").removeAttr("disabled");$("form").submit(function(){$(this).find("input, select").filter(function(){return $(this).val()==""}).attr("disabled","disabled");return true});var c=$("#advanced_options :input[type=text]");var b=$("#advanced_options :input[type=checkbox]");for(var a=0;a<c.length;a++){if($(c[a]).val()!=""){search_form_drawer_manager($("#advanced_options"),$("#drawer_handler"));break}}for(var a=0;a<b.length;a++){if($(b[a]).attr("checked")=="checked"){search_form_drawer_manager($("#advanced_options"),$("#drawer_handler"));break}}$(".add-open-permanent").on("click",function(d){$(this).parents(".dropdown").addClass("open-permanent")});$(document).on("click",function(d){if($(d.target).parents(".donothide").length<=0){$(".open-permanent").removeClass("open-permanent")}});$("select.buttonSelect").buttonSelect({button:'<div class="btn btn-mini" />',span:'<span class="btn btn-mini" style="width: 80px;" />',next:'<i class="icon icon-plus"></i>',prev:'<i class="icon icon-minus"></i>'})});